(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{2:function(t,n,e){"use strict";var r=function(t,n){return t<n?-1:n<t?1:n<=t?0:NaN},k=function(o){return 1===o.length&&(o=function(e){return function(t,n){return r(e(t),n)}}(o)),{left:function(t,n,e,r){for(null==e&&(e=0),null==r&&(r=t.length);e<r;){var i=e+r>>>1;o(t[i],n)<0?e=1+i:r=i}return e},right:function(t,n,e,r){for(null==e&&(e=0),null==r&&(r=t.length);e<r;){var i=e+r>>>1;0<o(t[i],n)?r=i:e=1+i}return e}}};var i=k(r),o=i.right,a=(i.left,o);function u(t,n){var e,r,i,o=t.length,u=-1;if(null==n){for(;++u<o;)if(null!=(e=t[u])&&e<=e)for(r=i=e;++u<o;)null!=(e=t[u])&&(e<r&&(r=e),i<e&&(i=e))}else for(;++u<o;)if(null!=(e=n(t[u],u,t))&&e<=e)for(r=i=e;++u<o;)null!=(e=n(t[u],u,t))&&(e<r&&(r=e),i<e&&(i=e));return[r,i]}var s=Array.prototype,c=(s.slice,s.map,Math.sqrt(50)),h=Math.sqrt(10),l=Math.sqrt(2),f=function(t,n,e){var r,i,o,u,a=-1;if(e=+e,(t=+t)===(n=+n)&&0<e)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(u=p(t,n,e))||!isFinite(u))return[];if(0<u)for(t=Math.ceil(t/u),n=Math.floor(n/u),o=new Array(i=Math.ceil(n-t+1));++a<i;)o[a]=(t+a)*u;else for(t=Math.floor(t*u),n=Math.ceil(n*u),o=new Array(i=Math.ceil(t-n+1));++a<i;)o[a]=(t-a)/u;return r&&o.reverse(),o};function p(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return 0<=i?(c<=o?10:h<=o?5:l<=o?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(c<=o?10:h<=o?5:l<=o?2:1)}function N(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return c<=o?i*=10:h<=o?i*=5:l<=o&&(i*=2),n<t?-i:i}var T=function(t){for(var n,e,r,i=t.length,o=-1,u=0;++o<i;)u+=t[o].length;for(e=new Array(u);0<=--i;)for(n=(r=t[i]).length;0<=--n;)e[--u]=r[n];return e};var _=Array.prototype.slice,S=function(t){return t},C=1,E=2,A=3,U=4,z=1e-6;function D(t){return"translate("+(t+.5)+",0)"}function P(t){return"translate(0,"+(t+.5)+")"}function L(){return!this.__axis}function v(v,y){var g=[],d=null,m=null,x=6,w=6,M=3,b=v===C||v===U?-1:1,k=v===U||v===E?"x":"y",N=v===C||v===A?D:P;function n(t){var n=null==d?y.ticks?y.ticks.apply(y,g):y.domain():d,e=null==m?y.tickFormat?y.tickFormat.apply(y,g):S:m,r=Math.max(x,0)+M,i=y.range(),o=+i[0]+.5,u=+i[i.length-1]+.5,a=(y.bandwidth?function(n){var e=Math.max(0,n.bandwidth()-1)/2;return n.round()&&(e=Math.round(e)),function(t){return+n(t)+e}}:function(n){return function(t){return+n(t)}})(y.copy()),s=t.selection?t.selection():t,c=s.selectAll(".domain").data([null]),h=s.selectAll(".tick").data(n,y).order(),l=h.exit(),f=h.enter().append("g").attr("class","tick"),p=h.select("line"),_=h.select("text");c=c.merge(c.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),h=h.merge(f),p=p.merge(f.append("line").attr("stroke","currentColor").attr(k+"2",b*x)),_=_.merge(f.append("text").attr("fill","currentColor").attr(k,b*r).attr("dy",v===C?"0em":v===A?"0.71em":"0.32em")),t!==s&&(c=c.transition(t),h=h.transition(t),p=p.transition(t),_=_.transition(t),l=l.transition(t).attr("opacity",z).attr("transform",function(t){return isFinite(t=a(t))?N(t):this.getAttribute("transform")}),f.attr("opacity",z).attr("transform",function(t){var n=this.parentNode.__axis;return N(n&&isFinite(n=n(t))?n:a(t))})),l.remove(),c.attr("d",v===U||v==E?w?"M"+b*w+","+o+"H0.5V"+u+"H"+b*w:"M0.5,"+o+"V"+u:w?"M"+o+","+b*w+"V0.5H"+u+"V"+b*w:"M"+o+",0.5H"+u),h.attr("opacity",1).attr("transform",function(t){return N(a(t))}),p.attr(k+"2",b*x),_.attr(k,b*r).text(e),s.filter(L).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",v===E?"start":v===U?"end":"middle"),s.each(function(){this.__axis=a})}return n.scale=function(t){return arguments.length?(y=t,n):y},n.ticks=function(){return g=_.call(arguments),n},n.tickArguments=function(t){return arguments.length?(g=null==t?[]:_.call(t),n):g.slice()},n.tickValues=function(t){return arguments.length?(d=null==t?null:_.call(t),n):d&&d.slice()},n.tickFormat=function(t){return arguments.length?(m=t,n):m},n.tickSize=function(t){return arguments.length?(x=w=+t,n):x},n.tickSizeInner=function(t){return arguments.length?(x=+t,n):x},n.tickSizeOuter=function(t){return arguments.length?(w=+t,n):w},n.tickPadding=function(t){return arguments.length?(M=+t,n):M},n}function y(t){return v(A,t)}var g={value:function(){}};function d(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new m(r)}function m(t){this._=t}function x(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function w(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=g,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}m.prototype=d.prototype={constructor:m,on:function(t,n){var e,r=this._,i=function(t,r){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");if(0<=e&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}(t+"",r),o=-1,u=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<u;)if(e=(t=i[o]).type)r[e]=w(r[e],t.name,n);else if(null==n)for(e in r)r[e]=w(r[e],t.name,null);return this}for(;++o<u;)if((e=(t=i[o]).type)&&(e=x(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new m(t)},call:function(t,n){if(0<(e=arguments.length-2))for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};function M(t){var n=t+="",e=n.indexOf(":");return 0<=e&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),R.hasOwnProperty(n)?{space:R[n],local:t}:t}var I=d,b="http://www.w3.org/1999/xhtml",R={svg:"http://www.w3.org/2000/svg",xhtml:b,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function F(t){var n=M(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===b&&t.documentElement.namespaceURI===b?t.createElement(e):t.createElementNS(n,e)}})(n)}function Y(){}function q(t){return null==t?Y:function(){return this.querySelector(t)}}function H(){return[]}function j(t){return null==t?H:function(){return this.querySelectorAll(t)}}function O(t){return function(){return this.matches(t)}}function V(t){return new Array(t.length)}function X(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}X.prototype={constructor:X,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function B(t,n,e,r,i,o){for(var u,a=0,s=n.length,c=o.length;a<c;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new X(t,o[a]);for(;a<s;++a)(u=n[a])&&(i[a]=u)}function Z(t,n,e,r,i,o,u){var a,s,c,h={},l=n.length,f=o.length,p=new Array(l);for(a=0;a<l;++a)(s=n[a])&&(p[a]=c="$"+u.call(s,s.__data__,a,n),c in h?i[a]=s:h[c]=s);for(a=0;a<f;++a)(s=h[c="$"+u.call(t,o[a],a,o)])?((r[a]=s).__data__=o[a],h[c]=null):e[a]=new X(t,o[a]);for(a=0;a<l;++a)(s=n[a])&&h[p[a]]===s&&(i[a]=s)}function $(t,n){return t<n?-1:n<t?1:n<=t?0:NaN}var W=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function J(t,n){return t.style.getPropertyValue(n)||W(t).getComputedStyle(t,null).getPropertyValue(n)}function Q(t){return t.trim().split(/^|\s+/)}function G(t){return t.classList||new K(t)}function K(t){this._node=t,this._names=Q(t.getAttribute("class")||"")}function tt(t,n){for(var e=G(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function nt(t,n){for(var e=G(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}K.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);0<=n&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};function et(){this.textContent=""}function rt(){this.innerHTML=""}function it(){this.nextSibling&&this.parentNode.appendChild(this)}function ot(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ut(){return null}function at(){var t=this.parentNode;t&&t.removeChild(this)}function st(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function ct(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var ht={},lt=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ht={mouseenter:"mouseover",mouseleave:"mouseout"}));function ft(e,t,n){return e=pt(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function pt(e,r,i){return function(t){var n=lt;lt=t;try{e.call(this,this.__data__,r,i)}finally{lt=n}}}function _t(o){return function(){var t=this.__on;if(t){for(var n,e=0,r=-1,i=t.length;e<i;++e)n=t[e],o.type&&n.type!==o.type||n.name!==o.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?t.length=r:delete this.__on}}}function vt(s,c,h){var l=ht.hasOwnProperty(s.type)?ft:pt;return function(t,n,e){var r,i=this.__on,o=l(c,n,e);if(i)for(var u=0,a=i.length;u<a;++u)if((r=i[u]).type===s.type&&r.name===s.name)return this.removeEventListener(r.type,r.listener,r.capture),this.addEventListener(r.type,r.listener=o,r.capture=h),void(r.value=c);this.addEventListener(s.type,o,h),r={type:s.type,name:s.name,value:c,listener:o,capture:h},i?i.push(r):this.__on=[r]}}function yt(t,n,e,r){var i=lt;t.sourceEvent=lt,lt=t;try{return n.apply(e,r)}finally{lt=i}}function gt(t,n,e){var r=W(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}var dt=[null];function mt(t,n){this._groups=t,this._parents=n}function xt(){return new mt([[document.documentElement]],dt)}mt.prototype=xt.prototype={constructor:mt,select:function(t){"function"!=typeof t&&(t=q(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u,a=n[i],s=a.length,c=r[i]=new Array(s),h=0;h<s;++h)(o=a[h])&&(u=t.call(o,o.__data__,h,a))&&("__data__"in o&&(u.__data__=o.__data__),c[h]=u);return new mt(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=j(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var u,a=n[o],s=a.length,c=0;c<s;++c)(u=a[c])&&(r.push(t.call(u,u.__data__,c,a)),i.push(u));return new mt(r,i)},filter:function(t){"function"!=typeof t&&(t=O(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,s=r[i]=[],c=0;c<a;++c)(o=u[c])&&t.call(o,o.__data__,c,u)&&s.push(o);return new mt(r,this._parents)},data:function(t,n){if(!t)return p=new Array(this.size()),c=-1,this.each(function(t){p[++c]=t}),p;var e=n?Z:B,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,u=new Array(o),a=new Array(o),s=new Array(o),c=0;c<o;++c){var h=r[c],l=i[c],f=l.length,p=t.call(h,h&&h.__data__,c,r),_=p.length,v=a[c]=new Array(_),y=u[c]=new Array(_);e(h,l,v,y,s[c]=new Array(f),p,n);for(var g,d,m=0,x=0;m<_;++m)if(g=v[m]){for(x<=m&&(x=m+1);!(d=y[x])&&++x<_;);g._next=d||null}}return(u=new mt(u,r))._enter=a,u._exit=s,u},enter:function(){return new mt(this._enter||this._groups.map(V),this._parents)},exit:function(){return new mt(this._exit||this._groups.map(V),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var s,c=n[a],h=e[a],l=c.length,f=u[a]=new Array(l),p=0;p<l;++p)(s=c[p]||h[p])&&(f[p]=s);for(;a<r;++a)u[a]=n[a];return new mt(u,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];0<=--o;)(r=i[o])&&(u&&4^r.compareDocumentPosition(u)&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e=e||$;for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var u,a=n[o],s=a.length,c=i[o]=new Array(s),h=0;h<s;++h)(u=a[h])&&(c[h]=u);c.sort(t)}return new mt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},attr:function(t,n){var e=M(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(n,e){return function(){var t=e.apply(this,arguments);null==t?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}:function(n,e){return function(){var t=e.apply(this,arguments);null==t?this.removeAttribute(n):this.setAttribute(n,t)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return 1<arguments.length?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(n,e,r){return function(){var t=e.apply(this,arguments);null==t?this.style.removeProperty(n):this.style.setProperty(n,t,r)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):J(this.node(),t)},property:function(t,n){return 1<arguments.length?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(n,e){return function(){var t=e.apply(this,arguments);null==t?delete this[n]:this[n]=t}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=Q(t+"");if(arguments.length<2){for(var r=G(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?tt:nt)(this,t)}}:n?function(t){return function(){tt(this,t)}}:function(t){return function(){nt(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?et:("function"==typeof t?function(n){return function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?rt:("function"==typeof t?function(n){return function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(it)},lower:function(){return this.each(ot)},append:function(t){var n="function"==typeof t?t:F(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:F(t),r=null==n?ut:"function"==typeof n?n:q(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(at)},clone:function(t){return this.select(t?ct:st)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return 0<=e&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?vt:_t,null==e&&(e=!1),r=0;r<u;++r)this.each(a(o[r],n,e));return this}var a=this.node().__on;if(a)for(var s,c=0,h=a.length;c<h;++c)for(r=0,s=a[c];r<u;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return gt(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return gt(this,t,n)}})(t,n))}};var wt=xt,Mt=function(t){return"string"==typeof t?new mt([[document.querySelector(t)]],[document.documentElement]):new mt([[t]],dt)},bt=0;function kt(){this._="@"+(++bt).toString(36)}kt.prototype=function(){return new kt}.prototype={constructor:kt,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function Nt(){for(var t,n=lt;t=n.sourceEvent;)n=t;return n}function Tt(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}var St=function(t){var n=Nt();return n.changedTouches&&(n=n.changedTouches[0]),Tt(t,n)},Ct=function(t,n,e){arguments.length<3&&(e=n,n=Nt().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return Tt(t,r);return null};var Et=function(){lt.preventDefault(),lt.stopImmediatePropagation()},At=function(t){var n=t.document.documentElement,e=Mt(t).on("dragstart.drag",Et,!0);"onselectstart"in n?e.on("selectstart.drag",Et,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")};function Ut(t,n){var e=t.document.documentElement,r=Mt(t).on("dragstart.drag",null);n&&(r.on("click.drag",Et,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function zt(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Dt(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Pt(){}var Lt=1/.7,Rt="\\s*([+-]?\\d+)\\s*",Ft="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qt=/^#([0-9a-f]{3})$/,Ht=/^#([0-9a-f]{6})$/,jt=new RegExp("^rgb\\("+[Rt,Rt,Rt]+"\\)$"),It=new RegExp("^rgb\\("+[Yt,Yt,Yt]+"\\)$"),Ot=new RegExp("^rgba\\("+[Rt,Rt,Rt,Ft]+"\\)$"),Vt=new RegExp("^rgba\\("+[Yt,Yt,Yt,Ft]+"\\)$"),Xt=new RegExp("^hsl\\("+[Ft,Yt,Yt]+"\\)$"),Bt=new RegExp("^hsla\\("+[Ft,Yt,Yt,Ft]+"\\)$"),Zt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function $t(){return this.rgb().formatHex()}function Wt(){return this.rgb().formatRgb()}function Jt(t){var n;return t=(t+"").trim().toLowerCase(),(n=qt.exec(t))?new nn((n=parseInt(n[1],16))>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):(n=Ht.exec(t))?Qt(parseInt(n[1],16)):(n=jt.exec(t))?new nn(n[1],n[2],n[3],1):(n=It.exec(t))?new nn(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Ot.exec(t))?Gt(n[1],n[2],n[3],n[4]):(n=Vt.exec(t))?Gt(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Xt.exec(t))?un(n[1],n[2]/100,n[3]/100,1):(n=Bt.exec(t))?un(n[1],n[2]/100,n[3]/100,n[4]):Zt.hasOwnProperty(t)?Qt(Zt[t]):"transparent"===t?new nn(NaN,NaN,NaN,0):null}function Qt(t){return new nn(t>>16&255,t>>8&255,255&t,1)}function Gt(t,n,e,r){return r<=0&&(t=n=e=NaN),new nn(t,n,e,r)}function Kt(t){return t instanceof Pt||(t=Jt(t)),t?new nn((t=t.rgb()).r,t.g,t.b,t.opacity):new nn}function tn(t,n,e,r){return 1===arguments.length?Kt(t):new nn(t,n,e,null==r?1:r)}function nn(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function en(){return"#"+on(this.r)+on(this.g)+on(this.b)}function rn(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function on(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function un(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||1<=e?t=n=NaN:n<=0&&(t=NaN),new cn(t,n,e,r)}function an(t){if(t instanceof cn)return new cn(t.h,t.s,t.l,t.opacity);if(t instanceof Pt||(t=Jt(t)),!t)return new cn;if(t instanceof cn)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),u=NaN,a=o-i,s=(o+i)/2;return a?(u=n===o?(e-r)/a+6*(e<r):e===o?(r-n)/a+2:(n-e)/a+4,a/=s<.5?o+i:2-o-i,u*=60):a=0<s&&s<1?0:u,new cn(u,a,s,t.opacity)}function sn(t,n,e,r){return 1===arguments.length?an(t):new cn(t,n,e,null==r?1:r)}function cn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function hn(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}zt(Pt,Jt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:$t,formatHex:$t,formatHsl:function(){return an(this).formatHsl()},formatRgb:Wt,toString:Wt}),zt(nn,tn,Dt(Pt,{brighter:function(t){return t=null==t?Lt:Math.pow(Lt,t),new nn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new nn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:en,formatHex:en,formatRgb:rn,toString:rn})),zt(cn,sn,Dt(Pt,{brighter:function(t){return t=null==t?Lt:Math.pow(Lt,t),new cn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new cn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new nn(hn(240<=t?t-240:120+t,i,r),hn(t,i,r),hn(t<120?240+t:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var ln=Math.PI/180,fn=180/Math.PI,pn=.96422,_n=1,vn=.82521,yn=4/29,gn=6/29,dn=3*gn*gn,mn=gn*gn*gn;function xn(t){if(t instanceof Mn)return new Mn(t.l,t.a,t.b,t.opacity);if(t instanceof En)return An(t);t instanceof nn||(t=Kt(t));var n,e,r=Tn(t.r),i=Tn(t.g),o=Tn(t.b),u=bn((.2225045*r+.7168786*i+.0606169*o)/_n);return r===i&&i===o?n=e=u:(n=bn((.4360747*r+.3850649*i+.1430804*o)/pn),e=bn((.0139322*r+.0971045*i+.7141733*o)/vn)),new Mn(116*u-16,500*(n-u),200*(u-e),t.opacity)}function wn(t,n,e,r){return 1===arguments.length?xn(t):new Mn(t,n,e,null==r?1:r)}function Mn(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function bn(t){return mn<t?Math.pow(t,1/3):t/dn+yn}function kn(t){return gn<t?t*t*t:dn*(t-yn)}function Nn(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Tn(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Sn(t){if(t instanceof En)return new En(t.h,t.c,t.l,t.opacity);if(t instanceof Mn||(t=xn(t)),0===t.a&&0===t.b)return new En(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*fn;return new En(n<0?360+n:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Cn(t,n,e,r){return 1===arguments.length?Sn(t):new En(t,n,e,null==r?1:r)}function En(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function An(t){if(isNaN(t.h))return new Mn(t.l,0,0,t.opacity);var n=t.h*ln;return new Mn(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}zt(Mn,wn,Dt(Pt,{brighter:function(t){return new Mn(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Mn(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new nn(Nn(3.1338561*(n=pn*kn(n))-1.6168667*(t=_n*kn(t))-.4906146*(e=vn*kn(e))),Nn(-.9787684*n+1.9161415*t+.033454*e),Nn(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),zt(En,Cn,Dt(Pt,{brighter:function(t){return new En(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new En(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return An(this).rgb()}}));var Un=1.78277,zn=-.29227,Dn=-.90649,Pn=1.97294,Ln=Pn*Dn,Rn=Pn*Un,Fn=Un*zn- -.14861*Dn;function Yn(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof qn)return new qn(t.h,t.s,t.l,t.opacity);t instanceof nn||(t=Kt(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Fn*r+Ln*n-Rn*e)/(Fn+Ln-Rn),o=r-i,u=(Pn*(e-i)-zn*o)/Dn,a=Math.sqrt(u*u+o*o)/(Pn*i*(1-i)),s=a?Math.atan2(u,o)*fn-120:NaN;return new qn(s<0?s+360:s,a,i,t.opacity)}(t):new qn(t,n,e,null==r?1:r)}function qn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Hn(t,n,e,r,i){var o=t*t,u=o*t;return((1-3*t+3*o-u)*n+(4-6*o+3*u)*e+(1+3*t+3*o-3*u)*r+u*i)/6}zt(qn,Yn,Dt(Pt,{brighter:function(t){return t=null==t?Lt:Math.pow(Lt,t),new qn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new qn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*ln,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new nn(255*(n+e*(-.14861*r+Un*i)),255*(n+e*(zn*r+Dn*i)),255*(n+Pn*r*e),this.opacity)}}));var jn=function(t){return function(){return t}};function In(n,e){return function(t){return n+t*e}}function On(t,n){var e=n-t;return e?In(t,180<e||e<-180?e-360*Math.round(e/360):e):jn(isNaN(t)?n:t)}function Vn(e){return 1==(e=+e)?Xn:function(t,n){return n-t?function(n,e,r){return n=Math.pow(n,r),e=Math.pow(e,r)-n,r=1/r,function(t){return Math.pow(n+t*e,r)}}(t,n,e):jn(isNaN(t)?n:t)}}function Xn(t,n){var e=n-t;return e?In(t,e):jn(isNaN(t)?n:t)}var Bn=function t(n){var u=Vn(n);function e(n,t){var e=u((n=tn(n)).r,(t=tn(t)).r),r=u(n.g,t.g),i=u(n.b,t.b),o=Xn(n.opacity,t.opacity);return function(t){return n.r=e(t),n.g=r(t),n.b=i(t),n.opacity=o(t),n+""}}return e.gamma=t,e}(1);function Zn(a){return function(t){var n,e,r=t.length,i=new Array(r),o=new Array(r),u=new Array(r);for(n=0;n<r;++n)e=tn(t[n]),i[n]=e.r||0,o[n]=e.g||0,u[n]=e.b||0;return i=a(i),o=a(o),u=a(u),e.opacity=1,function(t){return e.r=i(t),e.g=o(t),e.b=u(t),e+""}}}Zn(function(u){var a=u.length-1;return function(t){var n=t<=0?t=0:1<=t?a-(t=1):Math.floor(t*a),e=u[n],r=u[n+1],i=0<n?u[n-1]:2*e-r,o=n<a-1?u[n+2]:2*r-e;return Hn((t-n/a)*a,i,e,r,o)}}),Zn(function(u){var a=u.length;return function(t){var n=Math.floor(((t%=1)<0?++t:t)*a),e=u[(n+a-1)%a],r=u[n%a],i=u[(n+1)%a],o=u[(n+2)%a];return Hn((t-n/a)*a,e,r,i,o)}});var $n=function(n,e){return e-=n=+n,function(t){return n+e*t}},Wn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Jn=new RegExp(Wn.source,"g");function Qn(t,r){var n,e,i,o=Wn.lastIndex=Jn.lastIndex=0,u=-1,a=[],s=[];for(t+="",r+="";(n=Wn.exec(t))&&(e=Jn.exec(r));)(i=e.index)>o&&(i=r.slice(o,i),a[u]?a[u]+=i:a[++u]=i),(n=n[0])===(e=e[0])?a[u]?a[u]+=e:a[++u]=e:(a[++u]=null,s.push({i:u,x:$n(n,e)})),o=Jn.lastIndex;return o<r.length&&(i=r.slice(o),a[u]?a[u]+=i:a[++u]=i),a.length<2?s[0]?function(n){return function(t){return n(t)+""}}(s[0].x):function(t){return function(){return t}}(r):(r=s.length,function(t){for(var n,e=0;e<r;++e)a[(n=s[e]).i]=n.x(t);return a.join("")})}function Gn(t,n,e,r,i,o){var u,a,s;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,s/=a),t*r<n*e&&(t=-t,n=-n,s=-s,u=-u),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*oe,skewX:Math.atan(s)*oe,scaleX:u,scaleY:a}}var Kn,te,ne,ee,re=function(t,n){var e,r=typeof n;return null==n||"boolean"==r?jn(n):("number"==r?$n:"string"==r?(e=Jt(n))?(n=e,Bn):Qn:n instanceof Jt?Bn:n instanceof Date?function(n,e){var r=new Date;return e-=n=+n,function(t){return r.setTime(n+e*t),r}}:Array.isArray(n)?function(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),u=new Array(r);for(e=0;e<i;++e)o[e]=re(t[e],n[e]);for(;e<r;++e)u[e]=n[e];return function(t){for(e=0;e<i;++e)u[e]=o[e](t);return u}}:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?function(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=re(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}:$n)(t,n)},ie=function(n,e){return e-=n=+n,function(t){return Math.round(n+e*t)}},oe=180/Math.PI,ue={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ae(e,a,s,u){function c(t){return t.length?t.pop()+" ":""}return function(t,n){var i=[],o=[];return t=e(t),n=e(n),function(t,n,e,r,i,o){if(t!==e||n!==r){var u=i.push("translate(",null,a,null,s);o.push({i:u-4,x:$n(t,e)},{i:u-2,x:$n(n,r)})}else(e||r)&&i.push("translate("+e+a+r+s)}(t.translateX,t.translateY,n.translateX,n.translateY,i,o),function(t,n,e,r){t!==n?(180<t-n?n+=360:180<n-t&&(t+=360),r.push({i:e.push(c(e)+"rotate(",null,u)-2,x:$n(t,n)})):n&&e.push(c(e)+"rotate("+n+u)}(t.rotate,n.rotate,i,o),function(t,n,e,r){t!==n?r.push({i:e.push(c(e)+"skewX(",null,u)-2,x:$n(t,n)}):n&&e.push(c(e)+"skewX("+n+u)}(t.skewX,n.skewX,i,o),function(t,n,e,r,i,o){if(t!==e||n!==r){var u=i.push(c(i)+"scale(",null,",",null,")");o.push({i:u-4,x:$n(t,e)},{i:u-2,x:$n(n,r)})}else 1===e&&1===r||i.push(c(i)+"scale("+e+","+r+")")}(t.scaleX,t.scaleY,n.scaleX,n.scaleY,i,o),t=n=null,function(t){for(var n,e=-1,r=o.length;++e<r;)i[(n=o[e]).i]=n.x(t);return i.join("")}}}var se=ae(function(t){return"none"===t?ue:(Kn||(Kn=document.createElement("DIV"),te=document.documentElement,ne=document.defaultView),Kn.style.transform=t,t=ne.getComputedStyle(te.appendChild(Kn),null).getPropertyValue("transform"),te.removeChild(Kn),t=t.slice(7,-1).split(","),Gn(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),ce=ae(function(t){return null==t?ue:((ee=ee||document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("transform",t),(t=ee.transform.baseVal.consolidate())?(t=t.matrix,Gn(t.a,t.b,t.c,t.d,t.e,t.f)):ue)},", ",")",")"),he=Math.SQRT2;function le(t){return((t=Math.exp(t))+1/t)/2}function fe(t,n){var e,i,o=t[0],u=t[1],a=t[2],r=n[0],s=n[1],c=n[2],h=r-o,l=s-u,f=h*h+l*l;if(f<1e-12)i=Math.log(c/a)/he,e=function(t){return[o+t*h,u+t*l,a*Math.exp(he*t*i)]};else{var p=Math.sqrt(f),_=(c*c-a*a+4*f)/(2*a*2*p),v=(c*c-a*a-4*f)/(2*c*2*p),y=Math.log(Math.sqrt(_*_+1)-_),g=Math.log(Math.sqrt(v*v+1)-v);i=(g-y)/he,e=function(t){var n=t*i,e=le(y),r=a/(2*p)*(e*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(he*n+y)-function(t){return((t=Math.exp(t))-1/t)/2}(y));return[o+r*h,u+r*l,a*e/le(he*n+y)]}}return e.duration=1e3*i,e}function pe(u){return function(n,t){var e=u((n=sn(n)).h,(t=sn(t)).h),r=Xn(n.s,t.s),i=Xn(n.l,t.l),o=Xn(n.opacity,t.opacity);return function(t){return n.h=e(t),n.s=r(t),n.l=i(t),n.opacity=o(t),n+""}}}pe(On),pe(Xn);function _e(u){return function(n,t){var e=u((n=Cn(n)).h,(t=Cn(t)).h),r=Xn(n.c,t.c),i=Xn(n.l,t.l),o=Xn(n.opacity,t.opacity);return function(t){return n.h=e(t),n.c=r(t),n.l=i(t),n.opacity=o(t),n+""}}}_e(On),_e(Xn);function ve(a){return function t(u){function n(n,t){var e=a((n=Yn(n)).h,(t=Yn(t)).h),r=Xn(n.s,t.s),i=Xn(n.l,t.l),o=Xn(n.opacity,t.opacity);return function(t){return n.h=e(t),n.s=r(t),n.l=i(Math.pow(t,u)),n.opacity=o(t),n+""}}return u=+u,n.gamma=t,n}(1)}ve(On),ve(Xn);var ye,ge,de=0,me=0,xe=0,we=1e3,Me=0,be=0,ke=0,Ne="object"==typeof performance&&performance.now?performance:Date,Te="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Se(){return be||(Te(Ce),be=Ne.now()+ke)}function Ce(){be=0}function Ee(){this._call=this._time=this._next=null}function Ae(t,n,e){var r=new Ee;return r.restart(t,n,e),r}function Ue(){be=(Me=Ne.now())+ke,de=me=0;try{!function(){Se(),++de;for(var t,n=ye;n;)0<=(t=be-n._time)&&n._call.call(null,t),n=n._next;--de}()}finally{de=0,function(){var t,n,e=ye,r=1/0;for(;e;)e=e._call?(r>e._time&&(r=e._time),(t=e)._next):(n=e._next,e._next=null,t?t._next=n:ye=n);ge=t,De(r)}(),be=0}}function ze(){var t=Ne.now(),n=t-Me;we<n&&(ke-=n,Me=t)}function De(t){de||(me=me&&clearTimeout(me),24<t-be?(t<1/0&&(me=setTimeout(Ue,t-Ne.now()-ke)),xe=xe&&clearInterval(xe)):(xe||(Me=Ne.now(),xe=setInterval(ze,we)),de=1,Te(Ue)))}Ee.prototype=Ae.prototype={constructor:Ee,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Se():+e)+(null==n?0:+n),this._next||ge===this||(ge?ge._next=this:ye=this,ge=this),this._call=t,this._time=e,De()},stop:function(){this._call&&(this._call=null,this._time=1/0,De())}};function Pe(n,e,t){var r=new Ee;return e=null==e?0:+e,r.restart(function(t){r.stop(),n(t+e)},e,t),r}function Le(t,n,e,r,i,o){var u=t.__transition;if(u){if(e in u)return}else t.__transition={};!function(o,u,a){var s,c=o.__transition;function h(t){var n,e,r,i;if(1!==a.state)return f();for(n in c)if((i=c[n]).name===a.name){if(i.state===qe)return Pe(h);4===i.state?(i.state=6,i.timer.stop(),i.on.call("interrupt",o,o.__data__,i.index,i.group),delete c[n]):+n<u&&(i.state=6,i.timer.stop(),i.on.call("cancel",o,o.__data__,i.index,i.group),delete c[n])}if(Pe(function(){a.state===qe&&(a.state=4,a.timer.restart(l,a.delay,a.time),l(t))}),a.state=2,a.on.call("start",o,o.__data__,a.index,a.group),2===a.state){for(a.state=qe,s=new Array(r=a.tween.length),n=0,e=-1;n<r;++n)(i=a.tween[n].value.call(o,o.__data__,a.index,a.group))&&(s[++e]=i);s.length=e+1}}function l(t){for(var n=t<a.duration?a.ease.call(null,t/a.duration):(a.timer.restart(f),a.state=5,1),e=-1,r=s.length;++e<r;)s[e].call(o,n);5===a.state&&(a.on.call("end",o,o.__data__,a.index,a.group),f())}function f(){for(var t in a.state=6,a.timer.stop(),delete c[u],c)return;delete o.__transition}(c[u]=a).timer=Ae(function(t){a.state=1,a.timer.restart(h,a.delay,a.time),a.delay<=t&&h(t-a.delay)},0,a.time)}(t,e,{name:n,index:r,group:i,on:Re,tween:Fe,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Ye})}var Re=I("start","end","cancel","interrupt"),Fe=[],Ye=0,qe=3;function He(t,n){var e=Ie(t,n);if(e.state>Ye)throw new Error("too late; already scheduled");return e}function je(t,n){var e=Ie(t,n);if(e.state>qe)throw new Error("too late; already running");return e}function Ie(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}var Oe=function(t,n){var e,r,i,o=t.__transition,u=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=2<e.state&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):u=!1;u&&delete t.__transition}};function Ve(t,n,e){var r=t._id;return t.each(function(){var t=je(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return Ie(t,r).value[n]}}function Xe(t,n){var e;return("number"==typeof n?$n:n instanceof Jt?Bn:(e=Jt(n))?(n=e,Bn):Qn)(t,n)}var Be=wt.prototype.constructor;function Ze(t){return function(){this.style.removeProperty(t)}}var $e=0;function We(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Je(){return++$e}var Qe=wt.prototype;We.prototype=function(t){return wt().transition(t)}.prototype={constructor:We,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=q(t));for(var r=this._groups,i=r.length,o=new Array(i),u=0;u<i;++u)for(var a,s,c=r[u],h=c.length,l=o[u]=new Array(h),f=0;f<h;++f)(a=c[f])&&(s=t.call(a,a.__data__,f,c))&&("__data__"in a&&(s.__data__=a.__data__),l[f]=s,Le(l[f],n,e,f,l,Ie(a,e)));return new We(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=j(t));for(var r=this._groups,i=r.length,o=[],u=[],a=0;a<i;++a)for(var s,c=r[a],h=c.length,l=0;l<h;++l)if(s=c[l]){for(var f,p=t.call(s,s.__data__,l,c),_=Ie(s,e),v=0,y=p.length;v<y;++v)(f=p[v])&&Le(f,n,e,v,p,_);o.push(p),u.push(s)}return new We(o,u,n,e)},filter:function(t){"function"!=typeof t&&(t=O(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,s=r[i]=[],c=0;c<a;++c)(o=u[c])&&t.call(o,o.__data__,c,u)&&s.push(o);return new We(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var s,c=n[a],h=e[a],l=c.length,f=u[a]=new Array(l),p=0;p<l;++p)(s=c[p]||h[p])&&(f[p]=s);for(;a<r;++a)u[a]=n[a];return new We(u,this._parents,this._name,this._id)},selection:function(){return new Be(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Je(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],s=a.length,c=0;c<s;++c)if(u=a[c]){var h=Ie(u,n);Le(u,t,e,c,a,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new We(r,this._parents,t,e)},call:Qe.call,nodes:Qe.nodes,node:Qe.node,size:Qe.size,empty:Qe.empty,each:Qe.each,on:function(t,n){var e=this._id;return arguments.length<2?Ie(this.node(),e).on.on(t):this.each(function(e,r,i){var o,u,a=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return 0<=n&&(t=t.slice(0,n)),!t||"start"===t})}(r)?He:je;return function(){var t=a(this,e),n=t.on;n!==o&&(u=(o=n).copy()).on(r,i),t.on=u}}(e,t,n))},attr:function(t,n){var e=M(t),r="transform"===e?ce:Xe;return this.attrTween(t,"function"==typeof n?(e.local?function(r,i,o){var u,a,s;return function(){var t,n,e=o(this);if(null!=e)return(t=this.getAttributeNS(r.space,r.local))===(n=e+"")?null:t===u&&n===a?s:(a=n,s=i(u=t,e));this.removeAttributeNS(r.space,r.local)}}:function(r,i,o){var u,a,s;return function(){var t,n,e=o(this);if(null!=e)return(t=this.getAttribute(r))===(n=e+"")?null:t===u&&n===a?s:(a=n,s=i(u=t,e));this.removeAttribute(r)}})(e,r,Ve(this,"attr."+t,n)):null==n?(e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(e):(e.local?function(n,e,r){var i,o,u=r+"";return function(){var t=this.getAttributeNS(n.space,n.local);return t===u?null:t===i?o:o=e(i=t,r)}}:function(n,e,r){var i,o,u=r+"";return function(){var t=this.getAttribute(n);return t===u?null:t===i?o:o=e(i=t,r)}})(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=M(t);return this.tween(e,(r.local?function(n,e){var r,i;function t(){var t=e.apply(this,arguments);return t!==i&&(r=(i=t)&&function(n,e){return function(t){this.setAttributeNS(n.space,n.local,e(t))}}(n,t)),r}return t._value=e,t}:function(n,e){var r,i;function t(){var t=e.apply(this,arguments);return t!==i&&(r=(i=t)&&function(n,e){return function(t){this.setAttribute(n,e(t))}}(n,t)),r}return t._value=e,t})(r,n))},style:function(t,n,e){var r="transform"==(t+="")?se:Xe;return null==n?this.styleTween(t,function(e,r){var i,o,u;return function(){var t=J(this,e),n=(this.style.removeProperty(e),J(this,e));return t===n?null:t===i&&n===o?u:u=r(i=t,o=n)}}(t,r)).on("end.style."+t,Ze(t)):"function"==typeof n?this.styleTween(t,function(r,i,o){var u,a,s;return function(){var t=J(this,r),n=o(this),e=n+"";return null==n&&(this.style.removeProperty(r),e=n=J(this,r)),t===e?null:t===u&&e===a?s:(a=e,s=i(u=t,n))}}(t,r,Ve(this,"style."+t,n))).each(function(r,i){var o,u,a,s,c="style."+i,h="end."+c;return function(){var t=je(this,r),n=t.on,e=null==t.value[c]?s=s||Ze(i):void 0;n===o&&a===e||(u=(o=n).copy()).on(h,a=e),t.on=u}}(this._id,t)):this.styleTween(t,function(n,e,r){var i,o,u=r+"";return function(){var t=J(this,n);return t===u?null:t===i?o:o=e(i=t,r)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(n,e,r){var i,o;function t(){var t=e.apply(this,arguments);return t!==o&&(i=(o=t)&&function(n,e,r){return function(t){this.style.setProperty(n,e(t),r)}}(n,t,r)),i}return t._value=e,t}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(n){return function(){var t=n(this);this.textContent=null==t?"":t}}(Ve(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=Ie(this.node(),e).tween,o=0,u=i.length;o<u;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?function(i,o){var u,a;return function(){var t=je(this,i),n=t.tween;if(n!==u)for(var e=0,r=(a=u=n).length;e<r;++e)if(a[e].name===o){(a=a.slice()).splice(e,1);break}t.tween=a}}:function(o,u,a){var s,c;if("function"!=typeof a)throw new Error;return function(){var t=je(this,o),n=t.tween;if(n!==s){c=(s=n).slice();for(var e={name:u,value:a},r=0,i=c.length;r<i;++r)if(c[r].name===u){c[r]=e;break}r===i&&c.push(e)}t.tween=c}})(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){He(this,t).delay=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){He(this,t).delay=n}})(n,t)):Ie(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){je(this,t).duration=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){je(this,t).duration=n}})(n,t)):Ie(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){je(this,t).ease=n}}(n,t)):Ie(this.node(),n).ease},end:function(){var i,o,u=this,a=u._id,s=u.size();return new Promise(function(t,n){var e={value:n},r={value:function(){0==--s&&t()}};u.each(function(){var t=je(this,a),n=t.on;n!==i&&((o=(i=n).copy())._.cancel.push(e),o._.interrupt.push(e),o._.end.push(r)),t.on=o})})}};(function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e})(3),function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3),Math.PI;var Ge=1.70158,Ke=(function t(n){function e(t){return t*t*((n+1)*t-n)}return n=+n,e.overshoot=t,e}(Ge),function t(n){function e(t){return--t*t*((n+1)*t+n)+1}return n=+n,e.overshoot=t,e}(Ge),function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(Ge),2*Math.PI),tr=(function n(e,r){var i=Math.asin(1/(e=Math.max(1,e)))*(r/=Ke);function t(t){return e*Math.pow(2,10*--t)*Math.sin((i-t)/r)}return t.amplitude=function(t){return n(t,r*Ke)},t.period=function(t){return n(e,t)},t}(1,.3),function n(e,r){var i=Math.asin(1/(e=Math.max(1,e)))*(r/=Ke);function t(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/r)}return t.amplitude=function(t){return n(t,r*Ke)},t.period=function(t){return n(e,t)},t}(1,.3),function n(e,r){var i=Math.asin(1/(e=Math.max(1,e)))*(r/=Ke);function t(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((i-t)/r):2-e*Math.pow(2,-10*t)*Math.sin((i+t)/r))/2}return t.amplitude=function(t){return n(t,r*Ke)},t.period=function(t){return n(e,t)},t}(1,.3),{time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}});function nr(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return tr.time=Se(),tr;return e}wt.prototype.interrupt=function(t){return this.each(function(){Oe(this,t)})},wt.prototype.transition=function(t){var n,e;t=t instanceof We?(n=t._id,t._name):(n=Je(),(e=tr).time=Se(),null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],s=a.length,c=0;c<s;++c)(u=a[c])&&Le(u,t,n,c,a,e||nr(u,n));return new We(r,this._parents,t,n)};var er=function(t){return function(){return t}},rr=function(t,n,e){this.target=t,this.type=n,this.selection=e};function ir(){lt.stopImmediatePropagation()}var or=function(){lt.preventDefault(),lt.stopImmediatePropagation()},ur={name:"drag"},ar={name:"space"},sr={name:"handle"},cr={name:"center"};function hr(t){return[+t[0],+t[1]]}function lr(t){return[hr(t[0]),hr(t[1])]}var fr={name:"x",handles:["w","e"].map(mr),input:function(t,n){return null==t?null:[[+t[0],n[0][1]],[+t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},pr={name:"y",handles:["n","s"].map(mr),input:function(t,n){return null==t?null:[[n[0][0],+t[0]],[n[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},_r=(["n","w","e","s","nw","ne","sw","se"].map(mr),{overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"}),vr={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},yr={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},gr={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},dr={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function mr(t){return{type:t}}function xr(){return!lt.ctrlKey&&!lt.button}function wr(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Mr(){return navigator.maxTouchPoints||"ontouchstart"in this}function br(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function kr(){return Nr(fr)}function Nr(R){var F,n=wr,Y=xr,r=Mr,q=!0,e=I(o,"start","brush","end"),i=6;function o(t){var n=t.property("__brush",h).selectAll(".overlay").data([mr("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",_r.overlay).merge(n).each(function(){var t=br(this).extent;Mt(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([mr("selection")]).enter().append("rect").attr("class","selection").attr("cursor",_r.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var e=t.selectAll(".handle").data(R.handles,function(t){return t.type});e.exit().remove(),e.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return _r[t.type]}),t.each(H).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",a).filter(r).on("touchstart.brush",a).on("touchmove.brush",s).on("touchend.brush touchcancel.brush",c).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function H(){var t=Mt(this),n=br(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?n[1][0]-i/2:n[0][0]-i/2}).attr("y",function(t){return"s"===t.type[0]?n[1][1]-i/2:n[0][1]-i/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+i:i}).attr("height",function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+i:i})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function j(t,n,e){return!e&&t.__brush.emitter||new u(t,n)}function u(t,n){this.that=t,this.args=n,this.state=t.__brush,this.active=0}function a(){if((!F||lt.touches)&&Y.apply(this,arguments)){var n,e,r,i,o,u,a,s,c,h,l,f=this,p=lt.target.__data__.type,_="selection"===(q&&lt.metaKey?p="overlay":p)?ur:q&&lt.altKey?cr:sr,v=R===pr?null:gr[p],y=R===fr?null:dr[p],g=br(f),t=g.extent,d=g.selection,m=t[0][0],x=t[0][1],w=t[1][0],M=t[1][1],b=0,k=0,N=v&&y&&q&&lt.shiftKey,T=lt.touches?function(n){return function(t){return Ct(t,lt.touches,n)}}(lt.changedTouches[0].identifier):St,S=T(f),C=S,E=j(f,arguments,!0).beforestart();"overlay"===p?(d&&(c=!0),g.selection=d=[[n=R===pr?m:S[0],r=R===fr?x:S[1]],[o=R===pr?w:n,a=R===fr?M:r]]):(n=d[0][0],r=d[0][1],o=d[1][0],a=d[1][1]),e=n,i=r,u=o,s=a;var A=Mt(f).attr("pointer-events","none"),U=A.selectAll(".overlay").attr("cursor",_r[p]);if(lt.touches)E.moved=D,E.ended=L;else{var z=Mt(lt.view).on("mousemove.brush",D,!0).on("mouseup.brush",L,!0);q&&z.on("keydown.brush",function(){switch(lt.keyCode){case 16:N=v&&y;break;case 18:_===sr&&(v&&(o=u-b*v,n=e+b*v),y&&(a=s-k*y,r=i+k*y),_=cr,P());break;case 32:_!==sr&&_!==cr||(v<0?o=u-b:0<v&&(n=e-b),y<0?a=s-k:0<y&&(r=i-k),_=ar,U.attr("cursor",_r.selection),P());break;default:return}or()},!0).on("keyup.brush",function(){switch(lt.keyCode){case 16:N&&(h=l=N=!1,P());break;case 18:_===cr&&(v<0?o=u:0<v&&(n=e),y<0?a=s:0<y&&(r=i),_=sr,P());break;case 32:_===ar&&(_=lt.altKey?(v&&(o=u-b*v,n=e+b*v),y&&(a=s-k*y,r=i+k*y),cr):(v<0?o=u:0<v&&(n=e),y<0?a=s:0<y&&(r=i),sr),U.attr("cursor",_r[p]),P());break;default:return}or()},!0),At(lt.view)}ir(),Oe(f),H.call(f),E.start()}function D(){var t=T(f);!N||h||l||(Math.abs(t[0]-C[0])>Math.abs(t[1]-C[1])?l=!0:h=!0),C=t,c=!0,or(),P()}function P(){var t;switch(b=C[0]-S[0],k=C[1]-S[1],_){case ar:case ur:v&&(b=Math.max(m-n,Math.min(w-o,b)),e=n+b,u=o+b),y&&(k=Math.max(x-r,Math.min(M-a,k)),i=r+k,s=a+k);break;case sr:v<0?(b=Math.max(m-n,Math.min(w-n,b)),e=n+b,u=o):0<v&&(b=Math.max(m-o,Math.min(w-o,b)),e=n,u=o+b),y<0?(k=Math.max(x-r,Math.min(M-r,k)),i=r+k,s=a):0<y&&(k=Math.max(x-a,Math.min(M-a,k)),i=r,s=a+k);break;case cr:v&&(e=Math.max(m,Math.min(w,n-b*v)),u=Math.max(m,Math.min(w,o+b*v))),y&&(i=Math.max(x,Math.min(M,r-k*y)),s=Math.max(x,Math.min(M,a+k*y)))}u<e&&(v*=-1,t=n,n=o,o=t,t=e,e=u,u=t,p in vr&&U.attr("cursor",_r[p=vr[p]])),s<i&&(y*=-1,t=r,r=a,a=t,t=i,i=s,s=t,p in yr&&U.attr("cursor",_r[p=yr[p]])),g.selection&&(d=g.selection),h&&(e=d[0][0],u=d[1][0]),l&&(i=d[0][1],s=d[1][1]),d[0][0]===e&&d[0][1]===i&&d[1][0]===u&&d[1][1]===s||(g.selection=[[e,i],[u,s]],H.call(f),E.brush())}function L(){if(ir(),lt.touches){if(lt.touches.length)return;F&&clearTimeout(F),F=setTimeout(function(){F=null},500)}else Ut(lt.view,c),z.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);A.attr("pointer-events","all"),U.attr("cursor",_r.overlay),g.selection&&(d=g.selection),function(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}(d)&&(g.selection=null,H.call(f)),E.end()}}function s(){j(this,arguments).moved()}function c(){j(this,arguments).ended()}function h(){var t=this.__brush||{selection:null};return t.extent=lr(n.apply(this,arguments)),t.dim=R,t}return o.move=function(t,a){t.selection?t.on("start.brush",function(){j(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){j(this,arguments).end()}).tween("brush",function(){var n=this,e=n.__brush,r=j(n,arguments),t=e.selection,i=R.input("function"==typeof a?a.apply(this,arguments):a,e.extent),o=re(t,i);function u(t){e.selection=1===t&&null===i?null:o(t),H.call(n),r.brush()}return null!==t&&null!==i?u:u(1)}):t.each(function(){var t=this,n=arguments,e=t.__brush,r=R.input("function"==typeof a?a.apply(t,n):a,e.extent),i=j(t,n).beforestart();Oe(t),e.selection=null===r?null:r,H.call(t),i.start().brush().end()})},o.clear=function(t){o.move(t,null)},u.prototype={beforestart:function(){return 1==++this.active&&((this.state.emitter=this).starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){yt(new rr(o,t,R.output(this.state.selection)),e.apply,e,[t,this.that,this.args])}},o.extent=function(t){return arguments.length?(n="function"==typeof t?t:er(lr(t)),o):n},o.filter=function(t){return arguments.length?(Y="function"==typeof t?t:er(!!t),o):Y},o.handleSize=function(t){return arguments.length?(i=+t,o):i},o.keyModifiers=function(t){return arguments.length?(q=!!t,o):q},o.on=function(){var t=e.on.apply(e,arguments);return t===e?o:t},o}Math.cos,Math.sin,Math.PI,Math.max;Array.prototype.slice;var Tr=Math.PI,Sr=2*Tr,Cr=1e-6,Er=Sr-Cr;function Ar(){this._x0=this._y0=this._x1=this._y1=null,this._=""}Ar.prototype={constructor:Ar,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,u=this._y1,a=e-t,s=r-n,c=o-t,h=u-n,l=c*c+h*h;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(Cr<l)if(Math.abs(h*a-s*c)>Cr&&i){var f=e-o,p=r-u,_=a*a+s*s,v=f*f+p*p,y=Math.sqrt(_),g=Math.sqrt(l),d=i*Math.tan((Tr-Math.acos((_+l-v)/(2*y*g)))/2),m=d/g,x=d/y;Math.abs(m-1)>Cr&&(this._+="L"+(t+m*c)+","+(n+m*h)),this._+="A"+i+","+i+",0,0,"+ +(c*p<h*f)+","+(this._x1=t+x*a)+","+(this._y1=n+x*s)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n,o=!!o;var u=(e=+e)*Math.cos(r),a=e*Math.sin(r),s=t+u,c=n+a,h=1^o,l=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+s+","+c:(Math.abs(this._x1-s)>Cr||Math.abs(this._y1-c)>Cr)&&(this._+="L"+s+","+c),e&&(l<0&&(l=l%Sr+Sr),Er<l?this._+="A"+e+","+e+",0,1,"+h+","+(t-u)+","+(n-a)+"A"+e+","+e+",0,1,"+h+","+(this._x1=s)+","+(this._y1=c):Cr<l&&(this._+="A"+e+","+e+",0,"+ +(Tr<=l)+","+h+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var Ur="$";function zr(){}function Dr(t,n){var e=new zr;if(t instanceof zr)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var u in t)e.set(u,t[u]);return e}zr.prototype=Dr.prototype={constructor:zr,has:function(t){return Ur+t in this},get:function(t){return this[Ur+t]},set:function(t,n){return this[Ur+t]=n,this},remove:function(t){var n=Ur+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===Ur&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===Ur&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===Ur&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===Ur&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===Ur&&++t;return t},empty:function(){for(var t in this)if(t[0]===Ur)return!1;return!0},each:function(t){for(var n in this)n[0]===Ur&&t(this[n],n.slice(1),this)}};var Pr=Dr;function Lr(){}var Rr=Pr.prototype;Lr.prototype={constructor:Lr,has:Rr.has,add:function(t){return this[Ur+(t+="")]=t,this},remove:Rr.remove,clear:Rr.clear,values:Rr.keys,size:Rr.size,empty:Rr.empty,each:Rr.each};Array.prototype.slice;var Fr={},Yr={};function qr(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}function Hr(t){var e=Object.create(null),r=[];return t.forEach(function(t){for(var n in t)n in e||r.push(e[n]=n)}),r}function jr(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function Ir(t){var n=t.getUTCHours(),e=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+jr(-t,6):9999<t?"+"+jr(t,6):jr(t,4)}(t.getUTCFullYear())+"-"+jr(t.getUTCMonth()+1,2)+"-"+jr(t.getUTCDate(),2)+(i?"T"+jr(n,2)+":"+jr(e,2)+":"+jr(r,2)+"."+jr(i,3)+"Z":r?"T"+jr(n,2)+":"+jr(e,2)+":"+jr(r,2)+"Z":e||n?"T"+jr(n,2)+":"+jr(e,2)+"Z":"")}var Or=function(r){var n=new RegExp('["'+r+"\n\r]"),l=r.charCodeAt(0);function o(r,t){var n,e=[],i=r.length,o=0,u=0,a=i<=0,s=!1;function c(){if(a)return Yr;if(s)return s=!1,Fr;var t,n,e=o;if(34===r.charCodeAt(e)){for(;o++<i&&34!==r.charCodeAt(o)||34===r.charCodeAt(++o););return(t=o)>=i?a=!0:10===(n=r.charCodeAt(o++))?s=!0:13===n&&(s=!0,10===r.charCodeAt(o)&&++o),r.slice(e+1,t-1).replace(/""/g,'"')}for(;o<i;){if(10===(n=r.charCodeAt(t=o++)))s=!0;else if(13===n)s=!0,10===r.charCodeAt(o)&&++o;else if(n!==l)continue;return r.slice(e,t)}return a=!0,r.slice(e,i)}for(10===r.charCodeAt(i-1)&&--i,13===r.charCodeAt(i-1)&&--i;(n=c())!==Yr;){for(var h=[];n!==Fr&&n!==Yr;)h.push(n),n=c();t&&null==(h=t(h,u++))||e.push(h)}return e}function e(t,e){return t.map(function(n){return e.map(function(t){return u(n[t])}).join(r)})}function i(t){return t.map(u).join(r)}function u(t){return null==t?"":t instanceof Date?Ir(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var r,i,n=o(t,function(t,n){if(r)return r(t,n-1);i=t,r=e?function(e,r){var i=qr(e);return function(t,n){return r(i(t),n,e)}}(t,e):qr(t)});return n.columns=i||[],n},parseRows:o,format:function(t,n){return null==n&&(n=Hr(t)),[n.map(u).join(r)].concat(e(t,n)).join("\n")},formatBody:function(t,n){return null==n&&(n=Hr(t)),e(t,n).join("\n")},formatRows:function(t){return t.map(i).join("\n")}}},Vr=Or(","),Xr=Vr.parse,Br=(Vr.parseRows,Vr.format,Vr.formatBody,Vr.formatRows,Or("\t")),Zr=Br.parse;Br.parseRows,Br.format,Br.formatBody,Br.formatRows;function $r(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var Wr=function(t,n){return fetch(t,n).then($r)};function Jr(r){return function(t,n,e){return 2===arguments.length&&"function"==typeof n&&(e=n,n=void 0),Wr(t,n).then(function(t){return r(t,e)})}}var Qr=Jr(Xr);Jr(Zr);function Gr(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}function Kr(t,n){return fetch(t,n).then(Gr)}function ti(e){return function(t,n){return Wr(t,n).then(function(t){return(new DOMParser).parseFromString(t,e)})}}ti("application/xml"),ti("text/html"),ti("image/svg+xml");function ni(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,u,a,s,c,h,l,f,p=t._root,_={data:r},v=t._x0,y=t._y0,g=t._x1,d=t._y1;if(!p)return t._root=_,t;for(;p.length;)if((c=n>=(o=(v+g)/2))?v=o:g=o,(h=e>=(u=(y+d)/2))?y=u:d=u,!(p=(i=p)[l=h<<1|c]))return i[l]=_,t;if(a=+t._x.call(null,p.data),s=+t._y.call(null,p.data),n===a&&e===s)return _.next=p,i?i[l]=_:t._root=_,t;for(;i=i?i[l]=new Array(4):t._root=new Array(4),(c=n>=(o=(v+g)/2))?v=o:g=o,(h=e>=(u=(y+d)/2))?y=u:d=u,(l=h<<1|c)==(f=(u<=s)<<1|o<=a););return i[f]=p,i[l]=_,t}function ei(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function ri(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function ii(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var oi=ri.prototype;oi.copy=function(){var t,n,e=new ri(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=ii(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=ii(n));return e},oi.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return ni(this.cover(n,e),n,e,t)},oi.addAll=function(t){var n,e,r,i,o=t.length,u=new Array(o),a=new Array(o),s=1/0,c=1/0,h=-1/0,l=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||((u[e]=r)<s&&(s=r),h<r&&(h=r),(a[e]=i)<c&&(c=i),l<i&&(l=i));if(h<s||l<c)return this;for(this.cover(s,c).cover(h,l),e=0;e<o;++e)ni(this,u[e],a[e],t[e]);return this},oi.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{for(var u,a,s=i-e,c=this._root;t<e||i<=t||n<r||o<=n;)switch(a=(n<r)<<1|t<e,(u=new Array(4))[a]=c,c=u,s*=2,a){case 0:i=e+s,o=r+s;break;case 1:e=i-s,o=r+s;break;case 2:i=e+s,r=o-s;break;case 3:e=i-s,r=o-s}this._root&&this._root.length&&(this._root=c)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},oi.data=function(){var n=[];return this.visit(function(t){if(!t.length)for(;n.push(t.data),t=t.next;);}),n},oi.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},oi.find=function(t,n,e){var r,i,o,u,a,s,c,h=this._x0,l=this._y0,f=this._x1,p=this._y1,_=[],v=this._root;for(v&&_.push(new ei(v,h,l,f,p)),null==e?e=1/0:(h=t-e,l=n-e,f=t+e,p=n+e,e*=e);s=_.pop();)if(!(!(v=s.node)||(i=s.x0)>f||(o=s.y0)>p||(u=s.x1)<h||(a=s.y1)<l))if(v.length){var y=(i+u)/2,g=(o+a)/2;_.push(new ei(v[3],y,g,u,a),new ei(v[2],i,g,y,a),new ei(v[1],y,o,u,g),new ei(v[0],i,o,y,g)),(c=(g<=n)<<1|y<=t)&&(s=_[_.length-1],_[_.length-1]=_[_.length-1-c],_[_.length-1-c]=s)}else{var d=t-+this._x.call(null,v.data),m=n-+this._y.call(null,v.data),x=d*d+m*m;if(x<e){var w=Math.sqrt(e=x);h=t-w,l=n-w,f=t+w,p=n+w,r=v.data}}return r},oi.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(u=+this._y.call(null,t)))return this;var n,e,r,i,o,u,a,s,c,h,l,f,p=this._root,_=this._x0,v=this._y0,y=this._x1,g=this._y1;if(!p)return this;if(p.length)for(;;){if((c=o>=(a=(_+y)/2))?_=a:y=a,(h=u>=(s=(v+g)/2))?v=s:g=s,!(p=(n=p)[l=h<<1|c]))return this;if(!p.length)break;(n[l+1&3]||n[l+2&3]||n[l+3&3])&&(e=n,f=l)}for(;p.data!==t;)if(!(p=(r=p).next))return this;return(i=p.next)&&delete p.next,r?i?r.next=i:delete r.next:n?(i?n[l]=i:delete n[l],(p=n[0]||n[1]||n[2]||n[3])&&p===(n[3]||n[2]||n[1]||n[0])&&!p.length&&(e?e[f]=p:this._root=p)):this._root=i,this},oi.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},oi.root=function(){return this._root},oi.size=function(){var n=0;return this.visit(function(t){if(!t.length)for(;++n,t=t.next;);}),n},oi.visit=function(t){var n,e,r,i,o,u,a=[],s=this._root;for(s&&a.push(new ei(s,this._x0,this._y0,this._x1,this._y1));n=a.pop();)if(!t(s=n.node,r=n.x0,i=n.y0,o=n.x1,u=n.y1)&&s.length){var c=(r+o)/2,h=(i+u)/2;(e=s[3])&&a.push(new ei(e,c,h,o,u)),(e=s[2])&&a.push(new ei(e,r,h,c,u)),(e=s[1])&&a.push(new ei(e,c,i,o,h)),(e=s[0])&&a.push(new ei(e,r,i,c,h))}return this},oi.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new ei(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,u=n.x0,a=n.y0,s=n.x1,c=n.y1,h=(u+s)/2,l=(a+c)/2;(o=i[0])&&e.push(new ei(o,u,a,h,l)),(o=i[1])&&e.push(new ei(o,h,a,s,l)),(o=i[2])&&e.push(new ei(o,u,l,h,c)),(o=i[3])&&e.push(new ei(o,h,l,s,c))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},oi.x=function(t){return arguments.length?(this._x=t,this):this._x},oi.y=function(t){return arguments.length?(this._y=t,this):this._y};function ui(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[1<r.length?r[0]+r.slice(2):r,+t.slice(e+1)]}function ai(t){return(t=ui(Math.abs(t)))?t[1]:NaN}Math.PI,Math.sqrt(5);var si=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ci(t){return new hi(t)}function hi(t){if(!(n=si.exec(t)))throw new Error("invalid format: "+t);var n;this.fill=n[1]||" ",this.align=n[2]||">",this.sign=n[3]||"-",this.symbol=n[4]||"",this.zero=!!n[5],this.width=n[6]&&+n[6],this.comma=!!n[7],this.precision=n[8]&&+n[8].slice(1),this.trim=!!n[9],this.type=n[10]||""}ci.prototype=hi.prototype,hi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};function li(t,n){var e=ui(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}function fi(t){return t}var pi,_i,vi,yi,gi={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return li(100*t,n)},r:li,s:function(t,n){var e=ui(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(pi=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return o===u?r:u<o?r+new Array(o-u+1).join("0"):0<o?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ui(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},di=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];_i=function(t){var M=t.grouping&&t.thousands?function(a,s){return function(t,n){for(var e=t.length,r=[],i=0,o=a[0],u=0;0<e&&0<o&&(n<u+o+1&&(o=Math.max(1,n-u)),r.push(t.substring(e-=o,e+o)),!((u+=o+1)>n));)o=a[i=(i+1)%a.length];return r.reverse().join(s)}}(t.grouping,t.thousands):fi,r=t.currency,b=t.decimal,k=t.numerals?function(n){return function(t){return t.replace(/[0-9]/g,function(t){return n[+t]})}}(t.numerals):fi,i=t.percent||"%";function u(t){var c=(t=ci(t)).fill,h=t.align,l=t.sign,n=t.symbol,f=t.zero,p=t.width,_=t.comma,v=t.precision,y=t.trim,g=t.type;"n"===g?(_=!0,g="g"):gi[g]||(null==v&&(v=12),y=!0,g="g"),(f||"0"===c&&"="===h)&&(f=!0,c="0",h="=");var d="$"===n?r[0]:"#"===n&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",m="$"===n?r[1]:/[%p]/.test(g)?i:"",x=gi[g],w=/[defgprs%]/.test(g);function e(t){var n,e,r,i=d,o=m;if("c"===g)o=x(t)+o,t="";else{var u=(t=+t)<0;if(t=x(Math.abs(t),v),y&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(0<i){if(!+t[r])break t;i=0}}return 0<i?t.slice(0,i)+t.slice(n+1):t}(t)),u&&0==+t&&(u=!1),i=(u?"("===l?l:"-":"-"===l||"("===l?"":l)+i,o=("s"===g?di[8+pi/3]:"")+o+(u&&"("===l?")":""),w)for(n=-1,e=t.length;++n<e;)if((r=t.charCodeAt(n))<48||57<r){o=(46===r?b+t.slice(n+1):t.slice(n))+o,t=t.slice(0,n);break}}_&&!f&&(t=M(t,1/0));var a=i.length+t.length+o.length,s=a<p?new Array(p-a+1).join(c):"";switch(_&&f&&(t=M(s+t,s.length?p-o.length:1/0),s=""),h){case"<":t=i+t+o+s;break;case"=":t=i+s+t+o;break;case"^":t=s.slice(0,a=s.length>>1)+i+t+o+s.slice(a);break;default:t=s+i+t+o}return k(t)}return v=null==v?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),e.toString=function(){return t+""},e}return{format:u,formatPrefix:function(t,n){var e=u(((t=ci(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(ai(n)/3))),i=Math.pow(10,-r),o=di[8+r/3];return function(t){return e(i*t)+o}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),vi=_i.format,yi=_i.formatPrefix;function mi(){return new xi}function xi(){this.reset()}xi.prototype={constructor:xi,reset:function(){this.s=this.t=0},add:function(t){Mi(wi,t,this.t),Mi(this,wi.s,this.s),this.s?this.t+=wi.t:this.s=wi.t},valueOf:function(){return this.s}};var wi=new xi;function Mi(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}var bi=1e-6,ki=1e-12,Ni=Math.PI,Ti=Ni/2,Si=Ni/4,Ci=2*Ni,Ei=180/Ni,Ai=Ni/180,Ui=Math.abs,zi=Math.atan,Di=Math.atan2,Pi=Math.cos,Li=(Math.ceil,Math.exp),Ri=(Math.floor,Math.log),Fi=(Math.pow,Math.sin),Yi=Math.sign||function(t){return 0<t?1:t<0?-1:0},qi=Math.sqrt,Hi=Math.tan;function ji(t){return 1<t?0:t<-1?Ni:Math.acos(t)}function Ii(t){return 1<t?Ti:t<-1?-Ti:Math.asin(t)}function Oi(){}function Vi(t,n){t&&Bi.hasOwnProperty(t.type)&&Bi[t.type](t,n)}var Xi={Feature:function(t,n){Vi(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Vi(e[r].geometry,n)}},Bi={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Zi(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Zi(e[r],n,0)},Polygon:function(t,n){$i(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)$i(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Vi(e[r],n)}};function Zi(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function $i(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Zi(t[e],n,1);n.polygonEnd()}var Wi=function(t,n){t&&Xi.hasOwnProperty(t.type)?Xi[t.type](t,n):Vi(t,n)};mi(),mi();function Ji(t){return[Di(t[1],t[0]),Ii(t[2])]}function Qi(t){var n=t[0],e=t[1],r=Pi(e);return[r*Pi(n),r*Fi(n),Fi(e)]}function Gi(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Ki(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function to(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function no(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function eo(t){var n=qi(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}mi();var ro=function(e,r){function t(t,n){return t=e(t,n),r(t[0],t[1])}return e.invert&&r.invert&&(t.invert=function(t,n){return(t=r.invert(t,n))&&e.invert(t[0],t[1])}),t};function io(t,n){return[Ui(t)>Ni?t+Math.round(-t/Ci)*Ci:t,n]}function oo(t,n,e){return(t%=Ci)?n||e?ro(ao(t),so(n,e)):ao(t):n||e?so(n,e):io}function uo(e){return function(t,n){return[Ni<(t+=e)?t-Ci:t<-Ni?t+Ci:t,n]}}function ao(t){var n=uo(t);return n.invert=uo(-t),n}function so(t,n){var a=Pi(t),s=Fi(t),c=Pi(n),h=Fi(n);function e(t,n){var e=Pi(n),r=Pi(t)*e,i=Fi(t)*e,o=Fi(n),u=o*a+r*s;return[Di(i*c-u*h,r*a-o*s),Ii(u*c+i*h)]}return e.invert=function(t,n){var e=Pi(n),r=Pi(t)*e,i=Fi(t)*e,o=Fi(n),u=o*c-i*h;return[Di(i*c+o*h,r*a+u*s),Ii(u*a-r*s)]},e}io.invert=io;function co(t,n,e,r,i,o){if(e){var u=Pi(n),a=Fi(n),s=r*e;null==i?(i=n+r*Ci,o=n-s/2):(i=ho(u,i),o=ho(u,o),(0<r?i<o:o<i)&&(i+=r*Ci));for(var c,h=i;0<r?o<h:h<o;h-=s)c=Ji([u,-a*Pi(h),-a*Fi(h)]),t.point(c[0],c[1])}}function ho(t,n){(n=Qi(n))[0]-=t,eo(n);var e=ji(-n[1]);return((-n[2]<0?-e:e)+Ci-bi)%Ci}function lo(t,n){return Ui(t[0]-n[0])<bi&&Ui(t[1]-n[1])<bi}var fo=function(){var e,n=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){n.push(e=[])},lineEnd:Oi,rejoin:function(){1<n.length&&n.push(n.pop().concat(n.shift()))},result:function(){var t=n;return n=[],e=null,t}}};function po(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}var _o=function(t,n,e,r,o){var u,i,a=[],s=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],i=t[n];if(lo(r,i)){for(o.lineStart(),u=0;u<n;++u)o.point((r=t[u])[0],r[1]);o.lineEnd()}else a.push(e=new po(r,t,null,!0)),s.push(e.o=new po(r,null,e,!1)),a.push(e=new po(i,t,null,!1)),s.push(e.o=new po(i,null,e,!0))}}),a.length){for(s.sort(n),vo(a),vo(s),u=0,i=s.length;u<i;++u)s[u].e=e=!e;for(var c,h,l=a[0];;){for(var f=l,p=!0;f.v;)if((f=f.n)===l)return;c=f.z,o.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(u=0,i=c.length;u<i;++u)o.point((h=c[u])[0],h[1]);else r(f.x,f.n.x,1,o);f=f.n}else{if(p)for(c=f.p.z,u=c.length-1;0<=u;--u)o.point((h=c[u])[0],h[1]);else r(f.x,f.p.x,-1,o);f=f.p}c=(f=f.o).z,p=!p}while(!f.v);o.lineEnd()}}};function vo(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}var yo=mi();function go(t){return Ui(t[0])<=Ni?t[0]:Yi(t[0])*((Ui(t[0])+Ni)%Ci-Ni)}function mo(t,n){var e=go(n),r=n[1],i=Fi(r),o=[Fi(e),-Pi(e),0],u=0,a=0;yo.reset(),1===i?r=Ti+bi:-1===i&&(r=-Ti-bi);for(var s=0,c=t.length;s<c;++s)if(l=(h=t[s]).length)for(var h,l,f=h[l-1],p=go(f),_=f[1]/2+Si,v=Fi(_),y=Pi(_),g=0;g<l;++g,p=m,v=w,y=M,f=d){var d=h[g],m=go(d),x=d[1]/2+Si,w=Fi(x),M=Pi(x),b=m-p,k=0<=b?1:-1,N=k*b,T=Ni<N,S=v*w;if(yo.add(Di(S*k*Fi(N),y*M+S*Pi(N))),u+=T?b+k*Ci:b,T^e<=p^e<=m){var C=Ki(Qi(f),Qi(d));eo(C);var E=Ki(o,C);eo(E);var A=(T^0<=b?-1:1)*Ii(E[2]);(A<r||r===A&&(C[0]||C[1]))&&(a+=T^0<=b?1:-1)}}return(u<-bi||u<bi&&yo<-bi)^1&a}function xo(y,g,d,m){return function(a){var s,c,h,e=g(a),l=fo(),f=g(l),p=!1,n={point:r,lineStart:i,lineEnd:o,polygonStart:function(){n.point=_,n.lineStart=u,n.lineEnd=v,c=[],s=[]},polygonEnd:function(){n.point=r,n.lineStart=i,n.lineEnd=o,c=T(c);var t=mo(s,m);c.length?(p||(a.polygonStart(),p=!0),_o(c,Mo,t,d,a)):t&&(p||(a.polygonStart(),p=!0),a.lineStart(),d(null,null,1,a),a.lineEnd()),p&&(a.polygonEnd(),p=!1),c=s=null},sphere:function(){a.polygonStart(),a.lineStart(),d(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function r(t,n){y(t,n)&&a.point(t,n)}function t(t,n){e.point(t,n)}function i(){n.point=t,e.lineStart()}function o(){n.point=r,e.lineEnd()}function _(t,n){h.push([t,n]),f.point(t,n)}function u(){f.lineStart(),h=[]}function v(){_(h[0][0],h[0][1]),f.lineEnd();var t,n,e,r,i=f.clean(),o=l.result(),u=o.length;if(h.pop(),s.push(h),h=null,u)if(1&i){if(0<(n=(e=o[0]).length-1)){for(p||(a.polygonStart(),p=!0),a.lineStart(),t=0;t<n;++t)a.point((r=e[t])[0],r[1]);a.lineEnd()}}else 1<u&&2&i&&o.push(o.pop().concat(o.shift())),c.push(o.filter(wo))}return n}}function wo(t){return 1<t.length}function Mo(t,n){return((t=t.x)[0]<0?t[1]-Ti-bi:Ti-t[1])-((n=n.x)[0]<0?n[1]-Ti-bi:Ti-n[1])}var bo=xo(function(){return!0},function(i){var o,u=NaN,a=NaN,s=NaN;return{lineStart:function(){i.lineStart(),o=1},point:function(t,n){var e=0<t?Ni:-Ni,r=Ui(t-u);Ui(r-Ni)<bi?(i.point(u,a=0<(a+n)/2?Ti:-Ti),i.point(s,a),i.lineEnd(),i.lineStart(),i.point(e,a),i.point(t,a),o=0):s!==e&&Ni<=r&&(Ui(u-s)<bi&&(u-=s*bi),Ui(t-e)<bi&&(t-=e*bi),a=function(t,n,e,r){var i,o,u=Fi(t-e);return Ui(u)>bi?zi((Fi(n)*(o=Pi(r))*Fi(e)-Fi(r)*(i=Pi(n))*Fi(t))/(i*o*u)):(n+r)/2}(u,a,t,n),i.point(s,a),i.lineEnd(),i.lineStart(),i.point(e,a),o=0),i.point(u=t,a=n),s=e},lineEnd:function(){i.lineEnd(),u=a=NaN},clean:function(){return 2-o}}},function(t,n,e,r){var i;if(null==t)i=e*Ti,r.point(-Ni,i),r.point(0,i),r.point(Ni,i),r.point(Ni,0),r.point(Ni,-i),r.point(0,-i),r.point(-Ni,-i),r.point(-Ni,0),r.point(-Ni,i);else if(Ui(t[0]-n[0])>bi){var o=t[0]<n[0]?Ni:-Ni;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])},[-Ni,-Ti]);var ko=function(i){var T=Pi(i),o=6*Ai,p=0<T,_=Ui(T)>bi;function v(t,n){return Pi(t)*Pi(n)>T}function y(t,n,e){var r=[1,0,0],i=Ki(Qi(t),Qi(n)),o=Gi(i,i),u=i[0],a=o-u*u;if(!a)return!e&&t;var s=T*o/a,c=-T*u/a,h=Ki(r,i),l=no(r,s);to(l,no(i,c));var f=h,p=Gi(l,f),_=Gi(f,f),v=p*p-_*(Gi(l,l)-1);if(!(v<0)){var y=qi(v),g=no(f,(-p-y)/_);if(to(g,l),g=Ji(g),!e)return g;var d,m=t[0],x=n[0],w=t[1],M=n[1];x<m&&(d=m,m=x,x=d);var b=x-m,k=Ui(b-Ni)<bi;if(!k&&M<w&&(d=w,w=M,M=d),k||b<bi?k?0<w+M^g[1]<(Ui(g[0]-m)<bi?w:M):w<=g[1]&&g[1]<=M:Ni<b^(m<=g[0]&&g[0]<=x)){var N=no(f,(-p+y)/_);return to(N,l),[g,Ji(N)]}}}function g(t,n){var e=p?i:Ni-i,r=0;return t<-e?r|=1:e<t&&(r|=2),n<-e?r|=4:e<n&&(r|=8),r}return xo(v,function(a){var s,c,h,l,f;return{lineStart:function(){l=h=!1,f=1},point:function(t,n){var e,r=[t,n],i=v(t,n),o=p?i?0:g(t,n):i?g(t+(t<0?Ni:-Ni),n):0;if(!s&&(l=h=i)&&a.lineStart(),i!==h&&((e=y(s,r))&&!lo(s,e)&&!lo(r,e)||(r[0]+=bi,r[1]+=bi,i=v(r[0],r[1]))),i!==h)f=0,i?(a.lineStart(),e=y(r,s),a.point(e[0],e[1])):(e=y(s,r),a.point(e[0],e[1]),a.lineEnd()),s=e;else if(_&&s&&p^i){var u;o&c||!(u=y(r,s,!0))||(f=0,p?(a.lineStart(),a.point(u[0][0],u[0][1]),a.point(u[1][0],u[1][1]),a.lineEnd()):(a.point(u[1][0],u[1][1]),a.lineEnd(),a.lineStart(),a.point(u[0][0],u[0][1])))}!i||s&&lo(s,r)||a.point(r[0],r[1]),s=r,h=i,c=o},lineEnd:function(){h&&a.lineEnd(),s=null},clean:function(){return f|(l&&h)<<1}}},function(t,n,e,r){co(r,i,o,e,t,n)},p?[0,-i]:[-Ni,i-Ni])},No=function(t,n,e,r,i,o){var u,a=t[0],s=t[1],c=0,h=1,l=n[0]-a,f=n[1]-s;if(u=e-a,l||!(0<u)){if(u/=l,l<0){if(u<c)return;u<h&&(h=u)}else if(0<l){if(h<u)return;c<u&&(c=u)}if(u=i-a,l||!(u<0)){if(u/=l,l<0){if(h<u)return;c<u&&(c=u)}else if(0<l){if(u<c)return;u<h&&(h=u)}if(u=r-s,f||!(0<u)){if(u/=f,f<0){if(u<c)return;u<h&&(h=u)}else if(0<f){if(h<u)return;c<u&&(c=u)}if(u=o-s,f||!(u<0)){if(u/=f,f<0){if(h<u)return;c<u&&(c=u)}else if(0<f){if(u<c)return;u<h&&(h=u)}return 0<c&&(t[0]=a+c*l,t[1]=s+c*f),h<1&&(n[0]=a+h*l,n[1]=s+h*f),!0}}}}},To=1e9,So=-To;function Co(g,d,m,x){function w(t,n){return g<=t&&t<=m&&d<=n&&n<=x}function M(t,n,e,r){var i=0,o=0;if(null==t||(i=u(t,e))!==(o=u(n,e))||a(t,n)<0^0<e)for(;r.point(0===i||3===i?g:m,1<i?x:d),(i=(i+e+4)%4)!==o;);else r.point(n[0],n[1])}function u(t,n){return Ui(t[0]-g)<bi?0<n?0:3:Ui(t[0]-m)<bi?0<n?2:1:Ui(t[1]-d)<bi?0<n?1:0:0<n?3:2}function b(t,n){return a(t.x,n.x)}function a(t,n){var e=u(t,1),r=u(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(r){var i,l,o,u,a,s,c,h,f,p,_,v=r,t=fo(),n={point:e,lineStart:function(){n.point=y,l&&l.push(o=[]);p=!0,f=!1,c=h=NaN},lineEnd:function(){i&&(y(u,a),s&&f&&t.rejoin(),i.push(t.result()));n.point=e,f&&v.lineEnd()},polygonStart:function(){v=t,i=[],l=[],_=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,e=l.length;n<e;++n)for(var r,i,o=l[n],u=1,a=o.length,s=o[0],c=s[0],h=s[1];u<a;++u)r=c,i=h,s=o[u],c=s[0],h=s[1],i<=x?x<h&&(h-i)*(g-r)<(c-r)*(x-i)&&++t:h<=x&&(c-r)*(x-i)<(h-i)*(g-r)&&--t;return t}(),n=_&&t,e=(i=T(i)).length;(n||e)&&(r.polygonStart(),n&&(r.lineStart(),M(null,null,1,r),r.lineEnd()),e&&_o(i,b,t,M,r),r.polygonEnd());v=r,i=l=o=null}};function e(t,n){w(t,n)&&v.point(t,n)}function y(t,n){var e=w(t,n);if(l&&o.push([t,n]),p)u=t,a=n,p=!1,(s=e)&&(v.lineStart(),v.point(t,n));else if(e&&f)v.point(t,n);else{var r=[c=Math.max(So,Math.min(To,c)),h=Math.max(So,Math.min(To,h))],i=[t=Math.max(So,Math.min(To,t)),n=Math.max(So,Math.min(To,n))];No(r,i,g,d,m,x)?(f||(v.lineStart(),v.point(r[0],r[1])),v.point(i[0],i[1]),e||v.lineEnd(),_=!1):e&&(v.lineStart(),v.point(t,n),_=!1)}c=t,h=n,f=e}return n}}mi();var Eo,Ao,Uo,zo,Do=function(t){return t},Po=mi(),Lo=mi(),Ro={point:Oi,lineStart:Oi,lineEnd:Oi,polygonStart:function(){Ro.lineStart=Fo,Ro.lineEnd=Ho},polygonEnd:function(){Ro.lineStart=Ro.lineEnd=Ro.point=Oi,Po.add(Ui(Lo)),Lo.reset()},result:function(){var t=Po/2;return Po.reset(),t}};function Fo(){Ro.point=Yo}function Yo(t,n){Ro.point=qo,Eo=Uo=t,Ao=zo=n}function qo(t,n){Lo.add(zo*t-Uo*n),Uo=t,zo=n}function Ho(){qo(Eo,Ao)}var jo=Ro,Io=1/0,Oo=Io,Vo=-Io,Xo=Vo;var Bo,Zo,$o,Wo,Jo={point:function(t,n){t<Io&&(Io=t);Vo<t&&(Vo=t);n<Oo&&(Oo=n);Xo<n&&(Xo=n)},lineStart:Oi,lineEnd:Oi,polygonStart:Oi,polygonEnd:Oi,result:function(){var t=[[Io,Oo],[Vo,Xo]];return Vo=Xo=-(Oo=Io=1/0),t}},Qo=0,Go=0,Ko=0,tu=0,nu=0,eu=0,ru=0,iu=0,ou=0,uu={point:au,lineStart:su,lineEnd:lu,polygonStart:function(){uu.lineStart=fu,uu.lineEnd=pu},polygonEnd:function(){uu.point=au,uu.lineStart=su,uu.lineEnd=lu},result:function(){var t=ou?[ru/ou,iu/ou]:eu?[tu/eu,nu/eu]:Ko?[Qo/Ko,Go/Ko]:[NaN,NaN];return Qo=Go=Ko=tu=nu=eu=ru=iu=ou=0,t}};function au(t,n){Qo+=t,Go+=n,++Ko}function su(){uu.point=cu}function cu(t,n){uu.point=hu,au($o=t,Wo=n)}function hu(t,n){var e=t-$o,r=n-Wo,i=qi(e*e+r*r);tu+=i*($o+t)/2,nu+=i*(Wo+n)/2,eu+=i,au($o=t,Wo=n)}function lu(){uu.point=au}function fu(){uu.point=_u}function pu(){vu(Bo,Zo)}function _u(t,n){uu.point=vu,au(Bo=$o=t,Zo=Wo=n)}function vu(t,n){var e=t-$o,r=n-Wo,i=qi(e*e+r*r);tu+=i*($o+t)/2,nu+=i*(Wo+n)/2,eu+=i,ru+=(i=Wo*t-$o*n)*($o+t),iu+=i*(Wo+n),ou+=3*i,au($o=t,Wo=n)}var yu=uu;function gu(t){this._context=t}gu.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Ci)}},result:Oi};var du,mu,xu,wu,Mu,bu=mi(),ku={point:Oi,lineStart:function(){ku.point=Nu},lineEnd:function(){du&&Tu(mu,xu),ku.point=Oi},polygonStart:function(){du=!0},polygonEnd:function(){du=null},result:function(){var t=+bu;return bu.reset(),t}};function Nu(t,n){ku.point=Tu,mu=wu=t,xu=Mu=n}function Tu(t,n){wu-=t,Mu-=n,bu.add(qi(wu*wu+Mu*Mu)),wu=t,Mu=n}var Su=ku;function Cu(){this._string=[]}function Eu(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}Cu.prototype={_radius:4.5,_circle:Eu(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=Eu(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};function Au(n,e){var r,i,o=4.5;function u(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),Wi(t,r(i))),i.result()}return u.area=function(t){return Wi(t,r(jo)),jo.result()},u.measure=function(t){return Wi(t,r(Su)),Su.result()},u.bounds=function(t){return Wi(t,r(Jo)),Jo.result()},u.centroid=function(t){return Wi(t,r(yu)),yu.result()},u.projection=function(t){return arguments.length?(r=null==t?(n=null,Do):(n=t).stream,u):n},u.context=function(t){return arguments.length?(i=null==t?(e=null,new Cu):new gu(e=t),"function"!=typeof o&&i.pointRadius(o),u):e},u.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),u):o},u.projection(n).context(e)}function Uu(r){return function(t){var n=new zu;for(var e in r)n[e]=r[e];return n.stream=t,n}}function zu(){}function Du(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Wi(e,t.stream(Jo)),n(Jo.result()),null!=r&&t.clipExtent(r),t}function Pu(u,a,t){return Du(u,function(t){var n=a[1][0]-a[0][0],e=a[1][1]-a[0][1],r=Math.min(n/(t[1][0]-t[0][0]),e/(t[1][1]-t[0][1])),i=+a[0][0]+(n-r*(t[1][0]+t[0][0]))/2,o=+a[0][1]+(e-r*(t[1][1]+t[0][1]))/2;u.scale(150*r).translate([i,o])},t)}function Lu(t,n,e){return Pu(t,[[0,0],n],e)}function Ru(o,u,t){return Du(o,function(t){var n=+u,e=n/(t[1][0]-t[0][0]),r=(n-e*(t[1][0]+t[0][0]))/2,i=-e*t[0][1];o.scale(150*e).translate([r,i])},t)}function Fu(o,u,t){return Du(o,function(t){var n=+u,e=n/(t[1][1]-t[0][1]),r=-e*t[0][0],i=(n-e*(t[1][1]+t[0][1]))/2;o.scale(150*e).translate([r,i])},t)}zu.prototype={constructor:zu,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Yu=Pi(30*Ai),qu=function(t,n){return+n?function(E,A){function U(t,n,e,r,i,o,u,a,s,c,h,l,f,p){var _=u-t,v=a-n,y=_*_+v*v;if(4*A<y&&f--){var g=r+c,d=i+h,m=o+l,x=qi(g*g+d*d+m*m),w=Ii(m/=x),M=Ui(Ui(m)-1)<bi||Ui(e-s)<bi?(e+s)/2:Di(d,g),b=E(M,w),k=b[0],N=b[1],T=k-t,S=N-n,C=v*T-_*S;(A<C*C/y||.3<Ui((_*T+v*S)/y-.5)||r*c+i*h+o*l<Yu)&&(U(t,n,e,r,i,o,k,N,M,g/=x,d/=x,m,f,p),p.point(k,N),U(k,N,M,g,d,m,u,a,s,c,h,l,f,p))}}return function(i){var e,r,o,u,a,s,c,h,l,f,p,_,v={point:t,lineStart:n,lineEnd:g,polygonStart:function(){i.polygonStart(),v.lineStart=d},polygonEnd:function(){i.polygonEnd(),v.lineStart=n}};function t(t,n){t=E(t,n),i.point(t[0],t[1])}function n(){h=NaN,v.point=y,i.lineStart()}function y(t,n){var e=Qi([t,n]),r=E(t,n);U(h,l,c,f,p,_,h=r[0],l=r[1],c=t,f=e[0],p=e[1],_=e[2],16,i),i.point(h,l)}function g(){v.point=t,i.lineEnd()}function d(){n(),v.point=m,v.lineEnd=x}function m(t,n){y(e=t,n),r=h,o=l,u=f,a=p,s=_,v.point=y}function x(){U(h,l,c,f,p,_,r,o,e,u,a,s,16,i),(v.lineEnd=g)()}return v}}(t,n):function(e){return Uu({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(t)};var Hu=Uu({point:function(t,n){this.stream.point(t*Ai,n*Ai)}});function ju(t,e,r,n){var i=Pi(n),o=Fi(n),u=i*t,a=o*t,s=i/t,c=o/t,h=(o*r-i*e)/t,l=(o*e+i*r)/t;function f(t,n){return[u*t-a*n+e,r-a*t-u*n]}return f.invert=function(t,n){return[s*t-c*n+h,l-c*t-s*n]},f}function Iu(t){return Ou(function(){return t})()}function Ou(t){var e,r,n,i,o,u,a,s,c,h,l=150,f=480,p=250,_=0,v=0,y=0,g=0,d=0,m=0,x=null,w=bo,M=null,b=Do,k=.5;function N(t){return s(t[0]*Ai,t[1]*Ai)}function T(t){return(t=s.invert(t[0],t[1]))&&[t[0]*Ei,t[1]*Ei]}function S(){var t=ju(l,0,0,m).apply(null,e(_,v)),n=(m?ju:function(e,r,i){function t(t,n){return[r+e*t,i-e*n]}return t.invert=function(t,n){return[(t-r)/e,(i-n)/e]},t})(l,f-t[0],p-t[1],m);return r=oo(y,g,d),a=ro(e,n),s=ro(r,a),u=qu(a,k),C()}function C(){return c=h=null,N}return N.stream=function(t){return c&&h===t?c:c=Hu(function(r){return Uu({point:function(t,n){var e=r(t,n);return this.stream.point(e[0],e[1])}})}(r)(w(u(b(h=t)))))},N.preclip=function(t){return arguments.length?(w=t,x=void 0,C()):w},N.postclip=function(t){return arguments.length?(b=t,M=n=i=o=null,C()):b},N.clipAngle=function(t){return arguments.length?(w=+t?ko(x=t*Ai):(x=null,bo),C()):x*Ei},N.clipExtent=function(t){return arguments.length?(b=null==t?(M=n=i=o=null,Do):Co(M=+t[0][0],n=+t[0][1],i=+t[1][0],o=+t[1][1]),C()):null==M?null:[[M,n],[i,o]]},N.scale=function(t){return arguments.length?(l=+t,S()):l},N.translate=function(t){return arguments.length?(f=+t[0],p=+t[1],S()):[f,p]},N.center=function(t){return arguments.length?(_=t[0]%360*Ai,v=t[1]%360*Ai,S()):[_*Ei,v*Ei]},N.rotate=function(t){return arguments.length?(y=t[0]%360*Ai,g=t[1]%360*Ai,d=2<t.length?t[2]%360*Ai:0,S()):[y*Ei,g*Ei,d*Ei]},N.angle=function(t){return arguments.length?(m=t%360*Ai,S()):m*Ei},N.precision=function(t){return arguments.length?(u=qu(a,k=t*t),C()):qi(k)},N.fitExtent=function(t,n){return Pu(N,t,n)},N.fitSize=function(t,n){return Lu(N,t,n)},N.fitWidth=function(t,n){return Ru(N,t,n)},N.fitHeight=function(t,n){return Fu(N,t,n)},function(){return e=t.apply(this,arguments),N.invert=e.invert&&T,S()}}function Vu(o){return function(t,n){var e=Pi(t),r=Pi(n),i=o(e*r);return[i*r*Fi(t),i*Fi(n)]}}function Xu(u){return function(t,n){var e=qi(t*t+n*n),r=u(e),i=Fi(r),o=Pi(r);return[Di(t*i,e*o),Ii(e&&n*i/e)]}}var Bu=Vu(function(t){return qi(2/(1+t))});Bu.invert=Xu(function(t){return 2*Ii(t/2)});var Zu=Vu(function(t){return(t=ji(t))&&t/Fi(t)});Zu.invert=Xu(function(t){return t});function $u(t,n){return[t,Ri(Hi((Ti+n)/2))]}$u.invert=function(t,n){return[t,2*zi(Li(n))-Ti]};function Wu(){return Ju($u).scale(961/Ci)}function Ju(e){var r,i,o,u=Iu(e),n=u.center,a=u.scale,s=u.translate,c=u.clipExtent,h=null;function l(){var t=Ni*a(),n=u(function(n){function t(t){return(t=n(t[0]*Ai,t[1]*Ai))[0]*=Ei,t[1]*=Ei,t}return n=oo(n[0]*Ai,n[1]*Ai,2<n.length?n[2]*Ai:0),t.invert=function(t){return(t=n.invert(t[0]*Ai,t[1]*Ai))[0]*=Ei,t[1]*=Ei,t},t}(u.rotate()).invert([0,0]));return c(null==h?[[n[0]-t,n[1]-t],[n[0]+t,n[1]+t]]:e===$u?[[Math.max(n[0]-t,h),r],[Math.min(n[0]+t,i),o]]:[[h,Math.max(n[1]-t,r)],[i,Math.min(n[1]+t,o)]])}return u.scale=function(t){return arguments.length?(a(t),l()):a()},u.translate=function(t){return arguments.length?(s(t),l()):s()},u.center=function(t){return arguments.length?(n(t),l()):n()},u.clipExtent=function(t){return arguments.length?(null==t?h=r=i=o=null:(h=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),l()):null==h?null:[[h,r],[i,o]]},l()}function Qu(t,n){return[t,n]}Qu.invert=Qu;var Gu=1.340264,Ku=-.081106,ta=893e-6,na=.003796,ea=qi(3)/2;Xu(zi);Xu(Ii);Xu(function(t){return 2*zi(t)});function ra(t){var n=0,e=t.children,r=e&&e.length;if(r)for(;0<=--r;)n+=e[r].value;else n=1;t.value=n}function ia(t,n){var e,r,i,o,u,a=new sa(t),s=+t.value&&(a.value=t.value),c=[a];for(null==n&&(n=oa);e=c.pop();)if(s&&(e.value=+e.data.value),(i=n(e.data))&&(u=i.length))for(e.children=new Array(u),o=u-1;0<=o;--o)c.push(r=e.children[o]=new sa(i[o])),r.parent=e,r.depth=e.depth+1;return a.eachBefore(aa)}function oa(t){return t.children}function ua(t){t.data=t.data.data}function aa(t){for(var n=0;t.height=n,(t=t.parent)&&t.height<++n;);}function sa(t){this.data=t,this.depth=this.height=0,this.parent=null}sa.prototype=ia.prototype={constructor:sa,count:function(){return this.eachAfter(ra)},each:function(t){var n,e,r,i,o=this,u=[o];do{for(n=u.reverse(),u=[];o=n.pop();)if(t(o),e=o.children)for(r=0,i=e.length;r<i;++r)u.push(e[r])}while(u.length);return this},eachAfter:function(t){for(var n,e,r,i=this,o=[i],u=[];i=o.pop();)if(u.push(i),n=i.children)for(e=0,r=n.length;e<r;++e)o.push(n[e]);for(;i=u.pop();)t(i);return this},eachBefore:function(t){for(var n,e,r=this,i=[r];r=i.pop();)if(t(r),n=r.children)for(e=n.length-1;0<=e;--e)i.push(n[e]);return this},sum:function(i){return this.eachAfter(function(t){for(var n=+i(t.data)||0,e=t.children,r=e&&e.length;0<=--r;)n+=e[r].value;t.value=n})},sort:function(n){return this.eachBefore(function(t){t.children&&t.children.sort(n)})},path:function(t){for(var n=this,e=function(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;t=e.pop(),n=r.pop();for(;t===n;)i=t,t=e.pop(),n=r.pop();return i}(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){var n=[];return this.each(function(t){n.push(t)}),n},leaves:function(){var n=[];return this.eachBefore(function(t){t.children||n.push(t)}),n},links:function(){var n=this,e=[];return n.each(function(t){t!==n&&e.push({source:t.parent,target:t})}),e},copy:function(){return ia(this).eachBefore(ua)}};Array.prototype.slice;var ca=function(t,n,e,r,i){for(var o,u=t.children,a=-1,s=u.length,c=t.value&&(r-n)/t.value;++a<s;)(o=u[a]).y0=e,o.y1=i,o.x0=n,o.x1=n+=o.value*c};Object.create(sa.prototype);var ha=function(t,n,e,r,i){for(var o,u=t.children,a=-1,s=u.length,c=t.value&&(i-e)/t.value;++a<s;)(o=u[a]).x0=n,o.x1=r,o.y0=e,o.y1=e+=o.value*c},la=(1+Math.sqrt(5))/2;function fa(t,n,e,r,i,o){for(var u,a,s,c,h,l,f,p,_,v,y,g=[],d=n.children,m=0,x=0,w=d.length,M=n.value;m<w;){for(s=i-e,c=o-r;!(h=d[x++].value)&&x<w;);for(l=f=h,y=h*h*(v=Math.max(c/s,s/c)/(M*t)),_=Math.max(f/y,y/l);x<w;++x){if(h+=a=d[x].value,a<l&&(l=a),f<a&&(f=a),y=h*h*v,_<(p=Math.max(f/y,y/l))){h-=a;break}_=p}g.push(u={value:h,dice:s<c,children:d.slice(m,x)}),u.dice?ca(u,e,r,i,M?r+=c*h/M:o):ha(u,e,r,M?e+=s*h/M:i,o),M-=h,m=x}return g}(function n(o){function t(t,n,e,r,i){fa(o,t,n,e,r,i)}return t.ratio=function(t){return n(1<(t=+t)?t:1)},t})(la),function n(p){function t(t,n,e,r,i){if((o=t._squarify)&&o.ratio===p)for(var o,u,a,s,c,h=-1,l=o.length,f=t.value;++h<l;){for(a=(u=o[h]).children,s=u.value=0,c=a.length;s<c;++s)u.value+=a[s].value;u.dice?ca(u,n,e,r,e+=(i-e)*u.value/f):ha(u,n,e,n+=(r-n)*u.value/f,i),f-=u.value}else t._squarify=o=fa(p,t,n,e,r,i),o.ratio=p}return t.ratio=function(t){return n(1<(t=+t)?t:1)},t}(la);function pa(){return Math.random()}(function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n})(pa);var _a=function t(o){function n(n,e){var r,i;return n=null==n?0:+n,e=null==e?1:+e,function(){var t;if(null!=r)t=r,r=null;else for(;r=2*o()-1,t=2*o()-1,!(i=r*r+t*t)||1<i;);return n+e*t*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(pa),va=(function t(n){function e(){var t=_a.source(n).apply(this,arguments);return function(){return Math.exp(t())}}return e.source=t,e}(pa),function t(r){function n(e){return function(){for(var t=0,n=0;n<e;++n)t+=r();return t}}return n.source=t,n}(pa));(function t(e){function n(t){var n=va.source(e)(t);return function(){return n()/t}}return n.source=t,n})(pa),function t(n){function e(t){return function(){return-Math.log(1-n())/t}}return e.source=t,e}(pa);function ya(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}var ga=Array.prototype,da=ga.map,ma=ga.slice;var xa=function(t){return function(){return t}},wa=function(t){return+t},Ma=[0,1];function ba(t){return t}function ka(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:xa(isNaN(e)?NaN:.5)}function Na(t){var n,e=t[0],r=t[t.length-1];return r<e&&(n=e,e=r,r=n),function(t){return Math.max(e,Math.min(r,t))}}function Ta(t,n,e){var r=t[0],i=t[1],o=n[0],u=n[1];return o=i<r?(r=ka(i,r),e(u,o)):(r=ka(r,i),e(o,u)),function(t){return o(r(t))}}function Sa(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),u=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<r;)i[u]=ka(e[u],e[u+1]),o[u]=n(t[u],t[u+1]);return function(t){var n=a(e,t,1,r)-1;return o[n](i[n](t))}}function Ca(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ea(){var e,r,n,i,o,u,a=Ma,s=Ma,c=re,h=ba;function l(){return i=2<Math.min(a.length,s.length)?Sa:Ta,o=u=null,f}function f(t){return isNaN(t=+t)?n:(o=o||i(a.map(e),s,c))(e(h(t)))}return f.invert=function(t){return h(r((u=u||i(s,a.map(e),$n))(t)))},f.domain=function(t){return arguments.length?(a=da.call(t,wa),h===ba||(h=Na(a)),l()):a.slice()},f.range=function(t){return arguments.length?(s=ma.call(t),l()):s.slice()},f.rangeRound=function(t){return s=ma.call(t),c=ie,l()},f.clamp=function(t){return arguments.length?(h=t?Na(a):ba,f):h!==ba},f.interpolate=function(t){return arguments.length?(c=t,l()):c},f.unknown=function(t){return arguments.length?(n=t,f):n},function(t,n){return e=t,r=n,l()}}function Aa(t,n){return Ea()(t,n)}var Ua=function(t,n,e,r){var i,o=N(t,n,e);switch((r=ci(null==r?",f":r)).type){case"s":var u=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ai(n)/3)))-ai(Math.abs(t)))}(o,u))||(r.precision=i),yi(r,u);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,ai(n)-ai(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-ai(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return vi(r)};function za(a){var s=a.domain;return a.ticks=function(t){var n=s();return f(n[0],n[n.length-1],null==t?10:t)},a.tickFormat=function(t,n){var e=s();return Ua(e[0],e[e.length-1],null==t?10:t,n)},a.nice=function(t){null==t&&(t=10);var n,e=s(),r=0,i=e.length-1,o=e[r],u=e[i];return u<o&&(n=o,o=u,u=n,n=r,r=i,i=n),0<(n=p(o,u,t))?n=p(o=Math.floor(o/n)*n,u=Math.ceil(u/n)*n,t):n<0&&(n=p(o=Math.ceil(o*n)/n,u=Math.floor(u*n)/n,t)),0<n?(e[r]=Math.floor(o/n)*n,e[i]=Math.ceil(u/n)*n,s(e)):n<0&&(e[r]=Math.ceil(o*n)/n,e[i]=Math.floor(u*n)/n,s(e)),a},a}var Da=function(t,n){var e,r=0,i=(t=t.slice()).length-1,o=t[r],u=t[i];return u<o&&(e=r,r=i,i=e,e=o,o=u,u=e),t[r]=n.floor(o),t[i]=n.ceil(u),t};function Pa(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function La(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Ra(t){return t<0?-t*t:t*t}function Fa(n){var t=n(ba,ba),e=1;return t.exponent=function(t){return arguments.length?1===(e=+t)?n(ba,ba):.5===e?n(La,Ra):n(Pa(e),Pa(1/e)):e},za(t)}function Ya(){return function t(){var n=Fa(Ea());return n.copy=function(){return Ca(n,t()).exponent(n.exponent())},ya.apply(n,arguments),n}.apply(null,arguments).exponent(.5)}var qa=new Date,Ha=new Date;function ja(o,u,e,r){function a(t){return o(t=new Date(+t)),t}return(a.floor=a).ceil=function(t){return o(t=new Date(t-1)),u(t,1),o(t),t},a.round=function(t){var n=a(t),e=a.ceil(t);return t-n<e-t?n:e},a.offset=function(t,n){return u(t=new Date(+t),null==n?1:Math.floor(n)),t},a.range=function(t,n,e){var r,i=[];if(t=a.ceil(t),e=null==e?1:Math.floor(e),!(t<n&&0<e))return i;for(;i.push(r=new Date(+t)),u(t,e),o(t),r<t&&t<n;);return i},a.filter=function(e){return ja(function(t){if(t<=t)for(;o(t),!e(t);)t.setTime(t-1)},function(t,n){if(t<=t)if(n<0)for(;++n<=0;)for(;u(t,-1),!e(t););else for(;0<=--n;)for(;u(t,1),!e(t););})},e&&(a.count=function(t,n){return qa.setTime(+t),Ha.setTime(+n),o(qa),o(Ha),Math.floor(e(qa,Ha))},a.every=function(n){return n=Math.floor(n),isFinite(n)&&0<n?1<n?a.filter(r?function(t){return r(t)%n==0}:function(t){return a.count(0,t)%n==0}):a:null}),a}var Ia=ja(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});Ia.every=function(e){return e=Math.floor(e),isFinite(e)&&0<e?1<e?ja(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):Ia:null};var Oa=Ia,Va=(Ia.range,ja(function(t){t.setTime(t-t.getMilliseconds())},function(t,n){t.setTime(+t+1e3*n)},function(t,n){return(n-t)/1e3},function(t){return t.getUTCSeconds()})),Xa=Va,Ba=(Va.range,ja(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,n){t.setTime(+t+6e4*n)},function(t,n){return(n-t)/6e4},function(t){return t.getMinutes()})),Za=Ba,$a=(Ba.range,ja(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getHours()})),Wa=$a,Ja=($a.range,ja(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5},function(t){return t.getDate()-1})),Qa=Ja;Ja.range;function Ga(n){return ja(function(t){t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5})}var Ka=Ga(0),ts=Ga(1),ns=Ga(2),es=Ga(3),rs=Ga(4),is=Ga(5),os=Ga(6),us=(Ka.range,ts.range,ns.range,es.range,rs.range,is.range,os.range,ja(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()})),as=us,ss=(us.range,ja(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}));ss.every=function(e){return isFinite(e=Math.floor(e))&&0<e?ja(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};var cs=ss,hs=(ss.range,ja(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+6e4*n)},function(t,n){return(n-t)/6e4},function(t){return t.getUTCMinutes()})),ls=(hs.range,ja(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getUTCHours()})),fs=(ls.range,ja(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/864e5},function(t){return t.getUTCDate()-1})),ps=fs;fs.range;function _s(n){return ja(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/6048e5})}var vs=_s(0),ys=_s(1),gs=_s(2),ds=_s(3),ms=_s(4),xs=_s(5),ws=_s(6),Ms=(vs.range,ys.range,gs.range,ds.range,ms.range,xs.range,ws.range,ja(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()})),bs=(Ms.range,ja(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));bs.every=function(e){return isFinite(e=Math.floor(e))&&0<e?ja(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};var ks=bs;bs.range;function Ns(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ts(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ss(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}var Cs,Es,As,Us,zs,Ds,Ps,Ls,Rs,Fs,Ys,qs,Hs,js,Is,Os,Vs,Xs,Bs,Zs,$s,Ws,Js,Qs,Gs,Ks,tc,nc={"-":"",_:" ",0:"0"},ec=/^\s*\d+/,rc=/^%/,ic=/[\\^$*+?|[\]().{}]/g;function oc(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function uc(t){return t.replace(ic,"\\$&")}function ac(t){return new RegExp("^(?:"+t.map(uc).join("|")+")","i")}function sc(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function cc(t,n,e){var r=ec.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function hc(t,n,e){var r=ec.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function lc(t,n,e){var r=ec.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function fc(t,n,e){var r=ec.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function pc(t,n,e){var r=ec.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function _c(t,n,e){var r=ec.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function vc(t,n,e){var r=ec.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(68<+r[0]?1900:2e3),e+r[0].length):-1}function yc(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function gc(t,n,e){var r=ec.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function dc(t,n,e){var r=ec.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function mc(t,n,e){var r=ec.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function xc(t,n,e){var r=ec.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function wc(t,n,e){var r=ec.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function Mc(t,n,e){var r=ec.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function bc(t,n,e){var r=ec.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function kc(t,n,e){var r=ec.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function Nc(t,n,e){var r=rc.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function Tc(t,n,e){var r=ec.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function Sc(t,n,e){var r=ec.exec(n.slice(e));return r?(t.Q=1e3*+r[0],e+r[0].length):-1}function Cc(t,n){return oc(t.getDate(),n,2)}function Ec(t,n){return oc(t.getHours(),n,2)}function Ac(t,n){return oc(t.getHours()%12||12,n,2)}function Uc(t,n){return oc(1+Qa.count(cs(t),t),n,3)}function zc(t,n){return oc(t.getMilliseconds(),n,3)}function Dc(t,n){return zc(t,n)+"000"}function Pc(t,n){return oc(t.getMonth()+1,n,2)}function Lc(t,n){return oc(t.getMinutes(),n,2)}function Rc(t,n){return oc(t.getSeconds(),n,2)}function Fc(t){var n=t.getDay();return 0===n?7:n}function Yc(t,n){return oc(Ka.count(cs(t),t),n,2)}function qc(t,n){var e=t.getDay();return t=4<=e||0===e?rs(t):rs.ceil(t),oc(rs.count(cs(t),t)+(4===cs(t).getDay()),n,2)}function Hc(t){return t.getDay()}function jc(t,n){return oc(ts.count(cs(t),t),n,2)}function Ic(t,n){return oc(t.getFullYear()%100,n,2)}function Oc(t,n){return oc(t.getFullYear()%1e4,n,4)}function Vc(t){var n=t.getTimezoneOffset();return(0<n?"-":(n*=-1,"+"))+oc(n/60|0,"0",2)+oc(n%60,"0",2)}function Xc(t,n){return oc(t.getUTCDate(),n,2)}function Bc(t,n){return oc(t.getUTCHours(),n,2)}function Zc(t,n){return oc(t.getUTCHours()%12||12,n,2)}function $c(t,n){return oc(1+ps.count(ks(t),t),n,3)}function Wc(t,n){return oc(t.getUTCMilliseconds(),n,3)}function Jc(t,n){return Wc(t,n)+"000"}function Qc(t,n){return oc(t.getUTCMonth()+1,n,2)}function Gc(t,n){return oc(t.getUTCMinutes(),n,2)}function Kc(t,n){return oc(t.getUTCSeconds(),n,2)}function th(t){var n=t.getUTCDay();return 0===n?7:n}function nh(t,n){return oc(vs.count(ks(t),t),n,2)}function eh(t,n){var e=t.getUTCDay();return t=4<=e||0===e?ms(t):ms.ceil(t),oc(ms.count(ks(t),t)+(4===ks(t).getUTCDay()),n,2)}function rh(t){return t.getUTCDay()}function ih(t,n){return oc(ys.count(ks(t),t),n,2)}function oh(t,n){return oc(t.getUTCFullYear()%100,n,2)}function uh(t,n){return oc(t.getUTCFullYear()%1e4,n,4)}function ah(){return"+0000"}function sh(){return"%"}function ch(t){return+t}function hh(t){return Math.floor(+t/1e3)}function lh(s,c){return function(t){var n,e,r,i=[],o=-1,u=0,a=s.length;for(t instanceof Date||(t=new Date(+t));++o<a;)37===s.charCodeAt(o)&&(i.push(s.slice(u,o)),null!=(e=nc[n=s.charAt(++o)])?n=s.charAt(++o):e="e"===n?" ":"0",(r=c[n])&&(n=r(t,e)),i.push(n),u=o+1);return i.push(s.slice(u,o)),i.join("")}}function fh(i,o){return function(t){var n,e,r=Ss(1900);if(ph(r,i,t+="",0)!=t.length)return null;if("Q"in r)return new Date(r.Q);if("p"in r&&(r.H=r.H%12+12*r.p),"V"in r){if(r.V<1||53<r.V)return null;"w"in r||(r.w=1),"Z"in r?(n=4<(e=(n=Ts(Ss(r.y))).getUTCDay())||0===e?ys.ceil(n):ys(n),n=ps.offset(n,7*(r.V-1)),r.y=n.getUTCFullYear(),r.m=n.getUTCMonth(),r.d=n.getUTCDate()+(r.w+6)%7):(n=4<(e=(n=o(Ss(r.y))).getDay())||0===e?ts.ceil(n):ts(n),n=Qa.offset(n,7*(r.V-1)),r.y=n.getFullYear(),r.m=n.getMonth(),r.d=n.getDate()+(r.w+6)%7)}else("W"in r||"U"in r)&&("w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0),e="Z"in r?Ts(Ss(r.y)).getUTCDay():o(Ss(r.y)).getDay(),r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(e+5)%7:r.w+7*r.U-(e+6)%7);return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,Ts(r)):o(r)}}function ph(t,n,e,r){for(var i,o,u=0,a=n.length,s=e.length;u<a;){if(s<=r)return-1;if(37===(i=n.charCodeAt(u++))){if(i=n.charAt(u++),!(o=tc[i in nc?n.charAt(u++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}Ps=(Ds={dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}).dateTime,Ls=Ds.date,Rs=Ds.time,Fs=Ds.periods,Ys=Ds.days,qs=Ds.shortDays,Hs=Ds.months,js=Ds.shortMonths,Is=ac(Fs),Os=sc(Fs),Vs=ac(Ys),Xs=sc(Ys),Bs=ac(qs),Zs=sc(qs),$s=ac(Hs),Ws=sc(Hs),Js=ac(js),Qs=sc(js),Ks={a:function(t){return qs[t.getUTCDay()]},A:function(t){return Ys[t.getUTCDay()]},b:function(t){return js[t.getUTCMonth()]},B:function(t){return Hs[t.getUTCMonth()]},c:null,d:Xc,e:Xc,f:Jc,H:Bc,I:Zc,j:$c,L:Wc,m:Qc,M:Gc,p:function(t){return Fs[+(12<=t.getUTCHours())]},Q:ch,s:hh,S:Kc,u:th,U:nh,V:eh,w:rh,W:ih,x:null,X:null,y:oh,Y:uh,Z:ah,"%":sh},tc={a:function(t,n,e){var r=Bs.exec(n.slice(e));return r?(t.w=Zs[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=Vs.exec(n.slice(e));return r?(t.w=Xs[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=Js.exec(n.slice(e));return r?(t.m=Qs[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=$s.exec(n.slice(e));return r?(t.m=Ws[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,n,e){return ph(t,Ps,n,e)},d:dc,e:dc,f:kc,H:xc,I:xc,j:mc,L:bc,m:gc,M:wc,p:function(t,n,e){var r=Is.exec(n.slice(e));return r?(t.p=Os[r[0].toLowerCase()],e+r[0].length):-1},Q:Tc,s:Sc,S:Mc,u:hc,U:lc,V:fc,w:cc,W:pc,x:function(t,n,e){return ph(t,Ls,n,e)},X:function(t,n,e){return ph(t,Rs,n,e)},y:vc,Y:_c,Z:yc,"%":Nc},(Gs={a:function(t){return qs[t.getDay()]},A:function(t){return Ys[t.getDay()]},b:function(t){return js[t.getMonth()]},B:function(t){return Hs[t.getMonth()]},c:null,d:Cc,e:Cc,f:Dc,H:Ec,I:Ac,j:Uc,L:zc,m:Pc,M:Lc,p:function(t){return Fs[+(12<=t.getHours())]},Q:ch,s:hh,S:Rc,u:Fc,U:Yc,V:qc,w:Hc,W:jc,x:null,X:null,y:Ic,Y:Oc,Z:Vc,"%":sh}).x=lh(Ls,Gs),Gs.X=lh(Rs,Gs),Gs.c=lh(Ps,Gs),Ks.x=lh(Ls,Ks),Ks.X=lh(Rs,Ks),Ks.c=lh(Ps,Ks),Es=(Cs={format:function(t){var n=lh(t+="",Gs);return n.toString=function(){return t},n},parse:function(t){var n=fh(t+="",Ns);return n.toString=function(){return t},n},utcFormat:function(t){var n=lh(t+="",Ks);return n.toString=function(){return t},n},utcParse:function(t){var n=fh(t,Ts);return n.toString=function(){return t},n}}).format,As=Cs.parse,Us=Cs.utcFormat,zs=Cs.utcParse;var _h="%Y-%m-%dT%H:%M:%S.%LZ";Date.prototype.toISOString||Us(_h);+new Date("2000-01-01T00:00:00.000Z")||zs(_h);var vh=1e3,yh=60*vh,gh=60*yh,dh=24*gh,mh=7*dh,xh=30*dh,wh=365*dh;function Mh(t){return new Date(t)}function bh(t){return t instanceof Date?+t:+new Date(+t)}function kh(u,n,e,r,i,o,a,s,c){var h=Aa(ba,ba),l=h.invert,f=h.domain,p=c(".%L"),_=c(":%S"),v=c("%I:%M"),y=c("%I %p"),g=c("%a %d"),d=c("%b %d"),m=c("%B"),x=c("%Y"),w=[[a,1,vh],[a,5,5*vh],[a,15,15*vh],[a,30,30*vh],[o,1,yh],[o,5,5*yh],[o,15,15*yh],[o,30,30*yh],[i,1,gh],[i,3,3*gh],[i,6,6*gh],[i,12,12*gh],[r,1,dh],[r,2,2*dh],[e,1,mh],[n,1,xh],[n,3,3*xh],[u,1,wh]];function M(t){return(a(t)<t?p:o(t)<t?_:i(t)<t?v:r(t)<t?y:n(t)<t?e(t)<t?g:d:u(t)<t?m:x)(t)}function b(t,n,e,r){if(null==t&&(t=10),"number"==typeof t){var i=Math.abs(e-n)/t,o=k(function(t){return t[2]}).right(w,i);t=o===w.length?(r=N(n/wh,e/wh,t),u):o?(r=(o=w[i/w[o-1][2]<w[o][2]/i?o-1:o])[1],o[0]):(r=Math.max(N(n,e,t),1),s)}return null==r?t:t.every(r)}return h.invert=function(t){return new Date(l(t))},h.domain=function(t){return arguments.length?f(da.call(t,bh)):f().map(Mh)},h.ticks=function(t,n){var e,r=f(),i=r[0],o=r[r.length-1],u=o<i;return u&&(e=i,i=o,o=e),e=(e=b(t,i,o,n))?e.range(i,o+1):[],u?e.reverse():e},h.tickFormat=function(t,n){return null==n?M:c(n)},h.nice=function(t,n){var e=f();return(t=b(t,e[0],e[e.length-1],n))?f(Da(e,t)):h},h.copy=function(){return Ca(h,kh(u,n,e,r,i,o,a,s,c))},h}function Nh(){return ya.apply(kh(cs,as,Ka,Qa,Wa,Za,Xa,Oa,Es).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}Math.abs,Math.atan2,Math.cos,Math.max,Math.min,Math.sin,Math.sqrt;var Th=1e-12,Sh=Math.PI,Ch=2*Sh;function Eh(t){this._context=t}Eh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};function Ah(t){return new Eh(t)}zh(Ah);function Uh(t){this._curve=t}function zh(n){function t(t){return new Uh(n(t))}return t._curve=n,t}Uh.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};Array.prototype.slice;Math.sqrt(1/3);function Dh(){}var Ph=Math.sin(Sh/10)/Math.sin(7*Sh/10);Math.sin(Ch/10),Math.cos(Ch/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12);function Lh(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function Rh(t){this._context=t}Rh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Lh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Lh(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function Fh(t,n){this._basis=new Rh(t),this._beta=n}Fh.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(0<e)for(var r,i=t[0],o=n[0],u=t[e]-i,a=n[e]-o,s=-1;++s<=e;)r=s/e,this._basis.point(this._beta*t[s]+(1-this._beta)*(i+r*u),this._beta*n[s]+(1-this._beta)*(o+r*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};(function n(e){function t(t){return 1===e?new Rh(t):new Fh(t,e)}return t.beta=function(t){return n(+t)},t})(.85);function Yh(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function qh(t,n){this._context=t,this._k=(1-n)/6}qh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Yh(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:Yh(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function n(e){function t(t){return new qh(t,e)}return t.tension=function(t){return n(+t)},t})(0);function Hh(t,n){this._context=t,this._k=(1-n)/6}Hh.prototype={areaStart:Dh,areaEnd:Dh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Yh(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function n(e){function t(t){return new Hh(t,e)}return t.tension=function(t){return n(+t)},t})(0);function jh(t,n){this._context=t,this._k=(1-n)/6}jh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Yh(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function n(e){function t(t){return new jh(t,e)}return t.tension=function(t){return n(+t)},t})(0);function Ih(t,n,e){var r=t._x1,i=t._y1,o=t._x2,u=t._y2;if(t._l01_a>Th){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,s=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/s,i=(i*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/s}if(t._l23_a>Th){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-n*t._l12_2a)/h,u=(u*c+t._y1*t._l23_2a-e*t._l12_2a)/h}t._context.bezierCurveTo(r,i,o,u,t._x2,t._y2)}function Oh(t,n){this._context=t,this._alpha=n}Oh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:Ih(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function n(e){function t(t){return e?new Oh(t,e):new qh(t,0)}return t.alpha=function(t){return n(+t)},t})(.5);function Vh(t,n){this._context=t,this._alpha=n}Vh.prototype={areaStart:Dh,areaEnd:Dh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Ih(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function n(e){function t(t){return e?new Vh(t,e):new Hh(t,0)}return t.alpha=function(t){return n(+t)},t})(.5);function Xh(t,n){this._context=t,this._alpha=n}Xh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ih(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function n(e){function t(t){return e?new Xh(t,e):new jh(t,0)}return t.alpha=function(t){return n(+t)},t})(.5);function Bh(t){return t<0?-1:1}function Zh(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),u=(e-t._y1)/(i||r<0&&-0),a=(o*i+u*r)/(r+i);return(Bh(o)+Bh(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(a))||0}function $h(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function Wh(t,n,e){var r=t._x0,i=t._y0,o=t._x1,u=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*n,o-a,u-a*e,o,u)}function Jh(t){this._context=t}function Qh(t){var n,e,r=t.length-1,i=new Array(r),o=new Array(r),u=new Array(r);for(o[i[0]=0]=2,u[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,o[n]=4,u[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,o[r-1]=7,u[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/o[n-1],o[n]-=e,u[n]-=e*u[n-1];for(i[r-1]=u[r-1]/o[r-1],n=r-2;0<=n;--n)i[n]=(u[n]-i[n+1])/o[n];for(o[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}Jh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Wh(this,this._t0,$h(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,Wh(this,$h(this,e=Zh(this,t,n)),e);break;default:Wh(this,this._t0,e=Zh(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},Object.create(Jh.prototype).point=function(t,n){Jh.prototype.point.call(this,n,t)};function Gh(){this._=null}function Kh(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function tl(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function nl(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function el(t){for(;t.L;)t=t.L;return t}Gh.prototype={constructor:Gh,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else e=this._?(t=el(this._),n.P=null,(n.N=t).P=t.L=n,t):(n.P=n.N=null,this._=n,null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(r=e.U).L?(i=r.R)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(tl(this,e),e=(t=e).U),e.C=!1,r.C=!0,nl(this,r)):(i=r.L)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(nl(this,e),e=(t=e).U),e.C=!1,r.C=!0,tl(this,r)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,o=t.L,u=t.R;if(e=o?u?el(u):o:u,i?i.L===t?i.L=e:i.R=e:this._=e,o&&u?(r=e.C,e.C=t.C,((e.L=o).U=e)!==u?(i=e.U,e.U=t.U,t=e.R,i.L=t,(e.R=u).U=e):(e.U=i,t=(i=e).R)):(r=t.C,t=e),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((n=i.R).C&&(n.C=!1,i.C=!0,tl(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,nl(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,tl(this,i),t=this._;break}}else if((n=i.L).C&&(n.C=!1,i.C=!0,nl(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,tl(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,nl(this,i),t=this._;break}n.C=!0,i=(t=i).U}while(!t.C);t&&(t.C=!1)}}};var rl=Gh;function il(t,n,e,r){var i=[null,null],o=Tl.push(i)-1;return i.left=t,i.right=n,e&&ul(i,t,n,e),r&&ul(i,n,t,r),kl[t.index].halfedges.push(o),kl[n.index].halfedges.push(o),i}function ol(t,n,e){var r=[n,e];return r.left=t,r}function ul(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function al(t,n,e,r,i){var o,u=t[0],a=t[1],s=u[0],c=u[1],h=0,l=1,f=a[0]-s,p=a[1]-c;if(o=n-s,f||!(0<o)){if(o/=f,f<0){if(o<h)return;o<l&&(l=o)}else if(0<f){if(l<o)return;h<o&&(h=o)}if(o=r-s,f||!(o<0)){if(o/=f,f<0){if(l<o)return;h<o&&(h=o)}else if(0<f){if(o<h)return;o<l&&(l=o)}if(o=e-c,p||!(0<o)){if(o/=p,p<0){if(o<h)return;o<l&&(l=o)}else if(0<p){if(l<o)return;h<o&&(h=o)}if(o=i-c,p||!(o<0)){if(o/=p,p<0){if(l<o)return;h<o&&(h=o)}else if(0<p){if(o<h)return;o<l&&(l=o)}return(0<h||l<1)&&(0<h&&(t[0]=[s+h*f,c+h*p]),l<1&&(t[1]=[s+l*f,c+l*p])),!0}}}}}function sl(t,n,e,r,i){var o=t[1];if(o)return!0;var u,a,s=t[0],c=t.left,h=t.right,l=c[0],f=c[1],p=h[0],_=h[1],v=(l+p)/2,y=(f+_)/2;if(_===f){if(v<n||r<=v)return;if(p<l){if(s){if(s[1]>=i)return}else s=[v,e];o=[v,i]}else{if(s){if(s[1]<e)return}else s=[v,i];o=[v,e]}}else if(a=y-(u=(l-p)/(_-f))*v,u<-1||1<u)if(p<l){if(s){if(s[1]>=i)return}else s=[(e-a)/u,e];o=[(i-a)/u,i]}else{if(s){if(s[1]<e)return}else s=[(i-a)/u,i];o=[(e-a)/u,e]}else if(f<_){if(s){if(s[0]>=r)return}else s=[n,u*n+a];o=[r,u*r+a]}else{if(s){if(s[0]<n)return}else s=[r,u*r+a];o=[n,u*n+a]}return t[0]=s,t[1]=o,!0}function cl(t,n){return n[+(n.left!==t.site)]}var hl,ll=[];function fl(){Kh(this),this.x=this.y=this.arc=this.site=this.cy=null}function pl(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,o=e.site;if(r!==o){var u=i[0],a=i[1],s=r[0]-u,c=r[1]-a,h=o[0]-u,l=o[1]-a,f=2*(s*l-c*h);if(!(-Cl<=f)){var p=s*s+c*c,_=h*h+l*l,v=(l*p-c*_)/f,y=(s*_-h*p)/f,g=ll.pop()||new fl;g.arc=t,g.site=i,g.x=v+u,g.y=(g.cy=y+a)+Math.sqrt(v*v+y*y),t.circle=g;for(var d=null,m=Nl._;m;)if(g.y<m.y||g.y===m.y&&g.x<=m.x){if(!m.L){d=m.P;break}m=m.L}else{if(!m.R){d=m;break}m=m.R}Nl.insert(d,g),d||(hl=g)}}}}function _l(t){var n=t.circle;n&&(n.P||(hl=n.N),Nl.remove(n),ll.push(n),Kh(n),t.circle=null)}var vl=[];function yl(){Kh(this),this.edge=this.site=this.circle=null}function gl(t){var n=vl.pop()||new yl;return n.site=t,n}function dl(t){_l(t),bl.remove(t),vl.push(t),Kh(t)}function ml(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],o=t.P,u=t.N,a=[t];dl(t);for(var s=o;s.circle&&Math.abs(e-s.circle.x)<Sl&&Math.abs(r-s.circle.cy)<Sl;)o=s.P,a.unshift(s),dl(s),s=o;a.unshift(s),_l(s);for(var c=u;c.circle&&Math.abs(e-c.circle.x)<Sl&&Math.abs(r-c.circle.cy)<Sl;)u=c.N,a.push(c),dl(c),c=u;a.push(c),_l(c);var h,l=a.length;for(h=1;h<l;++h)c=a[h],s=a[h-1],ul(c.edge,s.site,c.site,i);s=a[0],(c=a[l-1]).edge=il(s.site,c.site,null,i),pl(s),pl(c)}function xl(t){for(var n,e,r,i,o=t[0],u=t[1],a=bl._;a;)if(r=wl(a,u)-o,Sl<r)a=a.L;else{if(i=o-Ml(a,u),!(Sl<i)){-Sl<r?(n=a.P,e=a):-Sl<i?e=(n=a).N:n=e=a;break}if(!a.R){n=a;break}a=a.R}!function(t){kl[t.index]={site:t,halfedges:[]}}(t);var s=gl(t);if(bl.insert(n,s),n||e){if(n===e)return _l(n),e=gl(n.site),bl.insert(s,e),s.edge=e.edge=il(n.site,s.site),pl(n),void pl(e);if(e){_l(n),_l(e);var c=n.site,h=c[0],l=c[1],f=t[0]-h,p=t[1]-l,_=e.site,v=_[0]-h,y=_[1]-l,g=2*(f*y-p*v),d=f*f+p*p,m=v*v+y*y,x=[(y*d-p*m)/g+h,(f*m-v*d)/g+l];ul(e.edge,c,_,x),s.edge=il(c,t,null,x),e.edge=il(t,_,null,x),pl(n),pl(e)}else s.edge=il(n.site,s.site)}}function wl(t,n){var e=t.site,r=e[0],i=e[1],o=i-n;if(!o)return r;var u=t.P;if(!u)return-1/0;var a=(e=u.site)[0],s=e[1],c=s-n;if(!c)return a;var h=a-r,l=1/o-1/c,f=h/c;return l?(-f+Math.sqrt(f*f-2*l*(h*h/(-2*c)-s+c/2+i-o/2)))/l+r:(r+a)/2}function Ml(t,n){var e=t.N;if(e)return wl(e,n);var r=t.site;return r[1]===n?r[0]:1/0}var bl,kl,Nl,Tl,Sl=1e-6,Cl=1e-12;function El(t,n){return n[1]-t[1]||n[0]-t[0]}function Al(t,n){var e,r,i,o=t.sort(El).pop();for(Tl=[],kl=new Array(t.length),bl=new rl,Nl=new rl;;)if(i=hl,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===e&&o[1]===r||(xl(o),e=o[0],r=o[1]),o=t.pop();else{if(!i)break;ml(i.arc)}if(function(){for(var t,n,e,r,i=0,o=kl.length;i<o;++i)if((t=kl[i])&&(r=(n=t.halfedges).length)){var u=new Array(r),a=new Array(r);for(e=0;e<r;++e)u[e]=e,a[e]=(s=t,c=Tl[n[e]],f=l=void 0,h=s.site,l=c.left,f=c.right,h===f&&(f=l,l=h),f?Math.atan2(f[1]-l[1],f[0]-l[0]):(f=h===l?(l=c[1],c[0]):(l=c[0],c[1]),Math.atan2(l[0]-f[0],f[1]-l[1])));for(u.sort(function(t,n){return a[n]-a[t]}),e=0;e<r;++e)a[e]=n[u[e]];for(e=0;e<r;++e)n[e]=a[e]}var s,c,h,l,f}(),n){var u=+n[0][0],a=+n[0][1],s=+n[1][0],c=+n[1][1];!function(t,n,e,r){for(var i,o=Tl.length;o--;)sl(i=Tl[o],t,n,e,r)&&al(i,t,n,e,r)&&(Math.abs(i[0][0]-i[1][0])>Sl||Math.abs(i[0][1]-i[1][1])>Sl)||delete Tl[o]}(u,a,s,c),function(t,n,e,r){var i,o,u,a,s,c,h,l,f,p,_,v,y,g,d=kl.length,m=!0;for(i=0;i<d;++i)if(o=kl[i]){for(u=o.site,a=(s=o.halfedges).length;a--;)Tl[s[a]]||s.splice(a,1);for(a=0,c=s.length;a<c;)y=o,_=(p=(g=Tl[s[a]])[+(g.left===y.site)])[0],v=p[1],l=(h=cl(o,Tl[s[++a%c]]))[0],f=h[1],(Math.abs(_-l)>Sl||Math.abs(v-f)>Sl)&&(s.splice(a,0,Tl.push(ol(u,p,Math.abs(_-t)<Sl&&Sl<r-v?[t,Math.abs(l-t)<Sl?f:r]:Math.abs(v-r)<Sl&&Sl<e-_?[Math.abs(f-r)<Sl?l:e,r]:Math.abs(_-e)<Sl&&Sl<v-n?[e,Math.abs(l-e)<Sl?f:n]:Math.abs(v-n)<Sl&&Sl<_-t?[Math.abs(f-n)<Sl?l:t,n]:null))-1),++c);c&&(m=!1)}if(m){var x,w,M,b=1/0;for(i=0,m=null;i<d;++i)(o=kl[i])&&(M=(x=(u=o.site)[0]-t)*x+(w=u[1]-n)*w)<b&&(b=M,m=o);if(m){var k=[t,n],N=[t,r],T=[e,r],S=[e,n];m.halfedges.push(Tl.push(ol(u=m.site,k,N))-1,Tl.push(ol(u,N,T))-1,Tl.push(ol(u,T,S))-1,Tl.push(ol(u,S,k))-1)}}for(i=0;i<d;++i)(o=kl[i])&&(o.halfedges.length||delete kl[i])}(u,a,s,c)}this.edges=Tl,this.cells=kl,bl=Nl=Tl=kl=null}Al.prototype={constructor:Al,polygons:function(){var e=this.edges;return this.cells.map(function(n){var t=n.halfedges.map(function(t){return cl(n,e[t])});return t.data=n.site.data,t})},triangles:function(){var f=[],p=this.edges;return this.cells.forEach(function(t,n){if(r=(e=t.halfedges).length)for(var e,r,i,o,u,a,s=t.site,c=-1,h=p[e[r-1]],l=h.left===s?h.right:h.left;++c<r;)i=l,l=(h=p[e[c]]).left===s?h.right:h.left,i&&l&&n<i.index&&n<l.index&&(u=i,a=l,((o=s)[0]-a[0])*(u[1]-o[1])-(o[0]-u[0])*(a[1]-o[1])<0)&&f.push([s.data,i.data,l.data])}),f},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(u,a,t){for(var n,s,c=this,h=c._found||0,e=c.cells.length;!(s=c.cells[h]);)if(++h>=e)return null;for(var r=u-s.site[0],i=a-s.site[1],l=r*r+i*i;s=c.cells[n=h],h=null,s.halfedges.forEach(function(t){var n=c.edges[t],e=n.left;if(e!==s.site&&e||(e=n.right)){var r=u-e[0],i=a-e[1],o=r*r+i*i;o<l&&(l=o,h=e.index)}}),null!==h;);return c._found=n,null==t||l<=t*t?s.site:null}};function Ul(t){return function(){return t}}function zl(t,n,e){this.target=t,this.type=n,this.transform=e}function Dl(t,n,e){this.k=t,this.x=n,this.y=e}Dl.prototype={constructor:Dl,scale:function(t){return 1===t?this:new Dl(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Dl(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Pl=new Dl(1,0,0);function Ll(){lt.stopImmediatePropagation()}function Rl(){lt.preventDefault(),lt.stopImmediatePropagation()}function Fl(){return!lt.ctrlKey&&!lt.button}function Yl(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function ql(){return this.__zoom||Pl}function Hl(){return-lt.deltaY*(1===lt.deltaMode?.05:lt.deltaMode?1:.002)}function jl(){return navigator.maxTouchPoints||"ontouchstart"in this}function Il(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],u=t.invertY(n[1][1])-e[1][1];return t.translate(r<i?(r+i)/2:Math.min(0,r)||Math.max(0,i),o<u?(o+u)/2:Math.min(0,o)||Math.max(0,u))}function Ol(){var p,u,a=Fl,h=Yl,_=Il,i=Hl,n=jl,o=[0,1/0],v=[[-1/0,-1/0],[1/0,1/0]],s=250,l=fe,e=I("start","zoom","end"),c=500,f=150,y=0;function g(t){t.property("__zoom",ql).on("wheel.zoom",b).on("mousedown.zoom",k).on("dblclick.zoom",N).filter(n).on("touchstart.zoom",T).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(t,n){return(n=Math.max(o[0],Math.min(o[1],n)))===t.k?t:new Dl(n,t.x,t.y)}function m(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new Dl(t.k,r,i)}function x(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function w(t,s,c){t.on("start.zoom",function(){M(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){M(this,arguments).end()}).tween("zoom",function(){var t=arguments,r=M(this,t),n=h.apply(this,t),i=null==c?x(n):"function"==typeof c?c.apply(this,t):c,o=Math.max(n[1][0]-n[0][0],n[1][1]-n[0][1]),e=this.__zoom,u="function"==typeof s?s.apply(this,t):s,a=l(e.invert(i).concat(o/e.k),u.invert(i).concat(o/u.k));return function(t){if(1===t)t=u;else{var n=a(t),e=o/n[2];t=new Dl(e,i[0]-n[0]*e,i[1]-n[1]*e)}r.zoom(null,t)}})}function M(t,n,e){return!e&&t.__zooming||new r(t,n)}function r(t,n){this.that=t,this.args=n,this.active=0,this.extent=h.apply(t,n),this.taps=0}function b(){if(a.apply(this,arguments)){var t=M(this,arguments),n=this.__zoom,e=Math.max(o[0],Math.min(o[1],n.k*Math.pow(2,i.apply(this,arguments)))),r=St(this);if(t.wheel)t.mouse[0][0]===r[0]&&t.mouse[0][1]===r[1]||(t.mouse[1]=n.invert(t.mouse[0]=r)),clearTimeout(t.wheel);else{if(n.k===e)return;t.mouse=[r,n.invert(r)],Oe(this),t.start()}Rl(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},f),t.zoom("mouse",_(m(d(n,e),t.mouse[0],t.mouse[1]),t.extent,v))}}function k(){if(!u&&a.apply(this,arguments)){var e=M(this,arguments,!0),t=Mt(lt.view).on("mousemove.zoom",function(){if(Rl(),!e.moved){var t=lt.clientX-r,n=lt.clientY-i;e.moved=y<t*t+n*n}e.zoom("mouse",_(m(e.that.__zoom,e.mouse[0]=St(e.that),e.mouse[1]),e.extent,v))},!0).on("mouseup.zoom",function(){t.on("mousemove.zoom mouseup.zoom",null),Ut(lt.view,e.moved),Rl(),e.end()},!0),n=St(this),r=lt.clientX,i=lt.clientY;At(lt.view),Ll(),e.mouse=[n,this.__zoom.invert(n)],Oe(this),e.start()}}function N(){if(a.apply(this,arguments)){var t=this.__zoom,n=St(this),e=t.invert(n),r=t.k*(lt.shiftKey?.5:2),i=_(m(d(t,r),n,e),h.apply(this,arguments),v);Rl(),0<s?Mt(this).transition().duration(s).call(w,i,n):Mt(this).call(g.transform,i)}}function T(){if(a.apply(this,arguments)){var t,n,e,r,i=lt.touches,o=i.length,u=M(this,arguments,lt.changedTouches.length===o);for(Ll(),n=0;n<o;++n)e=i[n],r=[r=Ct(this,i,e.identifier),this.__zoom.invert(r),e.identifier],u.touch0?u.touch1||u.touch0[2]===r[2]||(u.touch1=r,u.taps=0):(u.touch0=r,t=!0,u.taps=1+!!p);p=p&&clearTimeout(p),t&&(u.taps<2&&(p=setTimeout(function(){p=null},c)),Oe(this),u.start())}}function S(){if(this.__zooming){var t,n,e,r,i=M(this,arguments),o=lt.changedTouches,u=o.length;for(Rl(),p=p&&clearTimeout(p),t=i.taps=0;t<u;++t)n=o[t],e=Ct(this,o,n.identifier),i.touch0&&i.touch0[2]===n.identifier?i.touch0[0]=e:i.touch1&&i.touch1[2]===n.identifier&&(i.touch1[0]=e);if(n=i.that.__zoom,i.touch1){var a=i.touch0[0],s=i.touch0[1],c=i.touch1[0],h=i.touch1[1],l=(l=c[0]-a[0])*l+(l=c[1]-a[1])*l,f=(f=h[0]-s[0])*f+(f=h[1]-s[1])*f;n=d(n,Math.sqrt(l/f)),e=[(a[0]+c[0])/2,(a[1]+c[1])/2],r=[(s[0]+h[0])/2,(s[1]+h[1])/2]}else{if(!i.touch0)return;e=i.touch0[0],r=i.touch0[1]}i.zoom("touch",_(m(n,e,r),i.extent,v))}}function C(){if(this.__zooming){var t,n,e=M(this,arguments),r=lt.changedTouches,i=r.length;for(Ll(),u&&clearTimeout(u),u=setTimeout(function(){u=null},c),t=0;t<i;++t)n=r[t],e.touch0&&e.touch0[2]===n.identifier?delete e.touch0:e.touch1&&e.touch1[2]===n.identifier&&delete e.touch1;if(e.touch1&&!e.touch0&&(e.touch0=e.touch1,delete e.touch1),e.touch0)e.touch0[1]=this.__zoom.invert(e.touch0[0]);else if(e.end(),2===e.taps){var o=Mt(this).on("dblclick.zoom");o&&o.apply(this,arguments)}}}return g.transform=function(t,n,e){var r=t.selection?t.selection():t;r.property("__zoom",ql),t!==r?w(t,n,e):r.interrupt().each(function(){M(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()})},g.scaleBy=function(t,n,e){g.scaleTo(t,function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)},e)},g.scaleTo=function(t,o,u){g.transform(t,function(){var t=h.apply(this,arguments),n=this.__zoom,e=null==u?x(t):"function"==typeof u?u.apply(this,arguments):u,r=n.invert(e),i="function"==typeof o?o.apply(this,arguments):o;return _(m(d(n,i),e,r),t,v)},u)},g.translateBy=function(t,n,e){g.transform(t,function(){return _(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof e?e.apply(this,arguments):e),h.apply(this,arguments),v)})},g.translateTo=function(t,r,i,o){g.transform(t,function(){var t=h.apply(this,arguments),n=this.__zoom,e=null==o?x(t):"function"==typeof o?o.apply(this,arguments):o;return _(Pl.translate(e[0],e[1]).scale(n.k).translate("function"==typeof r?-r.apply(this,arguments):-r,"function"==typeof i?-i.apply(this,arguments):-i),t,v)},o)},r.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this).emit("start"),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){yt(new zl(g,t,this.that.__zoom),e.apply,e,[t,this.that,this.args])}},g.wheelDelta=function(t){return arguments.length?(i="function"==typeof t?t:Ul(+t),g):i},g.filter=function(t){return arguments.length?(a="function"==typeof t?t:Ul(!!t),g):a},g.touchable=function(t){return arguments.length?(n="function"==typeof t?t:Ul(!!t),g):n},g.extent=function(t){return arguments.length?(h="function"==typeof t?t:Ul([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),g):h},g.scaleExtent=function(t){return arguments.length?(o[0]=+t[0],o[1]=+t[1],g):[o[0],o[1]]},g.translateExtent=function(t){return arguments.length?(v[0][0]=+t[0][0],v[1][0]=+t[1][0],v[0][1]=+t[0][1],v[1][1]=+t[1][1],g):[[v[0][0],v[0][1]],[v[1][0],v[1][1]]]},g.constrain=function(t){return arguments.length?(_=t,g):_},g.duration=function(t){return arguments.length?(s=+t,g):s},g.interpolate=function(t){return arguments.length?(l=t,g):l},g.on=function(){var t=e.on.apply(e,arguments);return t===e?g:t},g.clickDistance=function(t){return arguments.length?(y=(t=+t)*t,g):Math.sqrt(y)},g}e.d(n,"e",function(){return u}),e.d(n,"a",function(){return y}),e.d(n,"b",function(){return kr}),e.d(n,"c",function(){return Qr}),e.d(n,"i",function(){return Kr}),e.d(n,"f",function(){return vi}),e.d(n,"h",function(){return Au}),e.d(n,"g",function(){return Wu}),e.d(n,"j",function(){return Ya}),e.d(n,"k",function(){return Nh}),e.d(n,"l",function(){return Mt}),e.d(n,"d",function(){return lt}),e.d(n,"m",function(){return Es}),e.d(n,"n",function(){return As}),e.d(n,"o",function(){return Ol})}}]);