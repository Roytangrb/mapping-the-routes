!function(l){function e(e){for(var t,a,r=e[0],n=e[1],o=e[2],i=0,s=[];i<r.length;i++)a=r[i],Object.prototype.hasOwnProperty.call(d,a)&&d[a]&&s.push(d[a][0]),d[a]=0;for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(l[t]=n[t]);for(f&&f(e);s.length;)s.shift()();return u.push.apply(u,o||[]),c()}function c(){for(var e,t=0;t<u.length;t++){for(var a=u[t],r=!0,n=1;n<a.length;n++){var o=a[n];0!==d[o]&&(r=!1)}r&&(u.splice(t--,1),e=i(i.s=a[0]))}return e}var a={},d={1:0},u=[];function i(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return l[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=l,i.c=a,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(a,r,function(e){return t[e]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var t=window.webpackJsonp=window.webpackJsonp||[],r=t.push.bind(t);t.push=e,t=t.slice();for(var n=0;n<t.length;n++)e(t[n]);var f=r;u.push([23,3]),c()}({23:function(e,t,a){"use strict";a.r(t);function o(e){return document.querySelector(e)}function r(){}var n=a(1),s=a.n(n);a(3);r.ctrlHeaderAudio=function(){var t=o("#header-video"),e=new s.a.Controller;new s.a.Scene({triggerElement:o(".header"),triggerHook:"onLeave",duration:o(".header").offsetHeight}).on("end",function(e){"FORWARD"==e.scrollDirection?(console.log("muted"),t.muted=!0):(console.log("unmuted"),t.muted=!1)}).addTo(e);return e},r.initScrollController=function(){var e=o("#progress-bar"),t=document.body,a=t.offsetHeight,r=new s.a.Controller,n=(new TimelineMax).to(e,1,{width:"100%",ease:Linear.easeNone});new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:a,tweenChanges:!0}).setTween(n).addTo(r);return r},r.initClickNav=function(){function e(e){var t=document.body.offsetWidth,a=document.body.offsetHeight,r=parseInt(e.pageX);if(0<r){var n=a*(r/t);window.scrollTo({top:n,behavior:"smooth"})}}var t=o("#progress-div");o("#progress-bar");t.addEventListener("click",e),t.addEventListener("touchend",e)};function i(e){return document.querySelector(e)}function l(e){return document.querySelectorAll(e)}function c(){}var d=r,u=a(0),f=a.n(u);c.titleChangeD=function(){var t=i(".serif"),a=i(".white"),r=i(".country-list"),n={opacity:1,ease:Linear.easeNone},e=new s.a.Controller;new s.a.Scene({triggerElement:i(".header"),triggerHook:"onLeave",duration:i(".header").offsetHeight}).on("end",function(e){"FORWARD"==e.scrollDirection?(t.style.display="block",a.style.display="none",r.style.display="block",f.a.fromTo(t,.25,{opacity:0},n),f.a.fromTo(r,.25,{opacity:0},n)):(t.style.display="none",a.style.display="block",r.style.display="none",f.a.fromTo(a,.25,{opacity:0},n))}).addTo(e);return e},c.countryControllerD=function(){var e=l(".chapter-anchor"),a=l(".country-list li"),r=new s.a.Controller;e.forEach(function(e,t){new s.a.Scene({triggerElement:e,duration:e.offsetHeight}).addTo(r).on("enter",function(e){a[t].classList.add("active")}).on("leave",function(e){a[t].classList.remove("active")})})};function m(){}var g=c;m.initHashController=function(){var e=function(e){return document.querySelectorAll(e)}(".chapter-anchor"),t=new s.a.Controller;e.forEach(function(a){new s.a.Scene({triggerElement:a,duration:a.offsetHeight}).addTo(t).on("enter leave",function(e){var t=a.id;window.history.pushState(null,null,"#".concat(t))})})};function p(e){return document.querySelector(e)}var v=m,k="assets/maps/Malaysia/mobile/",h={maps:[p("#malaysia-routes-1"),p("#malaysia-routes-2")],pics_m:["".concat(k,"m-01.jpg"),"".concat(k,"m-02.jpg"),"".concat(k,"m-03.jpg"),"".concat(k,"m-04.jpg"),"".concat(k,"m-05.jpg"),"".concat(k,"m-06.jpg"),"".concat(k,"m-07.jpg")],maps_m:[p("#malaysia-routes-m-1"),p("#malaysia-routes-m-2"),p("#malaysia-routes-m-3")]};function w(e){e.map(function(e){return e.querySelector(".marker-inner")});var t=e.map(function(e){return e.querySelector(".marker-outter")});f.a.fromTo(t,1,{attr:{r:20},opacity:.4},{attr:{r:55.68},opacity:0}).repeat(-1)}function H(e,t){e.querySelector(".routes-map-bg-m").src=t}function y(e,t,a,r){H(t,"FORWARD"==e.scrollDirection?r:a)}h.MapCtrl1=function(){var e=h.maps[0],t={opacity:1,ease:Linear.easeNone},a={opacity:0,ease:Linear.easeNone},r=new s.a.Controller,n=p(".nav").offsetHeight+p("#progress-div").offsetHeight||0,o=new s.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:"300%",offset:-n,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(r).duration()/3;new s.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:o,offset:-n,reverse:!0}).on("enter",function(){return(new TimelineMax).add(f.a.to(p("#arrows"),.5,t)).add(f.a.to(p("#melaka-label"),.5,t))}).on("leave",function(){var e=[p("#arrows"),p("#melaka-label")];f.a.killTweensOf(e),f.a.to(e,.5,a)}).addTo(r),new s.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:o,offset:o-n,reverse:!0}).on("enter",function(){return(new TimelineMax).add(f.a.to(p("#forest-fill"),.5,t)).add(f.a.to(p("#forest-label"),.3,t))}).on("leave",function(){var e=[p("#forest-fill"),p("#forest-label")];f.a.killTweensOf(e),f.a.to(e,.5,a)}).addTo(r),new s.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:o,offset:2*o-n,reverse:!0}).setTween((new TimelineMax).add(f.a.to(p("#highway-line"),.7,{strokeDashoffset:0,ease:Linear.easeNone})).add(f.a.to([p("#bukit-text"),p("#marker-bukit")],0,t),.7).addCallback(function(){w([p("#marker-bukit")])},.7).add(f.a.to([p("#marker-rantau"),p("#marker-padang"),p("#padang-text"),p("#rantau-text")],0,t),.8).addCallback(function(){w([p("#marker-rantau"),p("#marker-padang")])},.8)).addTo(r);return r},h.MapCtrl2=function(){var e=h.maps[1],a={opacity:1,ease:Linear.easeNone},r={opacity:0,ease:Linear.easeNone},t=new s.a.Controller,n=p(".nav").offsetHeight+p("#progress-div").offsetHeight||0,o=new s.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:"400%",offset:-n,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(t).duration()/4;new s.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:o,offset:-n,reverse:!0}).on("start",function(e){if("FORWARD"==e.scrollDirection)(new TimelineMax).add(f.a.to(p("#marker-bukit-2"),.5,a)).add(f.a.to(p("#bukit-text-2"),.5,a)).addCallback(function(){w([p("#marker-bukit-2")])},1);else{var t=[p("#marker-bukit-2"),p("#bukit-text-2")];f.a.killTweensOf(t),f.a.to(t,.5,r)}}).addTo(t),new s.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:o,offset:o-n,reverse:!0}).on("start",function(e){if("FORWARD"==e.scrollDirection)(new TimelineMax).add(f.a.to(p("#marker-alor"),.5,a)).add(f.a.to(p("#alor-text"),.5,a)).addCallback(function(){w([p("#marker-alor")])},1);else{var t=[p("#marker-alor"),p("#alor-text")];f.a.killTweensOf(t),f.a.to(t,.5,r)}}).addTo(t),new s.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:o,offset:2*o-n,reverse:!0}).on("start",function(e){if("FORWARD"==e.scrollDirection)(new TimelineMax).add(f.a.to(p("#marker-sadao"),.5,a)).add(f.a.to(p("#sadao-text"),.5,a)).addCallback(function(){w([p("#marker-sadao")])},1);else{var t=[p("#marker-sadao"),p("#sadao-text")];f.a.killTweensOf(t),f.a.to(t,.5,r)}}).addTo(t),new s.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:o,offset:3*o-n,reverse:!0}).on("start",function(e){if("FORWARD"==e.scrollDirection)(new TimelineMax).add(f.a.to(p("#marker-police"),.5,a)).add(f.a.to(p("#kedahpolice-text"),.5,a)).addCallback(function(){w([p("#marker-police")])},1);else{var t=[p("#marker-police"),p("#kedahpolice-text")];f.a.killTweensOf(t),f.a.to(t,.5,r)}}).addTo(t);return t},h.MapCtrlM1=function(){var t=h.maps_m[0],e=new s.a.Controller,a=p(".nav").offsetHeight+p("#progress-div").offsetHeight||0,r=new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:"300%",offset:-a,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(e).duration()/3;new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:r,offset:r-a,reverse:!0}).on("start",function(e){y(e,t,h.pics_m[1],h.pics_m[0])}).addTo(e),new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:r,offset:2*r-a,reverse:!0}).on("start",function(e){y(e,t,h.pics_m[2],h.pics_m[1])}).addTo(e);return e},h.MapCtrlM2=function(){var t=h.maps_m[1],e=new s.a.Controller,a=p(".nav").offsetHeight+p("#progress-div").offsetHeight||0,r=new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:"400%",offset:-a,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(e).duration()/4;new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:r,offset:r-a,reverse:!0}).on("start",function(e){y(e,t,h.pics_m[4],h.pics_m[3])}).addTo(e),new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:r,offset:2*r-a,reverse:!0}).on("start",function(e){y(e,t,h.pics_m[5],h.pics_m[4])}).addTo(e),new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:r,offset:3*r-a,reverse:!0}).on("start",function(e){y(e,t,h.pics_m[6],h.pics_m[5])}).addTo(e);return e},h.MapCtrlM3=function(){var e=h.maps_m[2],t=new s.a.Controller,a=p(".nav").offsetHeight+p("#progress-div").offsetHeight||0;new s.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:"100%",offset:-a,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(t);return t};function T(e){return document.querySelector(e)}var x=h,b=(a(8),"assets/maps/Cameroon/mobile/"),M={maps:[T("#cameroon-routes-1")],pics_m:["".concat(b,"m-01.jpg"),"".concat(b,"m-02.jpg"),"".concat(b,"m-03.jpg")],maps_m:[T("#cameroon-routes-m-1")]};function S(e){e.map(function(e){return e.querySelector(".st9")});var t=e.map(function(e){return e.querySelector(".st8")});f.a.fromTo(t,1,{attr:{r:20},opacity:.4},{attr:{r:55.68},opacity:0}).repeat(-1)}function L(e,t){e.querySelector(".routes-map-bg-m").src=t}function C(e,t,a,r){L(t,"FORWARD"==e.scrollDirection?r:a)}function E(e,t){e.querySelector(".routes-map-bg").src=t}M.MapCtrl1=function(){var a=M.maps[0],r={opacity:1,ease:Linear.easeNone},n={opacity:0,ease:Linear.easeNone},e=new s.a.Controller,t=T(".nav").offsetHeight+T("#progress-div").offsetHeight||0,o=new s.a.Scene({triggerElement:a,triggerHook:"onLeave",duration:"300%",offset:-t,reverse:!0}).on("enter",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(e).duration()/3,i=(new s.a.Scene({triggerElement:a,triggerHook:"onLeave",duration:o,offset:-t,reverse:!0}).on("enter",function(){return(new TimelineMax).add(f.a.to(T("#bertoua-text"),.25,r)).add(f.a.to(T("#abong-text"),.25,r)).add(f.a.to(T("#mindourou-text"),.25,r)).add(f.a.to(T("#lomie-text"),.25,r)).add(f.a.to(T("#djoum-text"),.25,r))}).on("leave",function(){var e=[T("#bertoua-text"),T("#abong-text"),T("#mindourou-text"),T("#lomie-text"),T("#djoum-text")];f.a.killTweensOf(e),f.a.to(e,.5,n)}).addTo(e),new s.a.Scene({triggerElement:a,triggerHook:"onLeave",duration:o,offset:o-t,reverse:!0}).on("enter",function(){return(new TimelineMax).add(f.a.to(T("#cam-arrow7"),.5,r)).add(f.a.to(T("#marker-douala"),.5,r)).add(f.a.to(T("#douala-text"),.5,r)).add(f.a.to(T("#cam-arrow6"),.5,r)).add(f.a.to(T("#marker-yaounde"),.5,r)).add(f.a.to(T("#yaounde-text"),.5,r)).addCallback(function(){S([T("#marker-douala"),T("#marker-yaounde")])},.7)}).on("leave",function(){var e=[T("#cam-arrow6"),T("#cam-arrow7"),T("#marker-douala"),T("#marker-yaounde"),T("#yaounde-text"),T("#douala-text")];f.a.killTweensOf(e),f.a.to(e,.5,n)}).addTo(e),[T("#marker-yairport"),T("#marker-dairport"),T("#cam-arrow1"),T("#cam-arrow2"),T("#cam-arrow3"),T("#cam-arrow4"),T("#cam-arrow5"),T("#yairport-text"),T("#dairport-txt")]);new s.a.Scene({triggerElement:a,triggerHook:"onLeave",duration:o,offset:2*o-t,reverse:!0}).on("start",function(e){var t="FORWARD"==e.scrollDirection;if(function(e,t,a,r){"FORWARD"==e.scrollDirection?E(t,r):E(t,a)}(e,a,"assets/maps/Cameroon/desktop/map-01.jpg","assets/maps/Cameroon/desktop/map-02.jpg"),t)return(new TimelineMax).add(f.a.to(i,.5,r)).addCallback(function(){S([T("#marker-yairport"),T("#marker-dairport")])},.7);f.a.killTweensOf(i),f.a.to(i,.5,n)}).addTo(e);return e},M.MapCtrlM1=function(){var t=M.maps_m[0],e=new s.a.Controller,a=T(".nav").offsetHeight+T("#progress-div").offsetHeight||0,r=new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:"300%",offset:-a,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(e).duration()/3;new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:r,offset:r-a,reverse:!0}).on("start",function(e){C(e,t,M.pics_m[0],M.pics_m[1])}).addTo(e),new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:r,offset:2*r-a,reverse:!0}).on("start",function(e){C(e,t,M.pics_m[1],M.pics_m[2])}).addTo(e);return e};function D(e){return document.querySelector(e)}function O(e){return document.querySelector(e)}function j(e){return document.querySelector(e)}var R=M,F={MapCtrl1:function(){D("#indonesia-routes-1");var a={opacity:1,ease:Linear.easeNone},r={opacity:0,ease:Linear.easeNone},e=[D("#indonesia-marker-1"),D("#indonesia-marker-2"),D("#indonesia-marker-3"),D("#indonesia-marker-4"),D("#indonesia-marker-5"),D("#indonesia-marker-6")],n=[D("#indonesia-caption-1"),D("#indonesia-caption-2"),D("#indonesia-caption-3"),D("#indonesia-caption-4"),D("#indonesia-caption-5"),D("#indonesia-caption-6")];e.forEach(function(e,t){e.addEventListener("click",function(e){return(new TimelineMax).add(f.a.to(n,0,r)).add(f.a.to(n[t],.5,a))})})},MapCtrlM1:function(){var e=D("#indonesia-routes-m-1"),t=new s.a.Controller,a=D(".nav").offsetHeight+D("#progress-div").offsetHeight||0;new s.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:"100%",offset:-a,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(t);return t},MapCtrlM1Click:function(){var a={opacity:1,ease:Linear.easeNone},r={opacity:0,ease:Linear.easeNone},e=[D("#indonesia-marker-m-1"),D("#indonesia-marker-m-2"),D("#indonesia-marker-m-3"),D("#indonesia-marker-m-4"),D("#indonesia-marker-m-5"),D("#indonesia-marker-m-6")],n=[D("#indonesia-caption-m-1"),D("#indonesia-caption-m-2"),D("#indonesia-caption-m-3"),D("#indonesia-caption-m-4"),D("#indonesia-caption-m-5"),D("#indonesia-caption-m-6")];e.forEach(function(e,t){e.addEventListener("touchend",function(e){return n.forEach(function(e){e.style.zIndex=3}),(new TimelineMax).add(f.a.to(n,0,r)).add(f.a.to(n[t],.5,a))})}),n.forEach(function(e){e.addEventListener("touchend",function(e){n.forEach(function(e){e.style.zIndex=1}),f.a.to(n,0,r)})})}},_=F,P={MapCtrl:function(){var e=O("#nepal-routes-1"),a={opacity:1,ease:Linear.easeNone},r={opacity:0,ease:Linear.easeNone},t=new s.a.Controller,n=O(".nav").offsetHeight+O("#progress-div").offsetHeight||0,o=new s.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:"300%",offset:-n,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!0})}).addTo(t).duration()/3;new s.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:o,offset:-n,reverse:!0}).on("start",function(e){if("FORWARD"==e.scrollDirection)return(new TimelineMax).add(f.a.to([O("#marker-ndjili"),O("#n_djili-text")],.5,a));var t=[O("#marker-ndjili"),O("#n_djili-text")];f.a.killTweensOf(t),f.a.to(t,.5,r)}).addTo(t),new s.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:o,offset:o-n,reverse:!0}).on("start",function(e){if("FORWARD"==e.scrollDirection)return(new TimelineMax).add(f.a.to(O("#ndjili-line path"),1,{strokeDashoffset:0,ease:Power2.easeOut})).add(f.a.to([O("#marker-istanbul"),O("#istanbul-text")],.5,a));var t=[O("#ndjili-line path"),O("#marker-istanbul"),O("#istanbul-text")];f.a.killTweensOf(t),f.a.to([O("#marker-istanbul"),O("#istanbul-text")],.5,r),f.a.to(O("#ndjili-line path"),.5,{strokeDashoffset:852.44,ease:Linear.easeNone})}).addTo(t),new s.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:o,offset:2*o-n,reverse:!0}).on("start",function(e){if("FORWARD"==e.scrollDirection)return(new TimelineMax).add(f.a.to(O("#istanbul-line path"),1,{strokeDashoffset:0,ease:Power2.easeOut})).add(f.a.to([O("#marker-tribhuvan"),O("#tribhuvan-text")],.5,a));var t=[O("#marker-tribhuvan"),O("#tribhuvan-text"),O("#istanbul-line path")];f.a.killTweensOf(t),f.a.to([O("#marker-tribhuvan"),O("#tribhuvan-text")],.5,r),f.a.to(O("#istanbul-line path"),.5,{strokeDashoffset:966,ease:Linear.easeNone})}).addTo(t);return t},MapCtrlM:function(){var e=O("#nepal-routes-m-1"),t=new s.a.Controller,a=O(".nav").offsetHeight+O("#progress-div").offsetHeight||0;new s.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:"100%",offset:-a,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(t);return t}},A=P,W={};function K(e,t){e.querySelector(".routes-map-bg-m").src=t}function N(e,t,a,r){K(t,"FORWARD"==e.scrollDirection?r:a)}function q(e,t){e.querySelector(".routes-map-bg").src=t}W.MapCtrl=function(){var n=j("#hk-routes-1"),o={opacity:1,ease:Linear.easeNone},i={opacity:0,ease:Linear.easeNone},e=new s.a.Controller,t=j(".nav").offsetHeight+j("#progress-div").offsetHeight||0,a=new s.a.Scene({triggerElement:n,triggerHook:"onLeave",duration:"500%",offset:-t,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(e).duration()/5;new s.a.Scene({triggerElement:n,triggerHook:"onLeave",duration:a,offset:-t,reverse:!0}).on("start",function(e){var t="FORWARD"==e.scrollDirection,a=[j("#hk-ndjili-line"),j("#hk-marker-ndjili"),j("#hk-n_djili-text"),j("#marker-casablanca"),j("#casablanca-text")];if(t)return(new TimelineMax).add(f.a.to([j("#hk-marker-ndjili"),j("#hk-n_djili-text")],.3,o)).add(f.a.to(j("#hk-ndjili-line path"),1,{strokeDashoffset:0,ease:Power2.easeOut})).add(f.a.to([j("#marker-casablanca"),j("#casablanca-text")],.3,o));f.a.killTweensOf(a),f.a.to([j("#hk-marker-ndjili"),j("#hk-n_djili-text"),j("#marker-casablanca"),j("#casablanca-text")],.5,i),f.a.to(j("#hk-ndjili-line path"),.5,{strokeDashoffset:512.72,ease:Power2.easeOut})}).addTo(e),new s.a.Scene({triggerElement:n,triggerHook:"onLeave",duration:a,offset:a-t,reverse:!0}).on("start",function(e){var t="FORWARD"==e.scrollDirection,a=[j("#casablanca-line"),j("#hamad-text"),j("#marker-hamad")];if(t)return(new TimelineMax).add(f.a.to(j("#casablanca-line path"),1,{strokeDashoffset:1310.86,ease:Power2.easeOut})).add(f.a.to([j("#hamad-text"),j("#marker-hamad")],.3,o));f.a.killTweensOf(a),f.a.to([j("#hamad-text"),j("#marker-hamad")],.5,i),f.a.to(j("#casablanca-line path"),.5,{strokeDashoffset:655.43,ease:Power2.easeOut})}).addTo(e),new s.a.Scene({triggerElement:n,triggerHook:"onLeave",duration:a,offset:2*a-t,reverse:!0}).on("start",function(e){var t="FORWARD"==e.scrollDirection,a=[j("#hamad-line"),j("#HK-text"),j("#marker-HK")];if(t)return(new TimelineMax).add(f.a.to(j("#hamad-line path"),1,{strokeDashoffset:1353.06,ease:Power2.easeOut})).add(f.a.to([j("#HK-text"),j("#marker-HK")],.3,o));f.a.killTweensOf(a),f.a.to([j("#HK-text"),j("#marker-HK")],.5,i),f.a.to(j("#hamad-line path"),.5,{strokeDashoffset:676.53,ease:Power2.easeOut})}).addTo(e),new s.a.Scene({triggerElement:n,triggerHook:"onLeave",duration:a,offset:3*a-t,reverse:!0}).on("start",function(e){!function(e,t,a,r){"FORWARD"==e.scrollDirection?q(t,r):q(t,a)}(e,n,"assets/maps/HK/desktop/map-01.jpg","assets/maps/HK/desktop/map-02.jpg");var t="FORWARD"==e.scrollDirection,a=[j("#hk-ndjili-line"),j("#hk-marker-ndjili"),j("#hk-n_djili-text"),j("#marker-casablanca"),j("#casablanca-text"),j("#casablanca-line"),j("#hamad-text"),j("#marker-hamad"),j("#hamad-line"),j("#HK-text"),j("#marker-HK")],r=[j("#hk-line"),j("#marker-HK-2"),j("#HK-text-2")];if(t)return j("#hk-text-static").style.display="none",(new TimelineMax).add(f.a.to(a,.5,i)).add(f.a.to(j("#hk-line path"),1,{strokeDashoffset:2320.86,ease:Power2.easeOut})).add(f.a.to([j("#marker-HK-2"),j("#HK-text-2")],.5,o));j("#hk-text-static").style.display="flex",f.a.to(a,.5,o),f.a.killTweensOf(r),f.a.to([j("#marker-HK-2"),j("#HK-text-2")],.5,i),f.a.to(j("#hk-line path"),1,{strokeDashoffset:1160.43,ease:Power2.easeOut})}).addTo(e),new s.a.Scene({triggerElement:n,triggerHook:"onLeave",duration:a,offset:4*a-t,reverse:!0}).on("start",function(e){var t="FORWARD"==e.scrollDirection,a=[j("#macau-line"),j("#marker-macau"),j("#macau-text"),j("#marker-HK-3"),j("#HK-text-3")];t?(f.a.to([j("#marker-macau"),j("#macau-text"),j("#marker-HK-3"),j("#HK-text-3")],.5,o),f.a.to(j("#macau-line"),.5,{opacity:.5,ease:Linear.easeNone})):(f.a.killTweensOf(a),f.a.to(a,.5,i))}).addTo(e);return e},W.MapCtrlM=function(){var t=j("#hk-routes-m-1"),e=new s.a.Controller,a=j(".nav").offsetHeight+j("#progress-div").offsetHeight||0,r=new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:"300%",offset:-a,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(e).duration()/3;new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:r,offset:r-a,reverse:!0}).on("start",function(e){N(e,t,"assets/maps/HK/mobile/m-map-01.jpg","assets/maps/HK/mobile/m-map-02.jpg")}).addTo(e),new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:r,offset:2*r-a,reverse:!0}).on("start",function(e){N(e,t,"assets/maps/HK/mobile/m-map-02.jpg","assets/maps/HK/mobile/m-map-03.jpg")}).addTo(e);return e};function z(e){return document.querySelector(e)}var I=W,J={};function V(e,t){e.querySelector(".routes-map-bg").src=t}J.MapCtrl=function(){var t=z("#vietnam-routes-1"),r={opacity:1,ease:Linear.easeNone},n={opacity:0,ease:Linear.easeNone},e=new s.a.Controller,a=z(".nav").offsetHeight+z("#progress-div").offsetHeight||0,o=new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:"300%",offset:-a,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!0})}).addTo(e).duration()/3;new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:o,offset:-a,reverse:!0}).on("start",function(e){var t="FORWARD"==e.scrollDirection,a=[z("#marker-cau"),z("#cau-text"),z("#mongcai-line"),z("#marker-mong"),z("#mong-text")];if(t)return(new TimelineMax).add(f.a.to([z("#marker-cau"),z("#cau-text")],.5,r)).add(f.a.to(z("#mongcai-line"),1,{strokeDashoffset:2429.2,ease:Power2.easeOut})).add(f.a.to([z("#marker-mong"),z("#mong-text")],.5,r));f.a.killTweensOf(a),f.a.to([z("#marker-cau"),z("#cau-text"),z("#marker-mong"),z("#mong-text")],.5,n),f.a.to(z("#mongcai-line"),.5,{strokeDashoffset:1214.6,ease:Power2.easeOut})}).addTo(e),new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:o,offset:o-a,reverse:!0}).on("start",function(e){var t="FORWARD"==e.scrollDirection,a=[z("#vietnam-circles"),z("#vietnam-legend")];if(t)return(new TimelineMax).add(f.a.to([z("#marker-cau"),z("#marker-mong")],.5,n),0).add(f.a.to(a,.5,r),0);f.a.killTweensOf(a),f.a.to(a,.5,n),f.a.to([z("#marker-cau"),z("#marker-mong")],.5,r)}).on("end",function(e){var t="FORWARD"==e.scrollDirection,a=[z("#cau-text"),z("#mongcai-line"),z("#mong-text"),z("#vietnam-circles"),z("#vietnam-legend")];t?f.a.to(a,.5,n):(f.a.killTweensOf(a),f.a.to(a,.5,r))}).addTo(e),new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:o,offset:2*o-a,reverse:!0}).on("start",function(e){!function(e,t,a,r){"FORWARD"==e.scrollDirection?V(t,r):V(t,a)}(e,t,"assets/maps/Vietnam/desktop/map-01.jpg","assets/maps/Vietnam/desktop/map-02.jpg")}).addTo(e);return e},J.MapCtrlM=function(){var e=z("#vietnam-routes-m-1"),t=new s.a.Controller,a=z(".nav").offsetHeight+z("#progress-div").offsetHeight||0;new s.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:"100%",offset:-a,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(t);return t};var X=J,B={},G=!1;B.init=function(e){return G||(console.log("init called once"),_.MapCtrl1(),_.MapCtrlM1Click(),G=!0),e?[x.MapCtrl1(),x.MapCtrl2(),A.MapCtrl(),R.MapCtrl1(),I.MapCtrl(),X.MapCtrl()]:[x.MapCtrlM1(),x.MapCtrlM2(),x.MapCtrlM3(),_.MapCtrlM1(),A.MapCtrlM(),R.MapCtrlM1(),I.MapCtrlM(),X.MapCtrlM()]};var Q=B;function U(e){var t=document.querySelector("#header-video"),a=document.querySelector("#header-video > source");e?(t.poster="assets/images/header-image-desktop.jpg",a.src="assets/images/pangolinreports_header.mp4"):(t.poster="assets/images/header-thumbnail-portrait.jpg",a.src="assets/images/pangolinreports_header_portrait.mp4"),t.load()}window.addEventListener("DOMContentLoaded",function(){var t=window.matchMedia("(min-device-width: 480px)").matches;U(t);var a=d.ctrlHeaderAudio(),r=d.initScrollController();d.initClickNav(),g.titleChangeD(),g.countryControllerD(),v.initHashController();var n=Q.init(t);window.onresize=function(){var e=window.matchMedia("(min-device-width: 480px)").matches;e!=t&&(console.log("device changed"),U(e),t=e,n.forEach(function(e){e.destroy(!0)}),Q.init(e)),a.destroy(!0),a=d.ctrlHeaderAudio(),r.destroy(!0),r=d.initScrollController()}})}});