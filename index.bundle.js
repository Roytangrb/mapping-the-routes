!function(n){function t(t){for(var o,a,s=t[0],l=t[1],c=t[2],p=0,f=[];p<s.length;p++)a=s[p],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&f.push(r[a][0]),r[a]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(n[o]=l[o]);for(d&&d(t);f.length;)f.shift()();return i.push.apply(i,c||[]),e()}function e(){for(var n,t=0;t<i.length;t++){for(var e=i[t],o=!0,s=1;s<e.length;s++){var l=e[s];0!==r[l]&&(o=!1)}o&&(i.splice(t--,1),n=a(a.s=e[0]))}return n}var o={},r={0:0},i=[];function a(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=n,a.c=o,a.d=function(n,t,e){a.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},a.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},a.t=function(n,t){if(1&t&&(n=a(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(a.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var o in n)a.d(e,o,function(t){return n[t]}.bind(null,o));return e},a.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return a.d(t,"a",t),t},a.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=l;i.push([21,1]),e()}([,,,,,,,,function(n,t,e){var o=e(9);"string"==typeof o&&(o=[[n.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};e(3)(o,r);o.locals&&(n.exports=o.locals)},function(n,t,e){(n.exports=e(2)(!1)).push([n.i,"body {\n\tmargin: 0px;\n\twidth: 100vw;\n\toverflow-x: hidden;\n\t/*default text sans-serif font*/\n\tfont-family: 'Open Sans', sans-serif;\n}\n\n.container{\n\tmargin: 0 15px;\n\toverflow: hidden;\n}\n\n.row{\n\twidth: 100%;\n}\n\n.center{\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.mobile-hidden{\n\tdisplay: none;\n}\n\n.desktop-hidden{\n\tdisplay: block;\n}\n\n.serif {\n\t/*title serif font */\n\tfont-family: 'ZCOOL XiaoWei', serif;\n}\n\n.white {\n\tcolor: #fff;\n}\n\n.yellow {\n\tcolor: #dcba7d;\n}\n\n.header{\n\twidth: 100vw;\n\theight: 100vh;\n\toverflow: hidden;\n\tbackground: url(assets/images/header-image-v4.jpg) no-repeat center center fixed; \n  -webkit-background-size: cover;\n  -moz-background-size: cover;\n  -o-background-size: cover;\n  background-size: cover;\n\n  /*IE compatibility*/\n  filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='assets/images/header-image-v4.jpg', sizingMethod='scale');\n\t-ms-filter: \"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='myBackground.jpg', sizingMethod='scale')\";\n\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.header-container{\n\tmargin: 0 8%;\n\twidth: auto;\n\theight: auto;\n}\n\n.header-title{\n\tfont-size: 3em;\n\tfont-family: 'ZCOOL XiaoWei', serif;\n\tcolor: #fff\n}\n\n.header-intro{\n\tfont-size: 0.8em;\n  font-weight: normal;\n  font-style: normal;\n  font-stretch: normal;\n  letter-spacing: normal;\n  text-align: left;\n  color: #dcba7d;\n}\n\n.header-indent{\n\tmargin-left: 21px;\n}\n\n.nav {\n\twidth: 100vw;\n\tbox-sizing: border-box;\n\tpadding: 0 10px;\n\theight: 19px;\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tbackground-color: #1d1d1d;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tz-index: 999;\n}\n\n.nav-left, .nav-right{\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-around;\n\tfont-size: 12px;\n\tline-height: 12px;\n}\n\n\n.icon {\n\twidth: 20px;\n\theight: 100%;\n\tmax-height: 23px;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tbox-sizing: border-box;\n\tborder-left: 1px solid #dcba7d;\n\tcursor: pointer;\n}\n\n.nav-right:last-child{\n\tborder-right: 1px solid #dcba7d;\n}\n\n.icon:hover{\n\tbackground: #fff;\n}\n\n.pangolin-logo {\n  width: 12px;\n  height: 12px;\n  margin-right: 10px;\n  object-fit: contain;\n}\n\n/*content styles*/\n.chapter-title{\n\tfont-family: 'ZCOOL XiaoWei', serif;\n\tfont-size: 20px;\n\tcolor: #3b3b3b;\n\ttext-align: center;\n}\n\n.byline{\n\tposition: relative;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\ttext-transform: uppercase;\n\tfont-size: 10px;\n\tcolor: #dcba7d;\n}\n\n.bookmark{\n\tposition: absolute;\n\tright:0;\n\tbottom: 0;\n\twidth: 10px;\n\theight: 15px;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tbackground-image: url(assets/images/bookmark.svg);\n\tbackground-repeat: no-repeat;\n}\n\n.footer{\n\theight: auto;\n\tmin-height: 250px;\n\tmargin-bottom: 50px;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: flex-end;\n\talign-items: flex-end;\n\tfont-size: 10px;\n\tcolor: #220f07;\n\ttext-align: right;\n}\n\n.pangolin-logo-footer {\n  width: 68.6px;\n  height: 75px;\n  object-fit: contain;\n}\n\n.footer-icon {\n\twidth: 30px;\n\theight: 100%;\n\tmax-height: 23px;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tbox-sizing: border-box;\n\tcursor: pointer;\n}\n\n.footer-icons{\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\talign-items: center;\n}\n\n.article-image{\n\twidth: 100%;\n\theight: auto;\n}\n/*content styles*/\n\n/*component*/\n.quote{\n\tposition: relative;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\tpadding: 0 10px 10px 10px;\n\tborder-bottom: 1px solid #dcba7d;\n\tbox-sizing: border-box;\n  font-family: 'ZCOOL XiaoWei', serif;\n  font-size: 26px;\n  font-weight: normal;\n  color: #dcba7d;\n}\n\n.caption{\n  font-size: 10px;\n  font-weight: 300;\n  font-style: normal;\n  font-stretch: normal;\n  color: #3b3b3b;\n  border-bottom: 1px solid #dcba7d;\n  margin: 10px 0 0 0;\n  padding-bottom: 10px; \n}\n/*component*/\n\n/*snazzy map*/\n.snazzy{\n\twidth: 100vw;\n\theight: auto;\n\tmargin-left: -15px;\n\tmargin-right: -15px;\n\tbackground-size: cover;\n}\n/*snazzy map*/\n\n/*animated map svg v1 [deprecated]*/\n/*map container is pinned as position: fixed, margin won't apply*/\n#map-container{\n\twidth: 100vw;\n\theight: auto;\n\tbackground: #fff;\n\toverflow: hidden;\n\tmargin: 0 -15px;\n}\n\n#map{\n\twidth: 100%;\n\tmargin: 15px 0px;\n\theight: auto;\n}\n\npath{\n\tstroke-linecap: round;\n\tstroke-linejoin: round;\n}\n\n.path{\n\tfill:none;\n\tstroke:#000;\n\tstroke-width: 1px;\n}\n\n.path-stop{\n\tfill: #fff;\n\tstroke: #000;\n\tstroke-width: 0.3px;\n}\n\n.path-stop:hover{\n\tcursor: pointer;\n\tfill: #ccc;\n}\n/*animated map svg v1 [deprecated]*/\n\n#geo-map-container{\n\twidth: 100%;\n\theight: auto;\n\tbackground: #fff;\n\toverflow: hidden;\n\tmargin: 15px 0;\n}\n\n#geo-map{\n\twidth: 100%;\n}\n\n#timeline-container{\n\twidth: 100%;\n\theight: auto;\n\toverflow: hidden;\n}\n\n.vis-title {\n  font: 16px 'Open Sans';\n  font-weight: bold;\n  fill: #777;\n}\n\n.seizure-total{\n\tfont: 26px 'Open Sans';\n  font-weight: bold;\n  fill: #000;\n}\n\n.circle-hover {\n  stroke: #000;\n  stroke-width: 1px;\n}\n\n.area {\n  fill: steelblue;\n  fill-opacity: 0.7;\n}\n\n.axis path,\n.axis line {\n  fill: none;\n  stroke: #000;\n  shape-rendering: crispEdges;\n}\n\n.brush .extent {\n  stroke: #fff;\n  fill: #000;\n  fill-opacity: .25;\n  shape-rendering: crispEdges;\n}",""])},,function(n,t,e){var o=e(12);"string"==typeof o&&(o=[[n.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};e(3)(o,r);o.locals&&(n.exports=o.locals)},function(n,t,e){(n.exports=e(2)(!1)).push([n.i,"@media only screen and (min-device-width: 480px) {\n\t.container{\n\t\tmargin: 0 25%;\n\t}\n\n\t.mobile-hidden{\n\t\tdisplay: block;\n\t}\n\n\t.desktop-hidden{\n\t\tdisplay: none;\n\t}\n\n  .header { \n    background-image: url('assets/images/header-image-v1.jpg'); \n  }\n\n  .header-container{\n\t\tmargin: 0 20%;\n\t}\n\n\t.nav {\n\t\theight: 23px;\n\t\tpadding: 0 30px;\n\t}\n\n\t#progress-div{\n    top: 23px !important;\n  }\n\n  .footer{\n  \tflex-direction: row;\n  \tjustify-content: space-between;\n  \talign-items: flex-end;\n  }\n\n  .quote-para{\n  \tposition: relative;\n  \twidth: 60%;\n  }\n\n  .quote{\n  \tposition: absolute;\n  \ttop: 0;\n  \tleft: 100%;\n  }\n\n  .snazzy{\n\t\tmargin: 0 -25vw;\n\t}\n\t\n\t/*animated map svg v1 [deprecated]*/\n  #map-container{\n\t\tmargin: 0 -25vw !important;\n\t}\n\n\t.scrollmagic-pin-spacer {\n\t\tmargin: 0 -25vw !important;\n\t\tpadding-left: 25vw !important;\n\t}\n  /*animated map svg v1 [deprecated]*/\n}",""])},function(n,t,e){var o=e(14);"string"==typeof o&&(o=[[n.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};e(3)(o,r);o.locals&&(n.exports=o.locals)},function(n,t,e){(n.exports=e(2)(!1)).push([n.i,"#map-tooltip{\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tdisplay: none;\n\tflex-direction: column;\n\twidth: 100px;\n\theight: 100px;\n\tbackground: #fff;\n\tborder-radius: 5px;\n\tborder: 1px solid #000;\n\tz-index: 2;\n\toverflow: hidden;\n\tpadding: 5px;\n}\n\n#map-tooltip-title{\n\tfont-size: 14px;\n\tfont-weight: 600;\n}\n\n#map-tooltip-title-close{\n\tfont-family: Sans-serif;\n\tposition: absolute;\n\ttop: 5px;\n\tright: 5px;\n}\n\n#map-tooltip-description{\n\tfont-size: 11px\n}\n\n#map-tooltip-underlay{\n\tdisplay: none;\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100vw;\n\theight: 100vh;\n\tz-index: 1;\n\toverflow: hidden;\n}",""])},function(n,t,e){var o=e(16);"string"==typeof o&&(o=[[n.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};e(3)(o,r);o.locals&&(n.exports=o.locals)},function(n,t,e){(n.exports=e(2)(!1)).push([n.i,"/* Progress Bar */\n#progress-div{\n    position:fixed;\n    width:100%;\n    height:3.5px;\n    background-color: #dcba7d;\n    top:19px;\n    left:0px;\n    z-index: 999;\n}\n#progress-bar{\n    position: absolute;\n    float:left;\n    height:100%;\n    background-color: #fc7a00;\n    -webkit-transition: width 0.3s; /* Safari */\n    transition: width 0.3s;\n}\n#progress-div:hover, #progress-bar:hover{\n    cursor: pointer;\n}\n/* Progress Bar */",""])},,,function(n,t,e){var o=e(20);"string"==typeof o&&(o=[[n.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};e(3)(o,r);o.locals&&(n.exports=o.locals)},function(n,t,e){(n.exports=e(2)(!1)).push([n.i,'#overlay{\n\tdisplay: none;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100vw;\n\theight: 100vh;\n\tz-index: 999;\n\tbackground: rgba(0, 0, 0, 0.4);\n\toverflow: hidden;\n}\n\n#overlay form {\n\tdisplay: inherit;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\twidth: 100%;\n\theight: auto;\n}\n\n#overlay input[type="email"]{\n\tdisplay: inherit;\n\twidth: 80%;\n\tmax-width: 300px;\n\tline-height: 25px;\n\tborder-radius: 5px;\n\tz-index: 1000;\n}\n\n#overlay button{\n\tdisplay: inherit;\n\tbackground: #fff;\n\tmargin: 20px; \n\tborder-radius: 5px;\n\tz-index: 1000;\n}\n\n#submit-message{\n\tdisplay: inherit;\n\tfont-size: 10px;\n\tcolor: red;\n}',""])},function(n,t,e){"use strict";e.r(t);e(8),e(11),e(13),e(15);var o=e(1),r=e.n(o),i=(e(17),function(n){return document.querySelector(n)}),a=function(){};a.initScrollController=function(){var n=i("#progress-bar"),t=document.body,e=t.offsetHeight,o=new r.a.Controller,a=(new TimelineMax).to(n,1,{width:"100%",ease:Linear.easeNone});new r.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:e,tweenChanges:!0}).setTween(a).addTo(o)},a.initClickNav=function(){var n=i("#progress-div"),t=(i("#progress-bar"),function(n){var t=document.body.offsetWidth,e=document.body.offsetHeight,o=parseInt(n.pageX);if(o>0){var r=e*(o/t);window.scrollTo({top:r,behavior:"smooth"})}});n.addEventListener("click",t),n.addEventListener("touchend",t)};var s=a,l=function(){};l.initHashController=function(){var n,t=(n=".chapter-anchor",document.querySelectorAll(n)),e=new r.a.Controller;t.forEach(function(n){new r.a.Scene({triggerElement:n,duration:n.offsetHeight}).addTo(e).on("enter leave",function(t){var e=n.id;window.history.pushState(null,null,"#".concat(e))})})};var c=l;e(19);var d=function(n){var t=function(n){var t,e=n.elements,o=Object.keys(e).filter(function(n){return"honeypot"!==e[n].name||(t=e[n].value,!1)}).map(function(n){return void 0!==e[n].name?e[n].name:e[n].length>0?e[n].item(0).name:void 0}).filter(function(n,t,e){return e.indexOf(n)==t&&n}),r={};return o.forEach(function(n){var t=e[n];if(r[n]=t.value,t.length){for(var o=[],i=0;i<t.length;i++){var a=t.item(i);(a.checked||a.selected)&&o.push(a.value)}r[n]=o.join(", ")}}),r.progress=window.location.hash,r.url=window.location.href,o=o.concat(["progress","url"]),r.formDataNameOrder=JSON.stringify(o),r.formGoogleSheetName=n.dataset.sheet||"responses",r.formGoogleSend=n.dataset.email||"",{data:r,honeypot:t}}(n),e=document.querySelector("#submit-message"),o=t.data;if(t.honeypot)return e.innerHTML="Spam Detected!",!1;e.innerHTML="Sending...",function(n){for(var t=n.querySelectorAll("button"),e=0;e<t.length;e++)t[e].disabled=!0}(n);var r=n.action,i=new XMLHttpRequest;i.open("POST",r),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.onreadystatechange=function(){4===i.readyState&&200===i.status&&(n.reset(),e.innerHTML="Your email has been received!")};var a=Object.keys(o).map(function(n){return encodeURIComponent(n)+"="+encodeURIComponent(o[n])}).join("&");i.send(a)},p={},f={isOverlayShown:!1,isEmailSaved:!1},u=function(n){return document.querySelector(n)};p.initBookmark=function(){var n,t=(n=".bookmark",document.querySelectorAll(n)),e=u("#overlay");t.forEach(function(n){n.addEventListener("click",function(n){e.style.display=f.isOverlayShown?"none":"flex",f.isOverlayShown=!f.isOverlayShown})}),e.addEventListener("click",function(n){e.style.display="none",f.isOverlayShown=!1});var o=u("#submit-reminder"),r=u("input#email"),i=u("#submit-message");r.addEventListener("click",function(n){n.stopPropagation()}),o.addEventListener("click",function(n){if(n.preventDefault(),n.stopPropagation(),i.innerHTML="",e=r.value,/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())&&!f.isEmailSaved){var t=u("#bookmark-req-form");d(t),f.isEmailSaved=!0,r.disabled=!0,o.disabled=!0}else i.innerHTML="Invalid Email!";var e})};var m=p,h=e(0);function g(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=[],o=!0,r=!1,i=void 0;try{for(var a,s=n[Symbol.iterator]();!(o=(a=s.next()).done)&&(e.push(a.value),!t||e.length!==t);o=!0);}catch(n){r=!0,i=n}finally{try{o||null==s.return||s.return()}finally{if(r)throw i}}return e}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var v={},x=function(n){return document.querySelector(n)},y=h.m().domain([0,58]).range([h.l("#cccccc"),h.l("#08306b")]),b=h.n().range([2,15]),w=h.p("#geo-map-container").append("svg").attr("x",0).attr("y",0).attr("viewBox","0 0 960 500").attr("id","geo-map"),k=w.append("g").attr("class","countries"),S=w.append("g").attr("class","china-provinces"),E=[k,S],z=(x("#geo-map-container").offsetWidth,x("#geo-map-container").offsetHeight,h.i().scale(130)),M=h.j().projection(z),T=50,j=50,O=w.append("text").attr("class","vis-title").attr("transform","translate("+j+","+T+")").text("# Pangolins (select a time range)"),L=20,I=50,N=w.append("text").attr("class","seizure-total").attr("transform","translate("+I+","+L+")").text("0 Pangolins");v.renderMap=function(){Promise.all([h.k("assets/maps/world_countries.json"),h.k("assets/maps/china.json"),h.e("assets/data/valid-seizure-num-date.csv")]).then(function(n){var t=g(n,3),e=t[0],o=t[1],r=t[2];!function(n){var t={};[{name:"上海",value:4},{name:"云南",value:3},{name:"内蒙古",value:17},{name:"北京",value:17},{name:"吉林",value:58},{name:"四川",value:4},{name:"天津",value:17},{name:"安徽",value:3},{name:"山东",value:10},{name:"山西",value:18},{name:"广东",value:4},{name:"广西",value:1},{name:"新疆",value:1},{name:"江苏",value:3},{name:"江西",value:6},{name:"河北",value:22},{name:"河南",value:20},{name:"浙江",value:5},{name:"湖北",value:7},{name:"湖南",value:3},{name:"甘肃",value:5},{name:"贵州",value:7},{name:"辽宁",value:26},{name:"重庆",value:2},{name:"陕西",value:7},{name:"青海",value:3},{name:"黑龙江",value:28}].forEach(function(n){t[n.name]=+n.value}),n.features.forEach(function(n){n.value=t[n.properties.name]||0}),S.selectAll("path").data(n.features).enter().append("path").attr("d",M).style("fill",function(n){return y(n.value)}).style("stroke","white").style("stroke-width",.3).style("opacity",.8)}(o);var i=h.q("%Y-%m-%d %H:%M:%S"),a=[],s={},l=r.map(function(n,t){return n.TIME=i(n.Date),n.ESTNUM=+n.ESTNUM,n.Latitude=+n.Latitude,n.Longitude=+n.Longitude,s[n.TIME]?s[n.TIME]+=n.ESTNUM:s[n.TIME]=n.ESTNUM,n});Object.keys(s).forEach(function(n){a.push({TIME:new Date(n),ESTNUM:s[n]})}),a.sort(function(n,t){return n.TIME-t.TIME}),b.domain(h.g(l,function(n){return+n.ESTNUM})),function(n,t){var e={top:10,right:10,bottom:20,left:15},o=x("#timeline-container").offsetWidth-e.left-e.right,r=80-e.top-e.bottom,i=h.p("#timeline-container").append("svg").attr("width",o+e.left+e.right).attr("height",r+e.top+e.bottom).append("g").attr("class","timeline").attr("transform","translate("+e.left+","+e.top+")"),a=h.o().domain(h.g(t.map(function(n){return n.TIME}))).range([0,o]),s=h.m().domain(h.g(t.map(function(n){return n.ESTNUM}))).range([r,0]),l=h.b(a),c=h.c(s).ticks(2).tickFormat(h.h("~s")),d=h.a().x(function(n){return a(n.TIME)}).y0(r).y1(function(n){return s(n.ESTNUM)});i.append("path").datum(t).attr("class","area").attr("d",d),i.append("g").attr("class","x axis").attr("transform","translate(0,"+r+")").call(l),i.append("g").attr("class","y axis").call(c),i.append("text").attr("transform","rotate(-90)").attr("dy","-1em").style("text-anchor","end").style("font-size","8px").text("# Pangolins");var p=h.d().extent([[0,0],[o,r]]).on("brush end",function(){!function(n,t){var e=h.f.selection.map(t.invert)||t.domain(),o=n.filter(function(n){return n.TIME>=e[0]&&n.TIME<=e[1]});(function(n){var t=w.selectAll("circle").data(n,function(n){return n.TIME+n.ESTNUM});t.attr("fill","rgba(0, 0, 255, 0.3)").attr("cx",function(n){return z([+n.Longitude,+n.Latitude])[0]}).attr("cy",function(n){return z([+n.Longitude,+n.Latitude])[1]}).attr("r",function(n){return b(+n.ESTNUM)}),t.enter().append("circle").attr("fill","rgba(0, 0, 255, 0.3)").attr("cx",function(n){return z([+n.Longitude,+n.Latitude])[0]}).attr("cy",function(n){return z([+n.Longitude,+n.Latitude])[1]}).attr("r",0).transition().duration(500).attr("r",function(n){return b(+n.ESTNUM)}),t.exit().attr("r",function(n){return b(+n.ESTNUM)}).transition().duration(500).attr("r",0).remove()})(o),function(n,t){if(n){var e=n[0].getMonth()+1+"/"+(n[0].getDay()+1)+"/"+n[0].getFullYear(),o=n[1].getMonth()+1+"/"+(n[1].getDay()+1)+"/"+n[1].getFullYear();O.text("Pangolin seizures "+e+" - "+o)}else O.text("Pangolin seizures (select a time range)");var r=t.map(function(n){return+n.ESTNUM}).reduce(function(n,t){return n+t});N.text("".concat(r," Pangolins"))}(e,o)}(n,a)}),f=[new Date(2e3,1,1),new Date(2001,12,31)].map(a);i.append("g").attr("class","brush").call(p).call(p.move,f)}(l,a);var c={};for(name in r.forEach(function(n){return c[n.Country]=n}),c)e.features.find(function(n){return n.properties.name==name})||console.log(name);k.selectAll("path").data(e.features).enter().append("path").attr("d",M).style("fill","#ccc").style("stroke","white").style("stroke-width",1.5).style("opacity",.8).style("stroke","white").style("stroke-width",.3).on("mouseover",function(n){h.p(this).style("opacity",1).style("stroke","white").style("stroke-width",1)}).on("mouseout",function(n){h.p(this).style("opacity",.8).style("stroke","white").style("stroke-width",.3)})}).catch(function(n){console.log("d3 err",n)});h.r().on("zoom",function(){E.forEach(function(n){n.attr("transform",h.f.transform)})})};var P=v;s.initScrollController(),s.initClickNav(),c.initHashController(),m.initBookmark(),P.renderMap()}]);