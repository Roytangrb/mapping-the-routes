!function(l){function e(e){for(var t,n,r=e[0],a=e[1],o=e[2],i=0,s=[];i<r.length;i++)n=r[i],Object.prototype.hasOwnProperty.call(c,n)&&c[n]&&s.push(c[n][0]),c[n]=0;for(t in a)Object.prototype.hasOwnProperty.call(a,t)&&(l[t]=a[t]);for(f&&f(e);s.length;)s.shift()();return u.push.apply(u,o||[]),d()}function d(){for(var e,t=0;t<u.length;t++){for(var n=u[t],r=!0,a=1;a<n.length;a++){var o=n[a];0!==c[o]&&(r=!1)}r&&(u.splice(t--,1),e=i(i.s=n[0]))}return e}var n={},c={0:0},u=[];function i(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return l[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=l,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var t=window.webpackJsonp=window.webpackJsonp||[],r=t.push.bind(t);t.push=e,t=t.slice();for(var a=0;a<t.length;a++)e(t[a]);var f=r;u.push([22,1]),d()}([,,,,,,,,,,function(e,t,n){var r=n(11);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(5)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(4)(!1)).push([e.i,"@font-face {\n  font-family: 'open sans bold';\n  src: url('assets/open-sans-800.woff') format('woff');\n}\n\nbody {\n\tmargin: 0px;\n\twidth: 100vw;\n\toverflow-x: hidden;\n\t/*default text sans-serif font*/\n\tfont-family: 'Open Sans', sans-serif;\n}\n\n.container{\n\tmargin: 0 15px;\n\t/*to allow fullwidth elements be shown*/\n\t/*overflow: hidden; */\n}\n\n.row{\n\twidth: 100%;\n\tflex-direction: row;\n}\n\n.center{\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.mobile-hidden{\n\tdisplay: none;\n}\n\n.desktop-hidden{\n\tdisplay: block;\n}\n\n.serif {\n\t/*title serif font */\n\tfont-family: 'ZCOOL XiaoWei', serif;\n\tdisplay: none;\n}\n\n.white {\n\tcolor: #fff;\n}\n\n\n.white a {\n\tcolor: #fff;\n\ttext-decoration: none;\n}\n\n.yellow {\n\tcolor: #dcba7d;\n}\n\na {\n\tcolor: black;\n\ttext-decoration: underline;\n\ttext-decoration-color: #dcba7d;\n\ttransition: all .3s ease-in-out;\n}\n\na:hover {\n\tcolor: white;\n\tbackground: #dcba7d;\n}\n\n.icon > a:hover, .footer-icon > a:hover{\n\tbackground: none;\n}\n\n.header{\n\twidth: 100vw;\n\theight: 100vh;\n\toverflow: hidden;\n\tbackground: url(assets/images/header-thumbnail-portrait.jpg) no-repeat center center fixed;\n  -webkit-background-size: cover;\n  -moz-background-size: cover;\n  -o-background-size: cover;\n  background-size: cover;\n\n  /*IE compatibility*/\n  filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='assets/images/header-image-v4.jpg', sizingMethod='scale');\n\t-ms-filter: \"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='myBackground.jpg', sizingMethod='scale')\";\n\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\tposition: relative;\n}\n\n#header-video {\n  position: absolute;\n  left: 0;\n  top: 0;\n  min-width: 100%;\n  min-height: 100%;\n  z-index: 0;\n}\n\n#header-caption {\n  padding: 10px 0;\n  margin: 0 50px;\n}\n\n.header-container{\n\tmargin: 0 8%;\n\twidth: auto;\n\theight: auto;\n\tz-index: 1;\n\tpadding-bottom: 20vh;\n}\n\n.header-title{\n\tfont-size: 3.8em;\n\tfont-family: 'ZCOOL XiaoWei', serif;\n\tcolor: #fff\n}\n\n.header-intro{\n\tmargin-top: 2vh;\n\tfont-size: 0.8em;\n  font-weight: normal;\n  font-style: normal;\n  font-stretch: normal;\n  letter-spacing: normal;\n  text-align: left;\n  color: #dcba7d;\n}\n\n.header-indent{\n\tmargin-left: 35px;\n}\n\n.header-button button\n{\n\tbackground-color: #dcba7d;\n\tfont-size: 1em;\n\tborder-color: #dcba7d;\n\tcolor: #000000;\n\tborder-radius: 1vh;\n\tpadding: 1vh 5vw;\n\ttransition: all .3s ease-in-out;\n\tcursor: pointer;\n\tmargin-top: 1vh;\n}\n\n.header-button\n{\n\tmargin-top: 2vh;\n}\n\n.nav {\n\twidth: 100vw;\n\tbox-sizing: border-box;\n\tpadding: 0 10px;\n\theight: 35px;\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tbackground-color: #1d1d1d;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tz-index: 999;\n}\n\n.nav-left, .nav-right{\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-around;\n\tfont-size: 15px;\n\tline-height: 12px;\n}\n\n\n\n\n.icon {\n\twidth: 35px;\n\theight: 100%;\n\tmax-height: 35px;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tbox-sizing: border-box;\n\tborder-left: 1px solid #dcba7d;\n\tcursor: pointer;\n}\n\n.nav-right:last-child{\n\tborder-right: 1px solid #dcba7d;\n}\n\n.icon:hover{\n\tbackground: #fff;\n}\n\n.pangolin-logo {\n  width: 20px;\n  height: 20px;\n  margin-right: 10px;\n  object-fit: contain;\n}\n\n/*content styles*/\n.chapter-title{\n\ttext-align: center;\n\tmargin: 0 5vw;\n}\n\n.chapter-title h3{\n\tfont-family: 'ZCOOL XiaoWei', serif;\n\tfont-size: 20px;\n\tcolor: #3b3b3b;\n\ttext-align: center;\n\tpadding-bottom: 1vh;\n\tborder-bottom: #dcba7d 1px solid;\n\tmargin: 0 5vw;\n\tfont-style: 100;\n}\n\n.chapter-title h3 span{\n\tdisplay: block;\n\tfont-family: 'Open Sans', sans-serif;\n  font-weight: 900;\n  line-height: 1.37;\n  text-align: center;\n  color: #dcba7d;\n\ttext-transform: uppercase;\n}\n\n.byline{\n\tposition: relative;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\ttext-transform: uppercase;\n\tfont-size: 10px;\n\tcolor: #dcba7d;\n}\n\n.bookmark{\n\tposition: absolute;\n\tright:0;\n\tbottom: 0;\n\twidth: 10px;\n\theight: 15px;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tbackground-image: url(assets/images/bookmark.svg);\n\tbackground-repeat: no-repeat;\n}\n\n.footer{\n\theight: auto;\n\tmin-height: 250px;\n\tmargin-bottom: 50px;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: flex-end;\n\talign-items: flex-end;\n\tfont-size: 10px;\n\tcolor: #220f07;\n\ttext-align: right;\n}\n\n.pangolin-logo-footer {\n  width: 68.6px;\n  height: 75px;\n  object-fit: contain;\n}\n\n.footer-icon {\n\twidth: 30px;\n\theight: 100%;\n\tmax-height: 23px;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tbox-sizing: border-box;\n\tcursor: pointer;\n}\n\n.footer-icons{\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\talign-items: center;\n}\n\n.article-image{\n\twidth: 100%;\n\theight: auto;\n}\n\n.article-image-v{\n\twidth: 50%;\n\theight: auto;\n}\n/*content styles*/\n\n/*component*/\n.quote{\n\tposition: relative;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\tpadding: 0 10px 10px 10px;\n\tborder-bottom: 1px solid #dcba7d;\n\tbox-sizing: border-box;\n  font-family: 'ZCOOL XiaoWei', serif;\n  font-size: 26px;\n  font-weight: normal;\n  color: #dcba7d;\n}\n\n.caption{\n  font-size: 10px;\n  font-weight: 300;\n  font-style: normal;\n  font-stretch: normal;\n  color: #3b3b3b;\n  border-bottom: 1px solid #dcba7d;\n  margin: 10px 0 0 0;\n  padding-bottom: 10px;\n}\n/*component*/\n\n#geo-map-container{\n\twidth: 100%;\n\theight: auto;\n\tbackground: #fff;\n\toverflow: hidden;\n\tmargin: 15px 0;\n}\n\n#geo-map{\n\twidth: 100%;\n}\n\n.vis-title {\n  font: 16px 'Open Sans';\n  font-weight: bold;\n  fill: white;\n}\n\n.seizure-total{\n\tfont: 4em 'Open Sans';\n  font-weight: bold;\n  fill: white;\n}\n\n.legend-text{\n\tfill: white;\n\tfont-family: 'Open Sans', sans-serif;\n\tfont-size: 14px;\n}\n\n.circle-hover {\n  stroke: #000;\n  stroke-width: 1px;\n}\n\n.area {\n  fill: steelblue;\n  fill-opacity: 0.7;\n}\n\n.axis path,\n.axis line {\n  fill: none;\n  stroke: #000;\n  shape-rendering: crispEdges;\n}\n\n.brush .extent {\n  stroke: #fff;\n  fill: #000;\n  fill-opacity: .25;\n  shape-rendering: crispEdges;\n}\n\n.bartip{\n  position: absolute;\n  text-align: center;\n  max-width: 70px;\n  max-height: 30px;\n  padding: 8px;\n  border: none;\n  border-radius : 8px;\n  margin-top: -30px;\n  font: 10px sans-serif;\n  background: black;\n  color: white;\n  pointer-events: none;\n}\n",""])},,function(e,t,n){var r=n(14);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(5)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(4)(!1)).push([e.i,"@media only screen and (min-device-width: 480px) {\n\t.container{\n\t\tmargin: 0 25%;\n\t}\n\n\t.mobile-hidden{\n\t\tdisplay: block;\n\t}\n\n\t.desktop-hidden{\n\t\tdisplay: none;\n\t}\n\n  .header {\n    background-image: url('assets/images/header-image-desktop.jpg');\n  }\n\n  .header-container{\n\t\tmargin: 5% 0 0 50%;\n\t}\n\n\t.header-title div{\n\t\tfont-size: 7vw;\n\t\tline-height: 0.85;\n\t}\n\n\t.header-intro{\n\t\tmargin-bottom: 2vh;\n\t\tfont-size: 1vw;\n\t\twidth: 55%;\n\n\t}\n\n\t.header-indent{\n\t\tmargin-left: 5vw;\n\t}\n\n\t.header-button button\n\t{\n\t\tbackground-color: #dcba7d;\n\t\tfont-size: 1.2em;\n\t\tborder-radius: 1vh;\n\t\tpadding: 1vh 1vw;\n\t\ttransition: all .3s ease-in-out;\n\t\tmargin-top: 0;\n\t}\n\n\t.header-button\n\t{\n\t\tmargin-top: 4vh;\n\t}\n\n\t.nav {\n\t\theight: 40px;\n\t\tpadding: 0 30px;\n\t}\n\n\t.country-list\n\t{\n\t\tcolor: white;\n\t\tdisplay: none;\n\t}\n\n\t.country-list li\n\t{\n\t\tdisplay: inline-block;\n\t}\n\n\t.country-list .active\n\t{\n\t\tcolor: #dcba7d;\n\t}\n\n\t#progress-div{\n    top: 40px !important;\n  }\n\n\t.chapter-title{\n\t\ttext-align: center;\n\t\tmargin: 0 10vw;\n\t}\n\n  .footer{\n  \tflex-direction: row;\n  \tjustify-content: space-between;\n  \talign-items: flex-end;\n  }\n\n  .quote-para{\n  \tposition: relative;\n  \twidth: 60%;\n  }\n\n  .quote{\n  \tposition: absolute;\n  \ttop: 0;\n  \tleft: 100%;\n  }\n\n  #geo-map-container{\n  \twidth: 70vw;\n\t\tmargin: 15px -10vw;\n\t}\n}\n",""])},function(e,t,n){var r=n(16);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(5)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(4)(!1)).push([e.i,".routes-map-container{\n\t/*1466 : 1080*/\n\twidth: 100vw;\n\theight: 73.67vw;\n\tbackground-size: cover;\n\tposition: relative;\n}\n\n.routes-map-svg, .routes-map-bg{\n\twidth: 100%;\n}\n\n.routes-map-svg{\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tz-index: 1;\n}\n\n.routes-map-bg{\n\tposition: absolute;\n\tdisplay: block;\n\theight: auto;\n\tleft: 0;\n\ttop: 0;\n}\n\n.routes-map-para{\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\tbox-sizing: border-box;\n\twidth: 100vw;\n\theight: 100vh;\n\n\tpadding-left: 10vw;\n\tpadding-right: 10vw;\n\n\tmargin-left: -15px;\n}\n\n.routes-map-para-icon{\n\twidth: 40vw\n}\n\n.routes-map-para p{\n\tpadding: 8vw 5vw;\n\tborder: 1px solid #ccc;\n\tbackground: rgba(255, 255, 255, 0.85);\n\tz-index: 2;\n}\n\n.routes-map-static{\n\twidth: 100vw;\n\tmargin: 0 -15px;\n\theight: auto;\n}\n\n.routes-map-static img{\n\twidth: 100%;\n}\n\n.routes-map-static-caption{\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\tbox-sizing: border-box;\n\twidth: 100vw;\n\theight: 100vh;\n\n\tpadding-left: 10vw;\n\tpadding-right: 10vw;\n\n\tmargin-left: -15px;\n}\n\n.routes-map-static-caption p{\n\tpadding: 8vw 5vw;\n\tborder: 1px solid #ccc;\n\tbackground: rgba(255, 255, 255, 0.85);\n\tz-index: 2;\n}\n\n.routes-map-container-m{\n\t/*750 : 1334*/\n\twidth: 100vw;\n\theight: 177.87vw;\n\tbackground-size: cover;\n\tposition: relative;\n\tmargin: 0 -15px;\n\toverflow: hidden;\n}\n\n.routes-map-bg-m{\n\twidth: 100%;\n\tposition: absolute;\n\tdisplay: block;\n\theight: auto;\n\tleft: 0;\n\ttop: 0;\n}\n\n/*specific cases*/\n.routes-map-mobile-hidden{\n\tdisplay: none;\n}\n\n/* Desktop */\n@media only screen and (min-device-width: 480px) {\n\t.routes-map-container{\n\t\t/*1466 : 1080*/\n\t\twidth: 75vw;\n\t\theight: 55.25vw;\n\t\tmargin: 0 0 0 -25vw !important;\n\t}\n\n\t.routes-map-para-static{\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tbox-sizing: border-box;\n\t\twidth: 100vw;\n\t\theight: 100vh;\n\n\t\tpadding-left: 80vw;\n\t\tpadding-right: 5vw;\n\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tz-index: 0;\n\t}\n\n\t.routes-map-para{\n\t\tdisplay: block;\n\t\tpadding-left: 80vw;\n\t\tpadding-right: 5vw;\n\t\tmargin: 0 0 0 -25vw !important;\n\t}\n\n\t.routes-map-para-icon{\n\t\twidth: 6vw\n\t}\n\n\t.routes-map-para p{\n\t\tpadding: 0;\n\t\tborder: none;\n\t\tbackground: none;\n\t}\n\n\t.routes-map-static{\n\t\tmargin: 0 -25vw;\n\t}\n\n\t.routes-map-static-caption{\n\t\tdisplay: block;\n\t\theight: auto;\n\t\tmargin: 0 -25vw;\n\t}\n\n\t.routes-map-static-caption p{\n\t\tpadding: 10px 0;\n\t\tmargin: 0;\n\t\tcolor: #3b3b3b;\n\t\tbackground: none;\n\t\tborder-top: none;\n\t\tborder-right: none;\n\t\tborder-left: none;\n  \tborder-bottom: 1px solid #dcba7d;\n\t}\n\n\t.scrollmagic-pin-spacer{\n\t\tmargin: 0 !important;\n\t}\n\n\t#indonesia-text-mobile, #nepal-text-mobile, .routes-map-desktop-hidden{\n\t\tdisplay: none;\t\t\n\t}\n}\n",""])},function(e,t,n){var r=n(18);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(5)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(4)(!1)).push([e.i,"/* Progress Bar */\n#progress-div{\n    position:fixed;\n    width:100%;\n    height:3.5px;\n    background-color: #dcba7d;\n    top:35px;\n    left:0px;\n    z-index: 999;\n}\n#progress-bar{\n    position: absolute;\n    float:left;\n    height:100%;\n    background-color: #fc7a00;\n    -webkit-transition: width 0.3s; /* Safari */\n    transition: width 0.3s;\n}\n#progress-div:hover, #progress-bar:hover{\n    cursor: pointer;\n}\n/* Progress Bar */\n",""])},function(e,t,n){var r=n(20);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(5)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(4)(!1)).push([e.i,'#overlay{\n\tdisplay: none;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100vw;\n\theight: 100vh;\n\tz-index: 999;\n\tbackground: rgba(0, 0, 0, 0.4);\n\toverflow: hidden;\n}\n\n#overlay form {\n\tdisplay: inherit;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\twidth: 100%;\n\theight: auto;\n}\n\n#overlay input[type="email"]{\n\tdisplay: inherit;\n\twidth: 80%;\n\tmax-width: 300px;\n\tline-height: 25px;\n\tborder-radius: 5px;\n\tz-index: 1000;\n}\n\n#overlay button{\n\tdisplay: inherit;\n\tbackground: #fff;\n\tmargin: 20px; \n\tborder-radius: 5px;\n\tz-index: 1000;\n}\n\n#submit-message{\n\tdisplay: inherit;\n\tfont-size: 10px;\n\tcolor: red;\n}',""])},,function(e,t,n){"use strict";n.r(t);n(10),n(13),n(15),n(17),n(19);function o(e){return document.querySelector(e)}function r(){}var a=n(1),s=n.n(a);n(3);r.ctrlHeaderAudio=function(){var t=o("#header-video"),e=new s.a.Controller;new s.a.Scene({triggerElement:o(".header"),triggerHook:"onLeave",duration:o(".header").offsetHeight}).on("end",function(e){"FORWARD"==e.scrollDirection?(console.log("muted"),t.muted=!0):(console.log("unmuted"),t.muted=!1)}).addTo(e);return e},r.initScrollController=function(){var e=o("#progress-bar"),t=document.body,n=t.offsetHeight,r=new s.a.Controller,a=(new TimelineMax).to(e,1,{width:"100%",ease:Linear.easeNone});new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:n,tweenChanges:!0}).setTween(a).addTo(r);return r},r.initClickNav=function(){function e(e){var t=document.body.offsetWidth,n=document.body.offsetHeight,r=parseInt(e.pageX);if(0<r){var a=n*(r/t);window.scrollTo({top:a,behavior:"smooth"})}}var t=o("#progress-div");o("#progress-bar");t.addEventListener("click",e),t.addEventListener("touchend",e)};function l(e){return document.querySelector(e)}function d(e){return document.querySelectorAll(e)}function c(){}var u=r,f=n(0),p=n.n(f);c.titleChangeD=function(){var t=l(".serif"),n=l(".white"),r=l(".country-list"),a={opacity:1,ease:Linear.easeNone},e=new s.a.Controller;new s.a.Scene({triggerElement:l(".header"),triggerHook:"onLeave",duration:l(".header").offsetHeight}).on("end",function(e){"FORWARD"==e.scrollDirection?(t.style.display="block",n.style.display="none",r.style.display="block",p.a.fromTo(t,.25,{opacity:0},a),p.a.fromTo(r,.25,{opacity:0},a)):(t.style.display="none",n.style.display="block",r.style.display="none",p.a.fromTo(n,.25,{opacity:0},a))}).addTo(e);return e},c.countryControllerD=function(){var e=d(".chapter-anchor"),t=d(".country-list li"),n=new s.a.Controller;e.forEach(function(e){new s.a.Scene({triggerElement:e,duration:e.offsetHeight}).addTo(n).on("enter",function(e){t[i].classList.add("active")}).on("leave",function(e){t[i].classList.remove("active")})})};function m(){}var g=c;m.initHashController=function(){var e=function(e){return document.querySelectorAll(e)}(".chapter-anchor"),t=new s.a.Controller;e.forEach(function(n){new s.a.Scene({triggerElement:n,duration:n.offsetHeight}).addTo(t).on("enter leave",function(e){var t=n.id;window.history.pushState(null,null,"#".concat(t))})})};var h=m;function v(e){return document.querySelector(e)}var w=function(e){var t=function(e){var t,o=e.elements,n=Object.keys(o).filter(function(e){return"honeypot"!==o[e].name||(t=o[e].value,!1)}).map(function(e){return void 0!==o[e].name?o[e].name:0<o[e].length?o[e].item(0).name:void 0}).filter(function(e,t,n){return n.indexOf(e)==t&&e}),i={};return n.forEach(function(e){var t=o[e];if(i[e]=t.value,t.length){for(var n=[],r=0;r<t.length;r++){var a=t.item(r);(a.checked||a.selected)&&n.push(a.value)}i[e]=n.join(", ")}}),i.progress=window.location.hash,i.url=window.location.href,n=n.concat(["progress","url"]),i.formDataNameOrder=JSON.stringify(n),i.formGoogleSheetName=e.dataset.sheet||"responses",i.formGoogleSend=e.dataset.email||"",{data:i,honeypot:t}}(e),n=document.querySelector("#submit-message"),r=t.data;if(t.honeypot)return!(n.innerHTML="Spam Detected!");n.innerHTML="Sending...",function(e){for(var t=e.querySelectorAll("button"),n=0;n<t.length;n++)t[n].disabled=!0}(e);var a=e.action,o=new XMLHttpRequest;o.open("POST",a),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.onreadystatechange=function(){4===o.readyState&&200===o.status&&(e.reset(),n.innerHTML="Your email has been received!")};var i=Object.keys(r).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(r[e])}).join("&");o.send(i)},k={},b={isOverlayShown:!1,isEmailSaved:!1};k.initBookmark=function(){var e=function(e){return document.querySelectorAll(e)}(".bookmark"),t=v("#overlay");e.forEach(function(e){e.addEventListener("click",function(e){t.style.display=b.isOverlayShown?"none":"flex",b.isOverlayShown=!b.isOverlayShown})}),t.addEventListener("click",function(e){t.style.display="none",b.isOverlayShown=!1});var n=v("#submit-reminder"),r=v("input#email"),a=v("#submit-message");r.addEventListener("click",function(e){e.stopPropagation()}),n.addEventListener("click",function(e){if(e.preventDefault(),e.stopPropagation(),a.innerHTML="",function(){var e=r.value;return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}()&&!b.isEmailSaved){var t=v("#bookmark-req-form");w(t),b.isEmailSaved=!0,r.disabled=!0,n.disabled=!0}else a.innerHTML="Invalid Email!"})};var x=k,y=n(2);function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var H={},S=y.j().range([5,25]),M=y.l("#geo-map-container").append("svg").attr("x",0).attr("y",0).attr("viewBox","0 0 960 550").attr("id","geo-map");M.append("rect").attr("width","100%").attr("height","500").attr("fill","#3b3b3b");M.append("clipPath").attr("id","seizure-map-clip").append("rect").attr("width","100%").attr("height","500");var E=M.append("g").attr("clip-path","url(#seizure-map-clip)").attr("class","countries"),L=y.g().scale(160).translate([150,320]),O=M.append("g").attr("clip-path","url(#seizure-map-clip)").attr("class","seizure-bubbles"),C=y.n().scaleExtent([1,8]).on("zoom",function(){E.selectAll("path").attr("transform",y.d.transform),O.selectAll("circle").attr("transform",y.d.transform)});M.call(C);var j=y.h().projection(L),D=M.append("text").attr("class","vis-title").attr("transform","translate(650,140)").text("pangolins trafficked").append("tspan").attr("x",0).attr("dy","1.3em").text("(select a time range)"),z=M.append("rect").attr("transform","translate(650,106)").attr("height","5em").attr("fill","red"),R=M.append("text").attr("transform","translate(660,100)").attr("class","seizure-total").text("0"),A=M.append("g").attr("class","timeline"),F=A.append("g").attr("class","brush");y.l(".container").append("div").attr("class","bartip").style("display","none");function P(e,t){if(e){var n=e[0].getFullYear()+"-"+(e[0].getMonth()+1)+"-"+e[0].getDate(),r=e[1].getFullYear()+"-"+(e[1].getMonth()+1)+"-"+e[1].getDate();D.text(n+" ~ "+r)}else D.text("Pangolin seizures (select a time range)");var a=t.map(function(e){return+e.ESTNUM}).reduce(function(e,t){return e+t},0);R.text("".concat(y.f(",")(Math.round(a)))),z.attr("x",R.node().getBBox().x).attr("y",R.node().getBBox().y).attr("width",+R.node().getBBox().width+20)}function _(e){var t=O.selectAll("circle.seizure-bubble").data(e,function(e){return e.id});t.attr("fill","rgba(201, 62, 62, 0.3)").attr("cx",function(e){return L([+e.Longitude,+e.Latitude])[0]}).attr("cy",function(e){return L([+e.Longitude,+e.Latitude])[1]}).attr("r",function(e){return S(+e.ESTNUM)}),t.enter().append("circle").attr("class","seizure-bubble").attr("fill","rgba(201, 62, 62, 0.3)").attr("cx",function(e){return L([+e.Longitude,+e.Latitude])[0]}).attr("cy",function(e){return L([+e.Longitude,+e.Latitude])[1]}).attr("r",0).transition().duration(500).attr("r",function(e){return S(+e.ESTNUM)}),t.exit().attr("r",function(e){return S(+e.ESTNUM)}).transition().duration(500).attr("r",0).remove()}H.renderMap=function(){Promise.all([y.i("assets/maps/world_countries.json"),y.c("assets/data/valid-seizure-num-date.csv")]).then(function(e){var t=T(e,2),n=t[0],r=t[1],a=y.m("%Y-%m-%d %H:%M:%S"),o=[],i={},s=r.map(function(e,t){return e.TIME=a(e.Date),e.YEAR=e.TIME.getFullYear(),e.ESTNUM=+e.ESTNUM,e.Latitude=+e.Latitude,e.Longitude=+e.Longitude,i[e.TIME]?i[e.TIME]+=e.ESTNUM:i[e.TIME]=e.ESTNUM,e});Object.keys(i).forEach(function(e){o.push({TIME:new Date(e),ESTNUM:i[e]})}),o.sort(function(e,t){return e.TIME-t.TIME}),S.domain(y.e(s,function(e){return+e.ESTNUM})),function(e,t){var n={top:10,right:10,bottom:20,left:15},r=960-n.left-n.right,a=40-n.bottom;A.attr("transform","translate("+n.left+" , 510)");var o=y.k().domain(y.e(t.map(function(e){return e.TIME}))).range([0,r]),i=y.a(o).ticks(20);A.append("g").attr("class","x axis").attr("transform","translate(0,"+a+")").call(i);var s=y.b().extent([[0,0],[r,a]]).on("brush end",function(){!function(e,t){if(!y.d.selection)return P(null,[]),_([]);var n=y.d.selection.map(t.invert)||t.domain(),r=e.filter(function(e){return e.TIME>=n[0]&&e.TIME<=n[1]});_(r),P(n,r)}(e,o)}),l=[new Date(2019,0,1),o.domain()[1]].map(o);F.call(s).call(s.move,l)}(s,o),E.selectAll("path").data(n.features).enter().append("path").attr("d",j).style("fill","#694b2d")}).catch(function(e){console.log("d3 err",e)})};function N(e){return document.querySelector(e)}var q=H,W="assets/maps/Malaysia/mobile/",I={maps:[N("#malaysia-routes-1"),N("#malaysia-routes-2")],pics_m:["".concat(W,"m-01.jpg"),"".concat(W,"m-02.jpg"),"".concat(W,"m-03.jpg"),"".concat(W,"m-04.jpg"),"".concat(W,"m-05.jpg"),"".concat(W,"m-06.jpg"),"".concat(W,"m-07.jpg")],maps_m:[N("#malaysia-routes-m-1"),N("#malaysia-routes-m-2"),N("#malaysia-routes-m-3")]};function K(e){e.map(function(e){return e.querySelector(".marker-inner")});var t=e.map(function(e){return e.querySelector(".marker-outter")});p.a.fromTo(t,1,{attr:{r:20},opacity:.4},{attr:{r:55.68},opacity:0}).repeat(-1)}function B(e,t){e.querySelector(".routes-map-bg-m").src=t}function U(e,t,n,r){B(t,"FORWARD"==e.scrollDirection?r:n)}I.MapCtrl1=function(){var e=I.maps[0],t={opacity:1,ease:Linear.easeNone},n={opacity:0,ease:Linear.easeNone},r=new s.a.Controller,a=N(".nav").offsetHeight+N("#progress-div").offsetHeight||0,o=new s.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:"300%",offset:-a,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(r).duration()/3;new s.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:o,offset:-a,reverse:!0}).on("enter",function(){return(new TimelineMax).add(p.a.to(N("#arrows"),.5,t)).add(p.a.to(N("#melaka-label"),.5,t))}).on("leave",function(){var e=[N("#arrows"),N("#melaka-label")];p.a.killTweensOf(e),p.a.to(e,.5,n)}).addTo(r),new s.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:o,offset:o-a,reverse:!0}).on("enter",function(){return(new TimelineMax).add(p.a.to(N("#forest-fill"),.5,t)).add(p.a.to(N("#forest-label"),.3,t))}).on("leave",function(){var e=[N("#forest-fill"),N("#forest-label")];p.a.killTweensOf(e),p.a.to(e,.5,n)}).addTo(r),new s.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:o,offset:2*o-a,reverse:!0}).setTween((new TimelineMax).add(p.a.to(N("#highway-line"),.7,{strokeDashoffset:0,ease:Linear.easeNone})).add(p.a.to([N("#bukit-text"),N("#marker-bukit")],0,t),.7).addCallback(function(){K([N("#marker-bukit")])},.7).add(p.a.to([N("#marker-rantau"),N("#marker-padang"),N("#padang-text"),N("#rantau-text")],0,t),.8).addCallback(function(){K([N("#marker-rantau"),N("#marker-padang")])},.8)).addTo(r);return r},I.MapCtrl2=function(){var e=I.maps[1],n={opacity:1,ease:Linear.easeNone},r={opacity:0,ease:Linear.easeNone},t=new s.a.Controller,a=N(".nav").offsetHeight+N("#progress-div").offsetHeight||0,o=new s.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:"400%",offset:-a,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(t).duration()/4;new s.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:o,offset:-a,reverse:!0}).on("start",function(e){if("FORWARD"==e.scrollDirection)(new TimelineMax).add(p.a.to(N("#marker-bukit-2"),.5,n)).add(p.a.to(N("#bukit-text-2"),.5,n)).addCallback(function(){K([N("#marker-bukit-2")])},1);else{var t=[N("#marker-bukit-2"),N("#bukit-text-2")];p.a.killTweensOf(t),p.a.to(t,.5,r)}}).addTo(t),new s.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:o,offset:o-a,reverse:!0}).on("start",function(e){if("FORWARD"==e.scrollDirection)(new TimelineMax).add(p.a.to(N("#marker-alor"),.5,n)).add(p.a.to(N("#alor-text"),.5,n)).addCallback(function(){K([N("#marker-alor")])},1);else{var t=[N("#marker-alor"),N("#alor-text")];p.a.killTweensOf(t),p.a.to(t,.5,r)}}).addTo(t),new s.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:o,offset:2*o-a,reverse:!0}).on("start",function(e){if("FORWARD"==e.scrollDirection)(new TimelineMax).add(p.a.to(N("#marker-sadao"),.5,n)).add(p.a.to(N("#sadao-text"),.5,n)).addCallback(function(){K([N("#marker-sadao")])},1);else{var t=[N("#marker-sadao"),N("#sadao-text")];p.a.killTweensOf(t),p.a.to(t,.5,r)}}).addTo(t),new s.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:o,offset:3*o-a,reverse:!0}).on("start",function(e){if("FORWARD"==e.scrollDirection)(new TimelineMax).add(p.a.to(N("#marker-police"),.5,n)).add(p.a.to(N("#kedahpolice-text"),.5,n)).addCallback(function(){K([N("#marker-police")])},1);else{var t=[N("#marker-police"),N("#kedahpolice-text")];p.a.killTweensOf(t),p.a.to(t,.5,r)}}).addTo(t);return t},I.MapCtrlM1=function(){var t=I.maps_m[0],e=new s.a.Controller,n=N(".nav").offsetHeight+N("#progress-div").offsetHeight||0,r=new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:"300%",offset:-n,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(e).duration()/3;new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:r,offset:r-n,reverse:!0}).on("start",function(e){U(e,t,I.pics_m[1],I.pics_m[0])}).addTo(e),new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:r,offset:2*r-n,reverse:!0}).on("start",function(e){U(e,t,I.pics_m[2],I.pics_m[1])}).addTo(e);return e},I.MapCtrlM2=function(){var t=I.maps_m[1],e=new s.a.Controller,n=N(".nav").offsetHeight+N("#progress-div").offsetHeight||0,r=new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:"400%",offset:-n,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(e).duration()/4;new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:r,offset:r-n,reverse:!0}).on("start",function(e){U(e,t,I.pics_m[4],I.pics_m[3])}).addTo(e),new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:r,offset:2*r-n,reverse:!0}).on("start",function(e){U(e,t,I.pics_m[5],I.pics_m[4])}).addTo(e),new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:r,offset:3*r-n,reverse:!0}).on("start",function(e){U(e,t,I.pics_m[6],I.pics_m[5])}).addTo(e);return e},I.MapCtrlM3=function(){var e=I.maps_m[2],t=new s.a.Controller,n=N(".nav").offsetHeight+N("#progress-div").offsetHeight||0;new s.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:"100%",offset:-n,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(t);return t};function X(e){return document.querySelector(e)}var Y=I,Z=(n(8),"assets/maps/Cameroon/mobile/"),J={maps:[X("#cameroon-routes-1")],pics_m:["".concat(Z,"m-01.jpg"),"".concat(Z,"m-02.jpg"),"".concat(Z,"m-03.jpg")],maps_m:[X("#cameroon-routes-m-1")]};function G(e){e.map(function(e){return e.querySelector(".st9")});var t=e.map(function(e){return e.querySelector(".st8")});p.a.fromTo(t,1,{attr:{r:20},opacity:.4},{attr:{r:55.68},opacity:0}).repeat(-1)}function V(e,t){e.querySelector(".routes-map-bg-m").src=t}function $(e,t,n,r){V(t,"FORWARD"==e.scrollDirection?r:n)}function Q(e,t){e.querySelector(".routes-map-bg").src=t}J.MapCtrl1=function(){var n=J.maps[0],r={opacity:1,ease:Linear.easeNone},a={opacity:0,ease:Linear.easeNone},e=new s.a.Controller,t=X(".nav").offsetHeight+X("#progress-div").offsetHeight||0,o=new s.a.Scene({triggerElement:n,triggerHook:"onLeave",duration:"300%",offset:-t,reverse:!0}).on("enter",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(e).duration()/3,i=(new s.a.Scene({triggerElement:n,triggerHook:"onLeave",duration:o,offset:-t,reverse:!0}).on("enter",function(){return(new TimelineMax).add(p.a.to(X("#bertoua-text"),.25,r)).add(p.a.to(X("#abong-text"),.25,r)).add(p.a.to(X("#mindourou-text"),.25,r)).add(p.a.to(X("#lomie-text"),.25,r)).add(p.a.to(X("#djoum-text"),.25,r))}).on("leave",function(){var e=[X("#bertoua-text"),X("#abong-text"),X("#mindourou-text"),X("#lomie-text"),X("#djoum-text")];p.a.killTweensOf(e),p.a.to(e,.5,a)}).addTo(e),new s.a.Scene({triggerElement:n,triggerHook:"onLeave",duration:o,offset:o-t,reverse:!0}).on("enter",function(){return(new TimelineMax).add(p.a.to(X("#cam-arrow7"),.5,r)).add(p.a.to(X("#marker-douala"),.5,r)).add(p.a.to(X("#douala-text"),.5,r)).add(p.a.to(X("#cam-arrow6"),.5,r)).add(p.a.to(X("#marker-yaounde"),.5,r)).add(p.a.to(X("#yaounde-text"),.5,r)).addCallback(function(){G([X("#marker-douala"),X("#marker-yaounde")])},.7)}).on("leave",function(){var e=[X("#cam-arrow6"),X("#cam-arrow7"),X("#marker-douala"),X("#marker-yaounde"),X("#yaounde-text"),X("#douala-text")];p.a.killTweensOf(e),p.a.to(e,.5,a)}).addTo(e),[X("#marker-yairport"),X("#marker-dairport"),X("#cam-arrow1"),X("#cam-arrow2"),X("#cam-arrow3"),X("#cam-arrow4"),X("#cam-arrow5"),X("#yairport-text"),X("#dairport-txt")]);new s.a.Scene({triggerElement:n,triggerHook:"onLeave",duration:o,offset:2*o-t,reverse:!0}).on("start",function(e){var t="FORWARD"==e.scrollDirection;if(function(e,t,n,r){"FORWARD"==e.scrollDirection?Q(t,r):Q(t,n)}(e,n,"assets/maps/Cameroon/desktop/map-01.jpg","assets/maps/Cameroon/desktop/map-02.jpg"),t)return(new TimelineMax).add(p.a.to(i,.5,r)).addCallback(function(){G([X("#marker-yairport"),X("#marker-dairport")])},.7);p.a.killTweensOf(i),p.a.to(i,.5,a)}).addTo(e);return e},J.MapCtrlM1=function(){var t=J.maps_m[0],e=new s.a.Controller,n=X(".nav").offsetHeight+X("#progress-div").offsetHeight||0,r=new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:"300%",offset:-n,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(e).duration()/3;new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:r,offset:r-n,reverse:!0}).on("start",function(e){$(e,t,J.pics_m[0],J.pics_m[1])}).addTo(e),new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:r,offset:2*r-n,reverse:!0}).on("start",function(e){$(e,t,J.pics_m[1],J.pics_m[2])}).addTo(e);return e};function ee(e){return document.querySelector(e)}function te(e){return document.querySelector(e)}function ne(e){return document.querySelector(e)}var re=J,ae={MapCtrl1:function(){ee("#indonesia-routes-1");var n={opacity:1,ease:Linear.easeNone},r={opacity:0,ease:Linear.easeNone},e=[ee("#indonesia-marker-1"),ee("#indonesia-marker-2"),ee("#indonesia-marker-3"),ee("#indonesia-marker-4"),ee("#indonesia-marker-5"),ee("#indonesia-marker-6")],a=[ee("#indonesia-caption-1"),ee("#indonesia-caption-2"),ee("#indonesia-caption-3"),ee("#indonesia-caption-4"),ee("#indonesia-caption-5"),ee("#indonesia-caption-6")];e.forEach(function(e,t){e.addEventListener("click",function(e){return(new TimelineMax).add(p.a.to(a,0,r)).add(p.a.to(a[t],.5,n))})})},MapCtrlM1:function(){var e=ee("#indonesia-routes-m-1"),t=new s.a.Controller,n=ee(".nav").offsetHeight+ee("#progress-div").offsetHeight||0;new s.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:"100%",offset:-n,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(t);return t},MapCtrlM1Click:function(){var n={opacity:1,ease:Linear.easeNone},r={opacity:0,ease:Linear.easeNone},e=[ee("#indonesia-marker-m-1"),ee("#indonesia-marker-m-2"),ee("#indonesia-marker-m-3"),ee("#indonesia-marker-m-4"),ee("#indonesia-marker-m-5"),ee("#indonesia-marker-m-6")],a=[ee("#indonesia-caption-m-1"),ee("#indonesia-caption-m-2"),ee("#indonesia-caption-m-3"),ee("#indonesia-caption-m-4"),ee("#indonesia-caption-m-5"),ee("#indonesia-caption-m-6")];e.forEach(function(e,t){e.addEventListener("touchend",function(e){return a.forEach(function(e){e.style.zIndex=3}),(new TimelineMax).add(p.a.to(a,0,r)).add(p.a.to(a[t],.5,n))})}),a.forEach(function(e){e.addEventListener("touchend",function(e){a.forEach(function(e){e.style.zIndex=1}),p.a.to(a,0,r)})})}},oe=ae,ie={MapCtrl:function(){var e=te("#nepal-routes-1"),n={opacity:1,ease:Linear.easeNone},r={opacity:0,ease:Linear.easeNone},t=new s.a.Controller,a=te(".nav").offsetHeight+te("#progress-div").offsetHeight||0,o=new s.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:"300%",offset:-a,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!0})}).addTo(t).duration()/3;new s.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:o,offset:-a,reverse:!0}).on("start",function(e){if("FORWARD"==e.scrollDirection)return(new TimelineMax).add(p.a.to([te("#marker-ndjili"),te("#n_djili-text")],.5,n));var t=[te("#marker-ndjili"),te("#n_djili-text")];p.a.killTweensOf(t),p.a.to(t,.5,r)}).addTo(t),new s.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:o,offset:o-a,reverse:!0}).on("start",function(e){if("FORWARD"==e.scrollDirection)return(new TimelineMax).add(p.a.to(te("#ndjili-line path"),1,{strokeDashoffset:0,ease:Power2.easeOut})).add(p.a.to([te("#marker-istanbul"),te("#istanbul-text")],.5,n));var t=[te("#ndjili-line path"),te("#marker-istanbul"),te("#istanbul-text")];p.a.killTweensOf(t),p.a.to([te("#marker-istanbul"),te("#istanbul-text")],.5,r),p.a.to(te("#ndjili-line path"),.5,{strokeDashoffset:852.44,ease:Linear.easeNone})}).addTo(t),new s.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:o,offset:2*o-a,reverse:!0}).on("start",function(e){if("FORWARD"==e.scrollDirection)return(new TimelineMax).add(p.a.to(te("#istanbul-line path"),1,{strokeDashoffset:0,ease:Power2.easeOut})).add(p.a.to([te("#marker-tribhuvan"),te("#tribhuvan-text")],.5,n));var t=[te("#marker-tribhuvan"),te("#tribhuvan-text"),te("#istanbul-line path")];p.a.killTweensOf(t),p.a.to([te("#marker-tribhuvan"),te("#tribhuvan-text")],.5,r),p.a.to(te("#istanbul-line path"),.5,{strokeDashoffset:966,ease:Linear.easeNone})}).addTo(t);return t},MapCtrlM:function(){var e=te("#nepal-routes-m-1"),t=new s.a.Controller,n=te(".nav").offsetHeight+te("#progress-div").offsetHeight||0;new s.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:"100%",offset:-n,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(t);return t}},se=ie,le={};function de(e,t){e.querySelector(".routes-map-bg-m").src=t}function ce(e,t,n,r){de(t,"FORWARD"==e.scrollDirection?r:n)}function ue(e,t){e.querySelector(".routes-map-bg").src=t}le.MapCtrl=function(){var a=ne("#hk-routes-1"),o={opacity:1,ease:Linear.easeNone},i={opacity:0,ease:Linear.easeNone},e=new s.a.Controller,t=ne(".nav").offsetHeight+ne("#progress-div").offsetHeight||0,n=new s.a.Scene({triggerElement:a,triggerHook:"onLeave",duration:"500%",offset:-t,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(e).duration()/5;new s.a.Scene({triggerElement:a,triggerHook:"onLeave",duration:n,offset:-t,reverse:!0}).on("start",function(e){var t="FORWARD"==e.scrollDirection,n=[ne("#hk-ndjili-line"),ne("#hk-marker-ndjili"),ne("#hk-n_djili-text"),ne("#marker-casablanca"),ne("#casablanca-text")];if(t)return(new TimelineMax).add(p.a.to([ne("#hk-marker-ndjili"),ne("#hk-n_djili-text")],.3,o)).add(p.a.to(ne("#hk-ndjili-line path"),1,{strokeDashoffset:0,ease:Power2.easeOut})).add(p.a.to([ne("#marker-casablanca"),ne("#casablanca-text")],.3,o));p.a.killTweensOf(n),p.a.to([ne("#hk-marker-ndjili"),ne("#hk-n_djili-text"),ne("#marker-casablanca"),ne("#casablanca-text")],.5,i),p.a.to(ne("#hk-ndjili-line path"),.5,{strokeDashoffset:512.72,ease:Power2.easeOut})}).addTo(e),new s.a.Scene({triggerElement:a,triggerHook:"onLeave",duration:n,offset:n-t,reverse:!0}).on("start",function(e){var t="FORWARD"==e.scrollDirection,n=[ne("#casablanca-line"),ne("#hamad-text"),ne("#marker-hamad")];if(t)return(new TimelineMax).add(p.a.to(ne("#casablanca-line path"),1,{strokeDashoffset:1310.86,ease:Power2.easeOut})).add(p.a.to([ne("#hamad-text"),ne("#marker-hamad")],.3,o));p.a.killTweensOf(n),p.a.to([ne("#hamad-text"),ne("#marker-hamad")],.5,i),p.a.to(ne("#casablanca-line path"),.5,{strokeDashoffset:655.43,ease:Power2.easeOut})}).addTo(e),new s.a.Scene({triggerElement:a,triggerHook:"onLeave",duration:n,offset:2*n-t,reverse:!0}).on("start",function(e){var t="FORWARD"==e.scrollDirection,n=[ne("#hamad-line"),ne("#HK-text"),ne("#marker-HK")];if(t)return(new TimelineMax).add(p.a.to(ne("#hamad-line path"),1,{strokeDashoffset:1353.06,ease:Power2.easeOut})).add(p.a.to([ne("#HK-text"),ne("#marker-HK")],.3,o));p.a.killTweensOf(n),p.a.to([ne("#HK-text"),ne("#marker-HK")],.5,i),p.a.to(ne("#hamad-line path"),.5,{strokeDashoffset:676.53,ease:Power2.easeOut})}).addTo(e),new s.a.Scene({triggerElement:a,triggerHook:"onLeave",duration:n,offset:3*n-t,reverse:!0}).on("start",function(e){!function(e,t,n,r){"FORWARD"==e.scrollDirection?ue(t,r):ue(t,n)}(e,a,"assets/maps/HK/desktop/map-01.jpg","assets/maps/HK/desktop/map-02.jpg");var t="FORWARD"==e.scrollDirection,n=[ne("#hk-ndjili-line"),ne("#hk-marker-ndjili"),ne("#hk-n_djili-text"),ne("#marker-casablanca"),ne("#casablanca-text"),ne("#casablanca-line"),ne("#hamad-text"),ne("#marker-hamad"),ne("#hamad-line"),ne("#HK-text"),ne("#marker-HK")],r=[ne("#hk-line"),ne("#marker-HK-2"),ne("#HK-text-2")];if(t)return ne("#hk-text-static").style.display="none",(new TimelineMax).add(p.a.to(n,.5,i)).add(p.a.to(ne("#hk-line path"),1,{strokeDashoffset:2320.86,ease:Power2.easeOut})).add(p.a.to([ne("#marker-HK-2"),ne("#HK-text-2")],.5,o));ne("#hk-text-static").style.display="flex",p.a.to(n,.5,o),p.a.killTweensOf(r),p.a.to([ne("#marker-HK-2"),ne("#HK-text-2")],.5,i),p.a.to(ne("#hk-line path"),1,{strokeDashoffset:1160.43,ease:Power2.easeOut})}).addTo(e),new s.a.Scene({triggerElement:a,triggerHook:"onLeave",duration:n,offset:4*n-t,reverse:!0}).on("start",function(e){var t="FORWARD"==e.scrollDirection,n=[ne("#macau-line"),ne("#marker-macau"),ne("#macau-text"),ne("#marker-HK-3"),ne("#HK-text-3")];t?(p.a.to([ne("#marker-macau"),ne("#macau-text"),ne("#marker-HK-3"),ne("#HK-text-3")],.5,o),p.a.to(ne("#macau-line"),.5,{opacity:.5,ease:Linear.easeNone})):(p.a.killTweensOf(n),p.a.to(n,.5,i))}).addTo(e);return e},le.MapCtrlM=function(){var t=ne("#hk-routes-m-1"),e=new s.a.Controller,n=ne(".nav").offsetHeight+ne("#progress-div").offsetHeight||0,r=new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:"300%",offset:-n,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(e).duration()/3;new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:r,offset:r-n,reverse:!0}).on("start",function(e){ce(e,t,"assets/maps/HK/mobile/m-map-01.jpg","assets/maps/HK/mobile/m-map-02.jpg")}).addTo(e),new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:r,offset:2*r-n,reverse:!0}).on("start",function(e){ce(e,t,"assets/maps/HK/mobile/m-map-02.jpg","assets/maps/HK/mobile/m-map-03.jpg")}).addTo(e);return e};function fe(e){return document.querySelector(e)}var pe=le,me={};function ge(e,t){e.querySelector(".routes-map-bg").src=t}me.MapCtrl=function(){var t=fe("#vietnam-routes-1"),r={opacity:1,ease:Linear.easeNone},a={opacity:0,ease:Linear.easeNone},e=new s.a.Controller,n=fe(".nav").offsetHeight+fe("#progress-div").offsetHeight||0,o=new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:"300%",offset:-n,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!0})}).addTo(e).duration()/3;new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:o,offset:-n,reverse:!0}).on("start",function(e){var t="FORWARD"==e.scrollDirection,n=[fe("#marker-cau"),fe("#cau-text"),fe("#mongcai-line"),fe("#marker-mong"),fe("#mong-text")];if(t)return(new TimelineMax).add(p.a.to([fe("#marker-cau"),fe("#cau-text")],.5,r)).add(p.a.to(fe("#mongcai-line"),1,{strokeDashoffset:2429.2,ease:Power2.easeOut})).add(p.a.to([fe("#marker-mong"),fe("#mong-text")],.5,r));p.a.killTweensOf(n),p.a.to([fe("#marker-cau"),fe("#cau-text"),fe("#marker-mong"),fe("#mong-text")],.5,a),p.a.to(fe("#mongcai-line"),.5,{strokeDashoffset:1214.6,ease:Power2.easeOut})}).addTo(e),new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:o,offset:o-n,reverse:!0}).on("start",function(e){var t="FORWARD"==e.scrollDirection,n=[fe("#vietnam-circles"),fe("#vietnam-legend")];if(t)return(new TimelineMax).add(p.a.to([fe("#marker-cau"),fe("#marker-mong")],.5,a),0).add(p.a.to(n,.5,r),0);p.a.killTweensOf(n),p.a.to(n,.5,a),p.a.to([fe("#marker-cau"),fe("#marker-mong")],.5,r)}).on("end",function(e){var t="FORWARD"==e.scrollDirection,n=[fe("#cau-text"),fe("#mongcai-line"),fe("#mong-text"),fe("#vietnam-circles"),fe("#vietnam-legend")];t?p.a.to(n,.5,a):(p.a.killTweensOf(n),p.a.to(n,.5,r))}).addTo(e),new s.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:o,offset:2*o-n,reverse:!0}).on("start",function(e){!function(e,t,n,r){"FORWARD"==e.scrollDirection?ge(t,r):ge(t,n)}(e,t,"assets/maps/Vietnam/desktop/map-01.jpg","assets/maps/Vietnam/desktop/map-02.jpg")}).addTo(e);return e},me.MapCtrlM=function(){var e=fe("#vietnam-routes-m-1"),t=new s.a.Controller,n=fe(".nav").offsetHeight+fe("#progress-div").offsetHeight||0;new s.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:"100%",offset:-n,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(t);return t};var he=me,ve={},we=!1;ve.init=function(e){return we||(console.log("init called once"),oe.MapCtrl1(),oe.MapCtrlM1Click(),we=!0),e?[Y.MapCtrl1(),Y.MapCtrl2(),se.MapCtrl(),re.MapCtrl1(),pe.MapCtrl(),he.MapCtrl()]:[Y.MapCtrlM1(),Y.MapCtrlM2(),Y.MapCtrlM3(),oe.MapCtrlM1(),se.MapCtrlM(),re.MapCtrlM1(),pe.MapCtrlM(),he.MapCtrlM()]};var ke=ve;function be(e){var t=document.querySelector("#header-video"),n=document.querySelector("#header-video > source");e?(t.poster="assets/images/header-image-desktop.jpg",n.src="assets/images/pangolinreports_header.mp4"):(t.poster="assets/images/header-thumbnail-portrait.jpg",n.src="assets/images/pangolinreports_header_portrait.mp4"),t.load()}window.addEventListener("DOMContentLoaded",function(){var t=window.matchMedia("(min-device-width: 480px)").matches;be(t);var n=u.ctrlHeaderAudio(),r=u.initScrollController();u.initClickNav(),g.titleChangeD(),g.countryControllerD(),h.initHashController(),x.initBookmark(),q.renderMap();var a=ke.init(t);window.onresize=function(){var e=window.matchMedia("(min-device-width: 480px)").matches;e!=t&&(console.log("device changed"),be(e),t=e,a.forEach(function(e){e.destroy(!0)}),ke.init(e)),n.destroy(!0),n=u.ctrlHeaderAudio(),r.destroy(!0),r=u.initScrollController()}})}]);