!function(t){function e(e){for(var r,i,s=e[0],l=e[1],d=e[2],u=0,f=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);for(c&&c(e);f.length;)f.shift()();return o.push.apply(o,d||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(r=!1)}r&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},a={0:0},o=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var d=0;d<s.length;d++)e(s[d]);var c=l;o.push([22,1]),n()}([,,,,,,,,,,function(t,e,n){var r=n(11);"string"==typeof r&&(r=[[t.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(5)(r,a);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(4)(!1)).push([t.i,"@font-face {\n  font-family: 'open sans bold';\n  src: url('assets/open-sans-800.woff') format('woff');\n}\n\nbody {\n\tmargin: 0px;\n\twidth: 100vw;\n\toverflow-x: hidden;\n\t/*default text sans-serif font*/\n\tfont-family: 'Open Sans', sans-serif;\n}\n\n.container{\n\tmargin: 0 15px;\n\t/*to allow fullwidth elements be shown*/\n\t/*overflow: hidden; */\n}\n\n.row{\n\twidth: 100%;\n\tflex-direction: row;\n}\n\n.center{\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.mobile-hidden{\n\tdisplay: none;\n}\n\n.desktop-hidden{\n\tdisplay: block;\n}\n\n.serif {\n\t/*title serif font */\n\tfont-family: 'ZCOOL XiaoWei', serif;\n\tdisplay: none;\n}\n\n.white {\n\tcolor: #fff;\n}\n\n\n.white a {\n\tcolor: #fff;\n\ttext-decoration: none;\n}\n\n.yellow {\n\tcolor: #dcba7d;\n}\n\na {\n\tcolor: black;\n\ttext-decoration: underline;\n\ttext-decoration-color: #dcba7d;\n\ttransition: all .3s ease-in-out;\n}\n\na:hover {\n\tcolor: white;\n\tbackground: #dcba7d;\n}\n\n.icon > a:hover, .footer-icon > a:hover{\n\tbackground: none;\n}\n\n.header{\n\twidth: 100vw;\n\theight: 100vh;\n\toverflow: hidden;\n\tbackground: url(assets/images/header-thumbnail-portrait.jpg) no-repeat center center fixed;\n  -webkit-background-size: cover;\n  -moz-background-size: cover;\n  -o-background-size: cover;\n  background-size: cover;\n\n  /*IE compatibility*/\n  filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='assets/images/header-image-v4.jpg', sizingMethod='scale');\n\t-ms-filter: \"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='myBackground.jpg', sizingMethod='scale')\";\n\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\tposition: relative;\n}\n\n#header-video {\n  position: absolute;\n  left: 0;\n  top: 0;\n  min-width: 100%;\n  min-height: 100%;\n  z-index: 0;\n}\n\n#header-caption {\n  padding: 10px 0;\n  margin: 0 50px;\n}\n\n.header-container{\n\tmargin: 0 8%;\n\twidth: auto;\n\theight: auto;\n\tz-index: 1;\n\tpadding-bottom: 20vh;\n}\n\n.header-title{\n\tfont-size: 3.8em;\n\tfont-family: 'ZCOOL XiaoWei', serif;\n\tcolor: #fff\n}\n\n.header-intro{\n\tmargin-top: 2vh;\n\tfont-size: 0.8em;\n  font-weight: normal;\n  font-style: normal;\n  font-stretch: normal;\n  letter-spacing: normal;\n  text-align: left;\n  color: #dcba7d;\n}\n\n.header-indent{\n\tmargin-left: 35px;\n}\n\n.header-button button\n{\n\tbackground-color: #dcba7d;\n\tfont-size: 1em;\n\tborder-color: #dcba7d;\n\tcolor: #000000;\n\tborder-radius: 1vh;\n\tpadding: 1vh 5vw;\n\ttransition: all .3s ease-in-out;\n\tcursor: pointer;\n\tmargin-top: 1vh;\n}\n\n.header-button\n{\n\tmargin-top: 2vh;\n}\n\n.nav {\n\twidth: 100vw;\n\tbox-sizing: border-box;\n\tpadding: 0 10px;\n\theight: 35px;\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tbackground-color: #1d1d1d;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tz-index: 999;\n}\n\n.nav-left, .nav-right{\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-around;\n\tfont-size: 15px;\n\tline-height: 12px;\n}\n\n\n\n\n.icon {\n\twidth: 35px;\n\theight: 100%;\n\tmax-height: 35px;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tbox-sizing: border-box;\n\tborder-left: 1px solid #dcba7d;\n\tcursor: pointer;\n}\n\n.nav-right:last-child{\n\tborder-right: 1px solid #dcba7d;\n}\n\n.icon:hover{\n\tbackground: #fff;\n}\n\n.pangolin-logo {\n  width: 20px;\n  height: 20px;\n  margin-right: 10px;\n  object-fit: contain;\n}\n\n/*content styles*/\n.chapter-title{\n\ttext-align: center;\n\tmargin: 0 5vw;\n}\n\n.chapter-title h3{\n\tfont-family: 'ZCOOL XiaoWei', serif;\n\tfont-size: 20px;\n\tcolor: #3b3b3b;\n\ttext-align: center;\n\tpadding-bottom: 1vh;\n\tborder-bottom: #dcba7d 1px solid;\n\tmargin: 0 5vw;\n\tfont-style: 100;\n}\n\n.chapter-title h3 span{\n\tdisplay: block;\n\tfont-family: 'Open Sans', sans-serif;\n  font-weight: 900;\n  line-height: 1.37;\n  text-align: center;\n  color: #dcba7d;\n\ttext-transform: uppercase;\n}\n\n.byline{\n\tposition: relative;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\ttext-transform: uppercase;\n\tfont-size: 10px;\n\tcolor: #dcba7d;\n}\n\n.bookmark{\n\tposition: absolute;\n\tright:0;\n\tbottom: 0;\n\twidth: 10px;\n\theight: 15px;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tbackground-image: url(assets/images/bookmark.svg);\n\tbackground-repeat: no-repeat;\n}\n\n.footer{\n\theight: auto;\n\tmin-height: 250px;\n\tmargin-bottom: 50px;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: flex-end;\n\talign-items: flex-end;\n\tfont-size: 10px;\n\tcolor: #220f07;\n\ttext-align: right;\n}\n\n.pangolin-logo-footer {\n  width: 68.6px;\n  height: 75px;\n  object-fit: contain;\n}\n\n.footer-icon {\n\twidth: 30px;\n\theight: 100%;\n\tmax-height: 23px;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tbox-sizing: border-box;\n\tcursor: pointer;\n}\n\n.footer-icons{\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\talign-items: center;\n}\n\n.article-image{\n\twidth: 100%;\n\theight: auto;\n}\n\n.article-image-v{\n\twidth: 50%;\n\theight: auto;\n}\n/*content styles*/\n\n/*component*/\n.quote{\n\tposition: relative;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\tpadding: 0 10px 10px 10px;\n\tborder-bottom: 1px solid #dcba7d;\n\tbox-sizing: border-box;\n  font-family: 'ZCOOL XiaoWei', serif;\n  font-size: 26px;\n  font-weight: normal;\n  color: #dcba7d;\n}\n\n.caption{\n  font-size: 10px;\n  font-weight: 300;\n  font-style: normal;\n  font-stretch: normal;\n  color: #3b3b3b;\n  border-bottom: 1px solid #dcba7d;\n  margin: 10px 0 0 0;\n  padding-bottom: 10px;\n}\n/*component*/\n\n#geo-map-container{\n\twidth: 100%;\n\theight: auto;\n\tbackground: #fff;\n\toverflow: hidden;\n\tmargin: 15px 0;\n}\n\n#geo-map{\n\twidth: 100%;\n}\n\n.vis-title {\n  font: 16px 'Open Sans';\n  font-weight: bold;\n  fill: white;\n}\n\n.seizure-total{\n\tfont: 4em 'Open Sans';\n  font-weight: bold;\n  fill: white;\n}\n\n.legend-text{\n\tfill: white;\n\tfont-family: 'Open Sans', sans-serif;\n\tfont-size: 14px;\n}\n\n.circle-hover {\n  stroke: #000;\n  stroke-width: 1px;\n}\n\n.area {\n  fill: steelblue;\n  fill-opacity: 0.7;\n}\n\n.axis path,\n.axis line {\n  fill: none;\n  stroke: #000;\n  shape-rendering: crispEdges;\n}\n\n.brush .extent {\n  stroke: #fff;\n  fill: #000;\n  fill-opacity: .25;\n  shape-rendering: crispEdges;\n}\n\n.bartip{\n  position: absolute;\n  text-align: center;\n  max-width: 70px;\n  max-height: 30px;\n  padding: 8px;\n  border: none;\n  border-radius : 8px;\n  margin-top: -30px;\n  font: 10px sans-serif;\n  background: black;\n  color: white;\n  pointer-events: none;\n}\n",""])},,function(t,e,n){var r=n(14);"string"==typeof r&&(r=[[t.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(5)(r,a);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(4)(!1)).push([t.i,"@media only screen and (min-device-width: 480px) {\n\t.container{\n\t\tmargin: 0 25%;\n\t}\n\n\t.mobile-hidden{\n\t\tdisplay: block;\n\t}\n\n\t.desktop-hidden{\n\t\tdisplay: none;\n\t}\n\n  .header {\n    background-image: url('assets/images/header-image-desktop.jpg');\n  }\n\n  .header-container{\n\t\tmargin: 5% 0 0 50%;\n\t}\n\n\t.header-title div{\n\t\tfont-size: 7vw;\n\t\tline-height: 0.85;\n\t}\n\n\t.header-intro{\n\t\tmargin-bottom: 2vh;\n\t\tfont-size: 1vw;\n\t\twidth: 55%;\n\n\t}\n\n\t.header-indent{\n\t\tmargin-left: 5vw;\n\t}\n\n\t.header-button button\n\t{\n\t\tbackground-color: #dcba7d;\n\t\tfont-size: 1.2em;\n\t\tborder-radius: 1vh;\n\t\tpadding: 1vh 1vw;\n\t\ttransition: all .3s ease-in-out;\n\t\tmargin-top: 0;\n\t}\n\n\t.header-button\n\t{\n\t\tmargin-top: 4vh;\n\t}\n\n\t.nav {\n\t\theight: 40px;\n\t\tpadding: 0 30px;\n\t}\n\n\t.country-list\n\t{\n\t\tcolor: white;\n\t\tdisplay: none;\n\t}\n\n\t.country-list li\n\t{\n\t\tdisplay: inline-block;\n\t}\n\n\t.country-list .active\n\t{\n\t\tcolor: #dcba7d;\n\t}\n\n\t#progress-div{\n    top: 40px !important;\n  }\n\n\t.chapter-title{\n\t\ttext-align: center;\n\t\tmargin: 0 10vw;\n\t}\n\n  .footer{\n  \tflex-direction: row;\n  \tjustify-content: space-between;\n  \talign-items: flex-end;\n  }\n\n  .quote-para{\n  \tposition: relative;\n  \twidth: 60%;\n  }\n\n  .quote{\n  \tposition: absolute;\n  \ttop: 0;\n  \tleft: 100%;\n  }\n\n  #geo-map-container{\n  \twidth: 70vw;\n\t\tmargin: 15px -10vw;\n\t}\n}\n",""])},function(t,e,n){var r=n(16);"string"==typeof r&&(r=[[t.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(5)(r,a);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(4)(!1)).push([t.i,".routes-map-container{\n\t/*1466 : 1080*/\n\twidth: 100vw;\n\theight: 73.67vw;\n\tbackground-size: cover;\n\tposition: relative;\n}\n\n.routes-map-svg, .routes-map-bg{\n\twidth: 100%;\n}\n\n.routes-map-svg{\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tz-index: 1;\n}\n\n.routes-map-bg{\n\tposition: absolute;\n\tdisplay: block;\n\theight: auto;\n\tleft: 0;\n\ttop: 0;\n}\n\n.routes-map-para{\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\tbox-sizing: border-box;\n\twidth: 100vw;\n\theight: 100vh;\n\n\tpadding-left: 10vw;\n\tpadding-right: 10vw;\n\n\tmargin-left: -15px;\n}\n\n.routes-map-para-icon{\n\twidth: 40vw\n}\n\n.routes-map-para p{\n\tpadding: 8vw 5vw;\n\tborder: 1px solid #ccc;\n\tbackground: rgba(255, 255, 255, 0.85);\n\tz-index: 2;\n}\n\n.routes-map-static{\n\twidth: 100vw;\n\tmargin: 0 -15px;\n\theight: auto;\n}\n\n.routes-map-static img{\n\twidth: 100%;\n}\n\n.routes-map-static-caption{\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\tbox-sizing: border-box;\n\twidth: 100vw;\n\theight: 100vh;\n\n\tpadding-left: 10vw;\n\tpadding-right: 10vw;\n\n\tmargin-left: -15px;\n}\n\n.routes-map-static-caption p{\n\tpadding: 8vw 5vw;\n\tborder: 1px solid #ccc;\n\tbackground: rgba(255, 255, 255, 0.85);\n\tz-index: 2;\n}\n\n.routes-map-container-m{\n\t/*750 : 1334*/\n\twidth: 100vw;\n\theight: 177.87vw;\n\tbackground-size: cover;\n\tposition: relative;\n\tmargin: 0 -15px;\n\toverflow: hidden;\n}\n\n.routes-map-bg-m{\n\twidth: 100%;\n\tposition: absolute;\n\tdisplay: block;\n\theight: auto;\n\tleft: 0;\n\ttop: 0;\n}\n\n/*specific cases*/\n.routes-map-mobile-hidden{\n\tdisplay: none;\n}\n\n/* Desktop */\n@media only screen and (min-device-width: 480px) {\n\t.routes-map-container{\n\t\t/*1466 : 1080*/\n\t\twidth: 75vw;\n\t\theight: 55.25vw;\n\t\tmargin: 0 0 0 -25vw !important;\n\t}\n\n\t.routes-map-para-static{\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tbox-sizing: border-box;\n\t\twidth: 100vw;\n\t\theight: 100vh;\n\n\t\tpadding-left: 80vw;\n\t\tpadding-right: 5vw;\n\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tz-index: 0;\n\t}\n\n\t.routes-map-para{\n\t\tdisplay: block;\n\t\tpadding-left: 80vw;\n\t\tpadding-right: 5vw;\n\t\tmargin: 0 0 0 -25vw !important;\n\t}\n\n\t.routes-map-para-icon{\n\t\twidth: 6vw\n\t}\n\n\t.routes-map-para p{\n\t\tpadding: 0;\n\t\tborder: none;\n\t\tbackground: none;\n\t}\n\n\t.routes-map-static{\n\t\tmargin: 0 -25vw;\n\t}\n\n\t.routes-map-static-caption{\n\t\tdisplay: block;\n\t\theight: auto;\n\t\tmargin: 0 -25vw;\n\t}\n\n\t.routes-map-static-caption p{\n\t\tpadding: 10px 0;\n\t\tmargin: 0;\n\t\tcolor: #3b3b3b;\n\t\tbackground: none;\n\t\tborder-top: none;\n\t\tborder-right: none;\n\t\tborder-left: none;\n  \tborder-bottom: 1px solid #dcba7d;\n\t}\n\n\t.scrollmagic-pin-spacer{\n\t\tmargin: 0 !important;\n\t}\n\n\t#indonesia-text-mobile, #nepal-text-mobile, .routes-map-desktop-hidden{\n\t\tdisplay: none;\t\t\n\t}\n}\n",""])},function(t,e,n){var r=n(18);"string"==typeof r&&(r=[[t.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(5)(r,a);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(4)(!1)).push([t.i,"/* Progress Bar */\n#progress-div{\n    position:fixed;\n    width:100%;\n    height:3.5px;\n    background-color: #dcba7d;\n    top:35px;\n    left:0px;\n    z-index: 999;\n}\n#progress-bar{\n    position: absolute;\n    float:left;\n    height:100%;\n    background-color: #fc7a00;\n    -webkit-transition: width 0.3s; /* Safari */\n    transition: width 0.3s;\n}\n#progress-div:hover, #progress-bar:hover{\n    cursor: pointer;\n}\n/* Progress Bar */\n",""])},function(t,e,n){var r=n(20);"string"==typeof r&&(r=[[t.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(5)(r,a);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(4)(!1)).push([t.i,'#overlay{\n\tdisplay: none;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100vw;\n\theight: 100vh;\n\tz-index: 999;\n\tbackground: rgba(0, 0, 0, 0.4);\n\toverflow: hidden;\n}\n\n#overlay form {\n\tdisplay: inherit;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\twidth: 100%;\n\theight: auto;\n}\n\n#overlay input[type="email"]{\n\tdisplay: inherit;\n\twidth: 80%;\n\tmax-width: 300px;\n\tline-height: 25px;\n\tborder-radius: 5px;\n\tz-index: 1000;\n}\n\n#overlay button{\n\tdisplay: inherit;\n\tbackground: #fff;\n\tmargin: 20px; \n\tborder-radius: 5px;\n\tz-index: 1000;\n}\n\n#submit-message{\n\tdisplay: inherit;\n\tfont-size: 10px;\n\tcolor: red;\n}',""])},,function(t,e,n){"use strict";n.r(e);n(10),n(13),n(15),n(17),n(19);var r=n(1),a=n.n(r),o=(n(3),function(t){return document.querySelector(t)}),s=function(){};s.ctrlHeaderAudio=function(){var t=o("#header-video"),e=new a.a.Controller;new a.a.Scene({triggerElement:o(".header"),triggerHook:"onLeave",duration:o(".header").offsetHeight}).on("end",function(e){"FORWARD"==e.scrollDirection?(console.log("muted"),t.muted=!0):(console.log("unmuted"),t.muted=!1)}).addTo(e);return e},s.initScrollController=function(){var t=o("#progress-bar"),e=document.body,n=e.offsetHeight,r=new a.a.Controller,i=(new TimelineMax).to(t,1,{width:"100%",ease:Linear.easeNone});new a.a.Scene({triggerElement:e,triggerHook:"onLeave",duration:n,tweenChanges:!0}).setTween(i).addTo(r);return r},s.initClickNav=function(){var t=o("#progress-div"),e=(o("#progress-bar"),function(t){var e=document.body.offsetWidth,n=document.body.offsetHeight,r=parseInt(t.pageX);if(r>0){var a=n*(r/e);window.scrollTo({top:a,behavior:"smooth"})}});t.addEventListener("click",e),t.addEventListener("touchend",e)};var l=s,d=n(0),c=n.n(d),u=function(t){return document.querySelector(t)},f=function(t){return document.querySelectorAll(t)},p=function(){};p.titleChangeD=function(){var t=u(".serif"),e=u(".white"),n=u(".country-list"),r={opacity:1,ease:Linear.easeNone},o=new a.a.Controller;new a.a.Scene({triggerElement:u(".header"),triggerHook:"onLeave",duration:u(".header").offsetHeight}).on("end",function(a){"FORWARD"==a.scrollDirection?(t.style.display="block",e.style.display="none",n.style.display="block",c.a.fromTo(t,.25,{opacity:0},r),c.a.fromTo(n,.25,{opacity:0},r)):(t.style.display="none",e.style.display="block",n.style.display="none",c.a.fromTo(e,.25,{opacity:0},r))}).addTo(o);return o},p.countryControllerD=function(){var t=f(".chapter-anchor"),e=f(".country-list li"),n=new a.a.Controller;t.forEach(function(t){new a.a.Scene({triggerElement:t,duration:t.offsetHeight}).addTo(n).on("enter",function(t){e[i].classList.add("active")}).on("leave",function(t){e[i].classList.remove("active")})})};var m=p,g=function(){};g.initHashController=function(){var t,e=(t=".chapter-anchor",document.querySelectorAll(t)),n=new a.a.Controller;e.forEach(function(t){new a.a.Scene({triggerElement:t,duration:t.offsetHeight}).addTo(n).on("enter leave",function(e){var n=t.id;window.history.pushState(null,null,"#".concat(n))})})};var h=g;var v=function(t){var e=function(t){var e,n=t.elements,r=Object.keys(n).filter(function(t){return"honeypot"!==n[t].name||(e=n[t].value,!1)}).map(function(t){return void 0!==n[t].name?n[t].name:n[t].length>0?n[t].item(0).name:void 0}).filter(function(t,e,n){return n.indexOf(t)==e&&t}),a={};return r.forEach(function(t){var e=n[t];if(a[t]=e.value,e.length){for(var r=[],o=0;o<e.length;o++){var i=e.item(o);(i.checked||i.selected)&&r.push(i.value)}a[t]=r.join(", ")}}),a.progress=window.location.hash,a.url=window.location.href,r=r.concat(["progress","url"]),a.formDataNameOrder=JSON.stringify(r),a.formGoogleSheetName=t.dataset.sheet||"responses",a.formGoogleSend=t.dataset.email||"",{data:a,honeypot:e}}(t),n=document.querySelector("#submit-message"),r=e.data;if(e.honeypot)return n.innerHTML="Spam Detected!",!1;n.innerHTML="Sending...",function(t){for(var e=t.querySelectorAll("button"),n=0;n<e.length;n++)e[n].disabled=!0}(t);var a=t.action,o=new XMLHttpRequest;o.open("POST",a),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.onreadystatechange=function(){4===o.readyState&&200===o.status&&(t.reset(),n.innerHTML="Your email has been received!")};var i=Object.keys(r).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(r[t])}).join("&");o.send(i)},w={},x={isOverlayShown:!1,isEmailSaved:!1},b=function(t){return document.querySelector(t)};w.initBookmark=function(){var t,e=(t=".bookmark",document.querySelectorAll(t)),n=b("#overlay");e.forEach(function(t){t.addEventListener("click",function(t){n.style.display=x.isOverlayShown?"none":"flex",x.isOverlayShown=!x.isOverlayShown})}),n.addEventListener("click",function(t){n.style.display="none",x.isOverlayShown=!1});var r=b("#submit-reminder"),a=b("input#email"),o=b("#submit-message");a.addEventListener("click",function(t){t.stopPropagation()}),r.addEventListener("click",function(t){if(t.preventDefault(),t.stopPropagation(),o.innerHTML="",n=a.value,/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(n).toLowerCase())&&!x.isEmailSaved){var e=b("#bookmark-req-form");v(e),x.isEmailSaved=!0,a.disabled=!0,r.disabled=!0}else o.innerHTML="Invalid Email!";var n})};var k=w,y=n(2);function T(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){a=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var E={},H=function(t){return document.querySelector(t)},M=y.k().range([5,25]),S=y.m("#geo-map-container").append("svg").attr("x",0).attr("y",0).attr("viewBox","0 0 960 630").attr("id","geo-map");S.append("rect").attr("width","100%").attr("height","500").attr("fill","#3b3b3b");S.append("clipPath").attr("id","seizure-map-clip").append("rect").attr("width","100%").attr("height","500");var L=S.append("g").attr("clip-path","url(#seizure-map-clip)").attr("class","countries"),O=y.g().scale(160).translate([150,320]),C=y.h().projection(O),j=S.append("text").attr("class","vis-title").attr("transform","translate(650,140)").text("pangolins trafficked").append("tspan").attr("x",0).attr("dy","1.3em").text("(select a time range)"),D=S.append("rect").attr("transform","translate(650,106)").attr("height","5em").attr("fill","red"),z=S.append("text").attr("transform","translate(660,100)").attr("class","seizure-total").text("0"),R=S.append("g").attr("class","timeline"),A=y.m(".container").append("div").attr("class","bartip").style("display","none"),F=S.append("g").attr("transform","translate(780, 450)").attr("id","seizure-map-legend");F.append("circle").attr("x",0).attr("y",0).attr("r",6).attr("fill","rgba(240, 135, 24)").attr("stroke-width","0.5px").attr("stroke","#fff"),F.append("text").attr("x",14).attr("y",6).attr("class","legend-text").text("Current Year");var _=S.append("g").attr("id","seizure-map-play-btn").attr("transform","translate(50, 450)"),P=_.append("path").attr("id","play-pause").attr("transform","translate(-9, -9)").attr("d","M11 22h-4v-20h4v20zm6-20h-4v20h4v-20z").attr("fill","#fff"),N=_.append("path").attr("id","play-cont").attr("transform","translate(-9, -9)").attr("d","M3 22v-20l18 10-18 10z").attr("fill","#fff");function q(t,e){var n=S.selectAll("circle.seizure-bubble").data(t,function(t){return t.id});"2000"==e&&S.selectAll("circle.seizure-bubble").remove(),n.enter().append("circle").attr("class","seizure-bubble").attr("fill","rgba(240, 135, 24, 0.3)").attr("cx",function(t){return O([+t.Longitude,+t.Latitude])[0]}).attr("cy",function(t){return O([+t.Longitude,+t.Latitude])[1]}).attr("r",0).transition().duration(500).attr("r",function(t){return M(+t.ESTNUM)}),n.exit().transition().duration(500).attr("fill","rgba(201, 62, 62, 0.3)")}function I(t,e){var n=[];t.map(function(t){n.indexOf(t.YEAR)<0&&n.push(t.YEAR)});return setInterval(function(){var r=n[e.curr_idx];q(t.filter(function(t){return t.YEAR==r}),r),e.curr_idx=(e.curr_idx+1)%n.length,W(t,r)},1e3)}function W(t,e){j.text("2000 - "+e);var n=t.filter(function(t){return+t.YEAR<=e}).map(function(t){return t.ESTNUM}).reduce(function(t,e){return t+e},0);z.text("".concat(y.f(",")(Math.round(n)))),D.attr("x",z.node().getBBox().x).attr("y",z.node().getBBox().y).attr("width",+z.node().getBBox().width+20)}E.renderMap=function(){Promise.all([y.i("assets/maps/world_countries.json"),y.c("assets/data/valid-seizure-num-date.csv")]).then(function(t){var e=T(t,2),n=e[0],r=e[1],o=y.n("%Y-%m-%d %H:%M:%S"),i=[],s={},l=r.map(function(t,e){return t.TIME=o(t.Date),t.YEAR=t.TIME.getFullYear(),t.ESTNUM=+t.ESTNUM,t.Latitude=+t.Latitude,t.Longitude=+t.Longitude,s[t.TIME]?s[t.TIME]+=t.ESTNUM:s[t.TIME]=t.ESTNUM,t});Object.keys(s).forEach(function(t){i.push({TIME:new Date(t),ESTNUM:s[t]})}),i.sort(function(t,e){return t.TIME-e.TIME}),M.domain(y.e(l,function(t){return+t.ESTNUM})),function(t,e){var n={top:10,right:10,bottom:20,left:15},r=960-n.left-n.right,a=120-n.bottom;R.attr("transform","translate("+n.left+" , 510)");var o={};e.forEach(function(t){var e=t.TIME.getFullYear()+"";o[e]||(o[e]=0),o[e]+=+t.ESTNUM});var i=Object.keys(o).map(function(t){return{TIME:new Date(+t,1,1),TOTAL:o[t]}}),s=y.l().domain(y.e(e.map(function(t){return t.TIME}))).range([0,r]),l=y.j().domain(y.e(i.map(function(t){return t.TOTAL}))).range([a,0]),d=y.a(s),c=y.b(l).ticks(3).tickFormat(y.f("~s"));R.append("g").attr("class","bars").selectAll("rect").data(i,function(t){return t.id}).enter().append("rect").attr("class","bar").style("fill","#dcba7d").attr("x",function(t){return s(t.TIME)}).attr("width",Math.round(r/19)-10+"px").attr("y",function(t){return l(t.TOTAL)}).attr("height",function(t){return a-l(t.TOTAL)}).on("mouseover",function(){A.style("display","inline"),y.m(this).style("opacity",.5)}).on("mousemove",function(t){A.html(t.TIME.getFullYear()+"<hr/>"+t.TOTAL).style("left",y.d.pageX-34+"px").style("top",y.d.pageY-12+"px")}).on("mouseout",function(){A.style("display","none"),y.m(this).style("opacity",1)}),R.append("g").attr("class","x axis").attr("transform","translate(0,"+a+")").call(d),R.append("g").attr("class","y axis").call(c),R.append("text").attr("transform","rotate(-90)").attr("dy","-1em").style("text-anchor","end").style("font-size","8px").text("# Pangolins")}(0,i),d=l,c=new a.a.Controller,u=null,f=!1,p={curr_idx:0},m=function(){N.attr("fill",f?"#fff":"none"),P.attr("fill",f?"none":"#fff")},new a.a.Scene({triggerElement:H("#geo-map-container"),duration:H("#geo-map-container").offsetHeight}).on("enter",function(){console.log("enter map"),S.selectAll("circle.seizure-bubble").remove(),u=I(d,p),f=!0,m()}).on("leave",function(){console.log("leave map"),clearInterval(u),f=!1,S.selectAll("circle.seizure-bubble").remove(),q(d),W(d,2019),m()}).addTo(c),H("#seizure-map-play-btn").addEventListener("click",function(t){f?(clearInterval(u),f=!1):(u=I(d,p),f=!0),m()}),L.selectAll("path").data(n.features).enter().append("path").attr("d",C).style("fill","#694b2d");var d,c,u,f,p,m}).catch(function(t){console.log("d3 err",t)})};var K=E,B=function(t){return document.querySelector(t)},Y="assets/maps/Malaysia/mobile/",U={maps:[B("#malaysia-routes-1"),B("#malaysia-routes-2")],pics_m:["".concat(Y,"m-01.jpg"),"".concat(Y,"m-02.jpg"),"".concat(Y,"m-03.jpg"),"".concat(Y,"m-04.jpg"),"".concat(Y,"m-05.jpg"),"".concat(Y,"m-06.jpg"),"".concat(Y,"m-07.jpg")],maps_m:[B("#malaysia-routes-m-1"),B("#malaysia-routes-m-2"),B("#malaysia-routes-m-3")]};function X(t){t.map(function(t){return t.querySelector(".marker-inner")});var e=t.map(function(t){return t.querySelector(".marker-outter")});c.a.fromTo(e,1,{attr:{r:20},opacity:.4},{attr:{r:55.68},opacity:0}).repeat(-1)}function Z(t,e){t.querySelector(".routes-map-bg-m").src=e}function J(t,e,n,r){Z(e,"FORWARD"==t.scrollDirection?r:n)}U.MapCtrl1=function(){var t=U.maps[0],e={opacity:1,ease:Linear.easeNone},n={opacity:0,ease:Linear.easeNone},r=new a.a.Controller,o=B(".nav").offsetHeight+B("#progress-div").offsetHeight||0,i=new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:"300%",offset:-o,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(r).duration()/3;new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:i,offset:-o,reverse:!0}).on("enter",function(){return(new TimelineMax).add(c.a.to(B("#arrows"),.5,e)).add(c.a.to(B("#melaka-label"),.5,e))}).on("leave",function(){var t=[B("#arrows"),B("#melaka-label")];c.a.killTweensOf(t),c.a.to(t,.5,n)}).addTo(r),new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:i,offset:i-o,reverse:!0}).on("enter",function(){return(new TimelineMax).add(c.a.to(B("#forest-fill"),.5,e)).add(c.a.to(B("#forest-label"),.3,e))}).on("leave",function(){var t=[B("#forest-fill"),B("#forest-label")];c.a.killTweensOf(t),c.a.to(t,.5,n)}).addTo(r),new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:i,offset:2*i-o,reverse:!0}).setTween((new TimelineMax).add(c.a.to(B("#highway-line"),.7,{strokeDashoffset:0,ease:Linear.easeNone})).add(c.a.to([B("#bukit-text"),B("#marker-bukit")],0,e),.7).addCallback(function(){X([B("#marker-bukit")])},.7).add(c.a.to([B("#marker-rantau"),B("#marker-padang"),B("#padang-text"),B("#rantau-text")],0,e),.8).addCallback(function(){X([B("#marker-rantau"),B("#marker-padang")])},.8)).addTo(r);return r},U.MapCtrl2=function(){var t=U.maps[1],e={opacity:1,ease:Linear.easeNone},n={opacity:0,ease:Linear.easeNone},r=new a.a.Controller,o=B(".nav").offsetHeight+B("#progress-div").offsetHeight||0,i=new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:"400%",offset:-o,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(r).duration()/4;new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:i,offset:-o,reverse:!0}).on("start",function(t){if("FORWARD"==t.scrollDirection)(new TimelineMax).add(c.a.to(B("#marker-bukit-2"),.5,e)).add(c.a.to(B("#bukit-text-2"),.5,e)).addCallback(function(){X([B("#marker-bukit-2")])},1);else{var r=[B("#marker-bukit-2"),B("#bukit-text-2")];c.a.killTweensOf(r),c.a.to(r,.5,n)}}).addTo(r),new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:i,offset:i-o,reverse:!0}).on("start",function(t){if("FORWARD"==t.scrollDirection)(new TimelineMax).add(c.a.to(B("#marker-alor"),.5,e)).add(c.a.to(B("#alor-text"),.5,e)).addCallback(function(){X([B("#marker-alor")])},1);else{var r=[B("#marker-alor"),B("#alor-text")];c.a.killTweensOf(r),c.a.to(r,.5,n)}}).addTo(r),new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:i,offset:2*i-o,reverse:!0}).on("start",function(t){if("FORWARD"==t.scrollDirection)(new TimelineMax).add(c.a.to(B("#marker-sadao"),.5,e)).add(c.a.to(B("#sadao-text"),.5,e)).addCallback(function(){X([B("#marker-sadao")])},1);else{var r=[B("#marker-sadao"),B("#sadao-text")];c.a.killTweensOf(r),c.a.to(r,.5,n)}}).addTo(r),new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:i,offset:3*i-o,reverse:!0}).on("start",function(t){if("FORWARD"==t.scrollDirection)(new TimelineMax).add(c.a.to(B("#marker-police"),.5,e)).add(c.a.to(B("#kedahpolice-text"),.5,e)).addCallback(function(){X([B("#marker-police")])},1);else{var r=[B("#marker-police"),B("#kedahpolice-text")];c.a.killTweensOf(r),c.a.to(r,.5,n)}}).addTo(r);return r},U.MapCtrlM1=function(){var t=U.maps_m[0],e=new a.a.Controller,n=B(".nav").offsetHeight+B("#progress-div").offsetHeight||0,r=new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:"300%",offset:-n,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(e).duration()/3;new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:r,offset:r-n,reverse:!0}).on("start",function(e){J(e,t,U.pics_m[1],U.pics_m[0])}).addTo(e),new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:r,offset:2*r-n,reverse:!0}).on("start",function(e){J(e,t,U.pics_m[2],U.pics_m[1])}).addTo(e);return e},U.MapCtrlM2=function(){var t=U.maps_m[1],e=new a.a.Controller,n=B(".nav").offsetHeight+B("#progress-div").offsetHeight||0,r=new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:"400%",offset:-n,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(e).duration()/4;new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:r,offset:r-n,reverse:!0}).on("start",function(e){J(e,t,U.pics_m[4],U.pics_m[3])}).addTo(e),new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:r,offset:2*r-n,reverse:!0}).on("start",function(e){J(e,t,U.pics_m[5],U.pics_m[4])}).addTo(e),new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:r,offset:3*r-n,reverse:!0}).on("start",function(e){J(e,t,U.pics_m[6],U.pics_m[5])}).addTo(e);return e},U.MapCtrlM3=function(){var t=U.maps_m[2],e=new a.a.Controller,n=B(".nav").offsetHeight+B("#progress-div").offsetHeight||0;new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:"100%",offset:-n,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(e);return e};var G=U,V=(n(8),function(t){return document.querySelector(t)}),$={maps:[V("#cameroon-routes-1")],pics_m:["".concat("assets/maps/Cameroon/mobile/","m-01.jpg"),"".concat("assets/maps/Cameroon/mobile/","m-02.jpg"),"".concat("assets/maps/Cameroon/mobile/","m-03.jpg")],maps_m:[V("#cameroon-routes-m-1")]};function Q(t){t.map(function(t){return t.querySelector(".st9")});var e=t.map(function(t){return t.querySelector(".st8")});c.a.fromTo(e,1,{attr:{r:20},opacity:.4},{attr:{r:55.68},opacity:0}).repeat(-1)}function tt(t,e){t.querySelector(".routes-map-bg-m").src=e}function et(t,e,n,r){tt(e,"FORWARD"==t.scrollDirection?r:n)}function nt(t,e){t.querySelector(".routes-map-bg").src=e}$.MapCtrl1=function(){var t=$.maps[0],e={opacity:1,ease:Linear.easeNone},n={opacity:0,ease:Linear.easeNone},r=new a.a.Controller,o=V(".nav").offsetHeight+V("#progress-div").offsetHeight||0,i=new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:"300%",offset:-o,reverse:!0}).on("enter",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(r).duration()/3,s=(new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:i,offset:-o,reverse:!0}).on("enter",function(){return(new TimelineMax).add(c.a.to(V("#bertoua-text"),.25,e)).add(c.a.to(V("#abong-text"),.25,e)).add(c.a.to(V("#mindourou-text"),.25,e)).add(c.a.to(V("#lomie-text"),.25,e)).add(c.a.to(V("#djoum-text"),.25,e))}).on("leave",function(){var t=[V("#bertoua-text"),V("#abong-text"),V("#mindourou-text"),V("#lomie-text"),V("#djoum-text")];c.a.killTweensOf(t),c.a.to(t,.5,n)}).addTo(r),new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:i,offset:i-o,reverse:!0}).on("enter",function(){return(new TimelineMax).add(c.a.to(V("#cam-arrow7"),.5,e)).add(c.a.to(V("#marker-douala"),.5,e)).add(c.a.to(V("#douala-text"),.5,e)).add(c.a.to(V("#cam-arrow6"),.5,e)).add(c.a.to(V("#marker-yaounde"),.5,e)).add(c.a.to(V("#yaounde-text"),.5,e)).addCallback(function(){Q([V("#marker-douala"),V("#marker-yaounde")])},.7)}).on("leave",function(){var t=[V("#cam-arrow6"),V("#cam-arrow7"),V("#marker-douala"),V("#marker-yaounde"),V("#yaounde-text"),V("#douala-text")];c.a.killTweensOf(t),c.a.to(t,.5,n)}).addTo(r),[V("#marker-yairport"),V("#marker-dairport"),V("#cam-arrow1"),V("#cam-arrow2"),V("#cam-arrow3"),V("#cam-arrow4"),V("#cam-arrow5"),V("#yairport-text"),V("#dairport-txt")]);new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:i,offset:2*i-o,reverse:!0}).on("start",function(r){var a="FORWARD"==r.scrollDirection;if(function(t,e,n,r){"FORWARD"==t.scrollDirection?nt(e,r):nt(e,n)}(r,t,"assets/maps/Cameroon/desktop/map-01.jpg","assets/maps/Cameroon/desktop/map-02.jpg"),a)return(new TimelineMax).add(c.a.to(s,.5,e)).addCallback(function(){Q([V("#marker-yairport"),V("#marker-dairport")])},.7);c.a.killTweensOf(s),c.a.to(s,.5,n)}).addTo(r);return r},$.MapCtrlM1=function(){var t=$.maps_m[0],e=new a.a.Controller,n=V(".nav").offsetHeight+V("#progress-div").offsetHeight||0,r=new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:"300%",offset:-n,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(e).duration()/3;new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:r,offset:r-n,reverse:!0}).on("start",function(e){et(e,t,$.pics_m[0],$.pics_m[1])}).addTo(e),new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:r,offset:2*r-n,reverse:!0}).on("start",function(e){et(e,t,$.pics_m[1],$.pics_m[2])}).addTo(e);return e};var rt=$,at=function(t){return document.querySelector(t)},ot={MapCtrl1:function(){at("#indonesia-routes-1");var t={opacity:1,ease:Linear.easeNone},e={opacity:0,ease:Linear.easeNone},n=[at("#indonesia-marker-1"),at("#indonesia-marker-2"),at("#indonesia-marker-3"),at("#indonesia-marker-4"),at("#indonesia-marker-5"),at("#indonesia-marker-6")],r=[at("#indonesia-caption-1"),at("#indonesia-caption-2"),at("#indonesia-caption-3"),at("#indonesia-caption-4"),at("#indonesia-caption-5"),at("#indonesia-caption-6")];n.forEach(function(n,a){n.addEventListener("click",function(n){return(new TimelineMax).add(c.a.to(r,0,e)).add(c.a.to(r[a],.5,t))})})},MapCtrlM1:function(){var t=at("#indonesia-routes-m-1"),e=new a.a.Controller,n=at(".nav").offsetHeight+at("#progress-div").offsetHeight||0;new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:"100%",offset:-n,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(e);return e},MapCtrlM1Click:function(){var t={opacity:1,ease:Linear.easeNone},e={opacity:0,ease:Linear.easeNone},n=[at("#indonesia-marker-m-1"),at("#indonesia-marker-m-2"),at("#indonesia-marker-m-3"),at("#indonesia-marker-m-4"),at("#indonesia-marker-m-5"),at("#indonesia-marker-m-6")],r=[at("#indonesia-caption-m-1"),at("#indonesia-caption-m-2"),at("#indonesia-caption-m-3"),at("#indonesia-caption-m-4"),at("#indonesia-caption-m-5"),at("#indonesia-caption-m-6")];n.forEach(function(n,a){n.addEventListener("touchend",function(n){return r.forEach(function(t){t.style.zIndex=3}),(new TimelineMax).add(c.a.to(r,0,e)).add(c.a.to(r[a],.5,t))})}),r.forEach(function(t){t.addEventListener("touchend",function(t){r.forEach(function(t){t.style.zIndex=1}),c.a.to(r,0,e)})})}},it=ot,st=function(t){return document.querySelector(t)},lt={MapCtrl:function(){var t=st("#nepal-routes-1"),e={opacity:1,ease:Linear.easeNone},n={opacity:0,ease:Linear.easeNone},r=new a.a.Controller,o=st(".nav").offsetHeight+st("#progress-div").offsetHeight||0,i=new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:"300%",offset:-o,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!0})}).addTo(r).duration()/3;new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:i,offset:-o,reverse:!0}).on("start",function(t){if("FORWARD"==t.scrollDirection)return(new TimelineMax).add(c.a.to([st("#marker-ndjili"),st("#n_djili-text")],.5,e));var r=[st("#marker-ndjili"),st("#n_djili-text")];c.a.killTweensOf(r),c.a.to(r,.5,n)}).addTo(r),new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:i,offset:i-o,reverse:!0}).on("start",function(t){if("FORWARD"==t.scrollDirection)return(new TimelineMax).add(c.a.to(st("#ndjili-line path"),1,{strokeDashoffset:0,ease:Power2.easeOut})).add(c.a.to([st("#marker-istanbul"),st("#istanbul-text")],.5,e));var r=[st("#ndjili-line path"),st("#marker-istanbul"),st("#istanbul-text")];c.a.killTweensOf(r),c.a.to([st("#marker-istanbul"),st("#istanbul-text")],.5,n),c.a.to(st("#ndjili-line path"),.5,{strokeDashoffset:852.44,ease:Linear.easeNone})}).addTo(r),new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:i,offset:2*i-o,reverse:!0}).on("start",function(t){if("FORWARD"==t.scrollDirection)return(new TimelineMax).add(c.a.to(st("#istanbul-line path"),1,{strokeDashoffset:0,ease:Power2.easeOut})).add(c.a.to([st("#marker-tribhuvan"),st("#tribhuvan-text")],.5,e));var r=[st("#marker-tribhuvan"),st("#tribhuvan-text"),st("#istanbul-line path")];c.a.killTweensOf(r),c.a.to([st("#marker-tribhuvan"),st("#tribhuvan-text")],.5,n),c.a.to(st("#istanbul-line path"),.5,{strokeDashoffset:966,ease:Linear.easeNone})}).addTo(r);return r},MapCtrlM:function(){var t=st("#nepal-routes-m-1"),e=new a.a.Controller,n=st(".nav").offsetHeight+st("#progress-div").offsetHeight||0;new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:"100%",offset:-n,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(e);return e}},dt=lt,ct=function(t){return document.querySelector(t)},ut={};function ft(t,e){t.querySelector(".routes-map-bg-m").src=e}function pt(t,e,n,r){ft(e,"FORWARD"==t.scrollDirection?r:n)}function mt(t,e){t.querySelector(".routes-map-bg").src=e}ut.MapCtrl=function(){var t=ct("#hk-routes-1"),e={opacity:1,ease:Linear.easeNone},n={opacity:0,ease:Linear.easeNone},r=new a.a.Controller,o=ct(".nav").offsetHeight+ct("#progress-div").offsetHeight||0,i=new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:"500%",offset:-o,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(r).duration()/5;new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:i,offset:-o,reverse:!0}).on("start",function(t){var r="FORWARD"==t.scrollDirection,a=[ct("#hk-ndjili-line"),ct("#hk-marker-ndjili"),ct("#hk-n_djili-text"),ct("#marker-casablanca"),ct("#casablanca-text")];if(r)return(new TimelineMax).add(c.a.to([ct("#hk-marker-ndjili"),ct("#hk-n_djili-text")],.3,e)).add(c.a.to(ct("#hk-ndjili-line path"),1,{strokeDashoffset:0,ease:Power2.easeOut})).add(c.a.to([ct("#marker-casablanca"),ct("#casablanca-text")],.3,e));c.a.killTweensOf(a),c.a.to([ct("#hk-marker-ndjili"),ct("#hk-n_djili-text"),ct("#marker-casablanca"),ct("#casablanca-text")],.5,n),c.a.to(ct("#hk-ndjili-line path"),.5,{strokeDashoffset:512.72,ease:Power2.easeOut})}).addTo(r),new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:i,offset:i-o,reverse:!0}).on("start",function(t){var r="FORWARD"==t.scrollDirection,a=[ct("#casablanca-line"),ct("#hamad-text"),ct("#marker-hamad")];if(r)return(new TimelineMax).add(c.a.to(ct("#casablanca-line path"),1,{strokeDashoffset:1310.86,ease:Power2.easeOut})).add(c.a.to([ct("#hamad-text"),ct("#marker-hamad")],.3,e));c.a.killTweensOf(a),c.a.to([ct("#hamad-text"),ct("#marker-hamad")],.5,n),c.a.to(ct("#casablanca-line path"),.5,{strokeDashoffset:655.43,ease:Power2.easeOut})}).addTo(r),new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:i,offset:2*i-o,reverse:!0}).on("start",function(t){var r="FORWARD"==t.scrollDirection,a=[ct("#hamad-line"),ct("#HK-text"),ct("#marker-HK")];if(r)return(new TimelineMax).add(c.a.to(ct("#hamad-line path"),1,{strokeDashoffset:1353.06,ease:Power2.easeOut})).add(c.a.to([ct("#HK-text"),ct("#marker-HK")],.3,e));c.a.killTweensOf(a),c.a.to([ct("#HK-text"),ct("#marker-HK")],.5,n),c.a.to(ct("#hamad-line path"),.5,{strokeDashoffset:676.53,ease:Power2.easeOut})}).addTo(r),new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:i,offset:3*i-o,reverse:!0}).on("start",function(r){!function(t,e,n,r){"FORWARD"==t.scrollDirection?mt(e,r):mt(e,n)}(r,t,"assets/maps/HK/desktop/map-01.jpg","assets/maps/HK/desktop/map-02.jpg");var a="FORWARD"==r.scrollDirection,o=[ct("#hk-ndjili-line"),ct("#hk-marker-ndjili"),ct("#hk-n_djili-text"),ct("#marker-casablanca"),ct("#casablanca-text"),ct("#casablanca-line"),ct("#hamad-text"),ct("#marker-hamad"),ct("#hamad-line"),ct("#HK-text"),ct("#marker-HK")],i=[ct("#hk-line"),ct("#marker-HK-2"),ct("#HK-text-2")];if(a)return ct("#hk-text-static").style.display="none",(new TimelineMax).add(c.a.to(o,.5,n)).add(c.a.to(ct("#hk-line path"),1,{strokeDashoffset:2320.86,ease:Power2.easeOut})).add(c.a.to([ct("#marker-HK-2"),ct("#HK-text-2")],.5,e));ct("#hk-text-static").style.display="flex",c.a.to(o,.5,e),c.a.killTweensOf(i),c.a.to([ct("#marker-HK-2"),ct("#HK-text-2")],.5,n),c.a.to(ct("#hk-line path"),1,{strokeDashoffset:1160.43,ease:Power2.easeOut})}).addTo(r),new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:i,offset:4*i-o,reverse:!0}).on("start",function(t){var r="FORWARD"==t.scrollDirection,a=[ct("#macau-line"),ct("#marker-macau"),ct("#macau-text"),ct("#marker-HK-3"),ct("#HK-text-3")];r?(c.a.to([ct("#marker-macau"),ct("#macau-text"),ct("#marker-HK-3"),ct("#HK-text-3")],.5,e),c.a.to(ct("#macau-line"),.5,{opacity:.5,ease:Linear.easeNone})):(c.a.killTweensOf(a),c.a.to(a,.5,n))}).addTo(r);return r},ut.MapCtrlM=function(){var t=ct("#hk-routes-m-1"),e=new a.a.Controller,n=ct(".nav").offsetHeight+ct("#progress-div").offsetHeight||0,r=new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:"300%",offset:-n,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(e).duration()/3;new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:r,offset:r-n,reverse:!0}).on("start",function(e){pt(e,t,"assets/maps/HK/mobile/m-map-01.jpg","assets/maps/HK/mobile/m-map-02.jpg")}).addTo(e),new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:r,offset:2*r-n,reverse:!0}).on("start",function(e){pt(e,t,"assets/maps/HK/mobile/m-map-02.jpg","assets/maps/HK/mobile/m-map-03.jpg")}).addTo(e);return e};var gt=ut,ht=function(t){return document.querySelector(t)},vt={};function wt(t,e){t.querySelector(".routes-map-bg").src=e}vt.MapCtrl=function(){var t=ht("#vietnam-routes-1"),e={opacity:1,ease:Linear.easeNone},n={opacity:0,ease:Linear.easeNone},r=new a.a.Controller,o=ht(".nav").offsetHeight+ht("#progress-div").offsetHeight||0,i=new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:"300%",offset:-o,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!0})}).addTo(r).duration()/3;new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:i,offset:-o,reverse:!0}).on("start",function(t){var r="FORWARD"==t.scrollDirection,a=[ht("#marker-cau"),ht("#cau-text"),ht("#mongcai-line"),ht("#marker-mong"),ht("#mong-text")];if(r)return(new TimelineMax).add(c.a.to([ht("#marker-cau"),ht("#cau-text")],.5,e)).add(c.a.to(ht("#mongcai-line"),1,{strokeDashoffset:2429.2,ease:Power2.easeOut})).add(c.a.to([ht("#marker-mong"),ht("#mong-text")],.5,e));c.a.killTweensOf(a),c.a.to([ht("#marker-cau"),ht("#cau-text"),ht("#marker-mong"),ht("#mong-text")],.5,n),c.a.to(ht("#mongcai-line"),.5,{strokeDashoffset:1214.6,ease:Power2.easeOut})}).addTo(r),new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:i,offset:i-o,reverse:!0}).on("start",function(t){var r="FORWARD"==t.scrollDirection,a=[ht("#vietnam-circles"),ht("#vietnam-legend")];if(r)return(new TimelineMax).add(c.a.to([ht("#marker-cau"),ht("#marker-mong")],.5,n),0).add(c.a.to(a,.5,e),0);c.a.killTweensOf(a),c.a.to(a,.5,n),c.a.to([ht("#marker-cau"),ht("#marker-mong")],.5,e)}).on("end",function(t){var r="FORWARD"==t.scrollDirection,a=[ht("#cau-text"),ht("#mongcai-line"),ht("#mong-text"),ht("#vietnam-circles"),ht("#vietnam-legend")];r?c.a.to(a,.5,n):(c.a.killTweensOf(a),c.a.to(a,.5,e))}).addTo(r),new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:i,offset:2*i-o,reverse:!0}).on("start",function(e){!function(t,e,n,r){"FORWARD"==t.scrollDirection?wt(e,r):wt(e,n)}(e,t,"assets/maps/Vietnam/desktop/map-01.jpg","assets/maps/Vietnam/desktop/map-02.jpg")}).addTo(r);return r},vt.MapCtrlM=function(){var t=ht("#vietnam-routes-m-1"),e=new a.a.Controller,n=ht(".nav").offsetHeight+ht("#progress-div").offsetHeight||0;new a.a.Scene({triggerElement:t,triggerHook:"onLeave",duration:"100%",offset:-n,reverse:!0}).on("start",function(){this.setPin(this.triggerElement(),{pushFollowers:!1})}).addTo(e);return e};var xt=vt,bt={},kt=!1;bt.init=function(t){return kt||(console.log("init called once"),it.MapCtrl1(),it.MapCtrlM1Click(),kt=!0),t?[G.MapCtrl1(),G.MapCtrl2(),dt.MapCtrl(),rt.MapCtrl1(),gt.MapCtrl(),xt.MapCtrl()]:[G.MapCtrlM1(),G.MapCtrlM2(),G.MapCtrlM3(),it.MapCtrlM1(),dt.MapCtrlM(),rt.MapCtrlM1(),gt.MapCtrlM(),xt.MapCtrlM()]};var yt=bt;function Tt(t){var e=document.querySelector("#header-video"),n=document.querySelector("#header-video > source");t?(e.poster="assets/images/header-image-desktop.jpg",n.src="assets/images/pangolinreports_header.mp4",e.load()):(e.poster="assets/images/header-thumbnail-portrait.jpg",n.src="assets/images/pangolinreports_header_portrait.mp4",e.load())}window.addEventListener("DOMContentLoaded",function(){var t=window.matchMedia("(min-device-width: 480px)").matches;Tt(t);var e=l.ctrlHeaderAudio(),n=l.initScrollController();l.initClickNav(),m.titleChangeD(),m.countryControllerD(),h.initHashController(),k.initBookmark(),K.renderMap();var r=yt.init(t);window.onresize=function(){var a=window.matchMedia("(min-device-width: 480px)").matches;a!=t&&(console.log("device changed"),Tt(a),t=a,r.forEach(function(t){t.destroy(!0)}),yt.init(a)),e.destroy(!0),e=l.ctrlHeaderAudio(),n.destroy(!0),n=l.initScrollController()}})}]);